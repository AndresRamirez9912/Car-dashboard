"use strict";(self.webpackChunkpeluche=self.webpackChunkpeluche||[]).push([[179],{650:()=>{function ze(n){return"function"==typeof n}function qu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Qp=qu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ml(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Zn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ze(r))try{r()}catch(s){e=s instanceof Qp?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{FR(s)}catch(o){e=e??[],o instanceof Qp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FR(e);else{if(e instanceof Zn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ml(t,e)}remove(e){const{_finalizers:t}=this;t&&ml(t,e),e instanceof Zn&&e._removeParent(this)}}Zn.EMPTY=(()=>{const n=new Zn;return n.closed=!0,n})();const kR=Zn.EMPTY;function OR(n){return n instanceof Zn||n&&"closed"in n&&ze(n.remove)&&ze(n.add)&&ze(n.unsubscribe)}function FR(n){ze(n)?n():n.unsubscribe()}const Wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yp={setTimeout(n,e,...t){const{delegate:r}=Yp;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Yp;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function VR(n){Yp.setTimeout(()=>{const{onUnhandledError:e}=Wo;if(!e)throw n;e(n)})}function DI(){}const zq=AI("C",void 0,void 0);function AI(n,e,t){return{kind:n,value:e,error:t}}let Go=null;function Xp(n){if(Wo.useDeprecatedSynchronousErrorHandling){const e=!Go;if(e&&(Go={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Go;if(Go=null,t)throw r}}else n()}class SI extends Zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,OR(e)&&e.add(this)):this.destination=Yq}static create(e,t,r){return new Ku(e,t,r)}next(e){this.isStopped?PI(function Wq(n){return AI("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?PI(function Hq(n){return AI("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?PI(zq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qq=Function.prototype.bind;function xI(n,e){return qq.call(n,e)}class Kq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jp(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jp(r)}else Jp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jp(t)}}}class Ku extends SI{constructor(e,t,r){let i;if(super(),ze(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Wo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xI(e.next,s),error:e.error&&xI(e.error,s),complete:e.complete&&xI(e.complete,s)}):i=e}this.destination=new Kq(i)}}function Jp(n){Wo.useDeprecatedSynchronousErrorHandling?function Gq(n){Wo.useDeprecatedSynchronousErrorHandling&&Go&&(Go.errorThrown=!0,Go.error=n)}(n):VR(n)}function PI(n,e){const{onStoppedNotification:t}=Wo;t&&Yp.setTimeout(()=>t(n,e))}const Yq={closed:!0,next:DI,error:function Qq(n){throw n},complete:DI},RI="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ls(n){return n}function LR(...n){return BR(n)}function BR(n){return 0===n.length?Ls:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let _t=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Jq(n){return n&&n instanceof SI||function Xq(n){return n&&ze(n.next)&&ze(n.error)&&ze(n.complete)}(n)&&OR(n)}(t)?t:new Ku(t,r,i);return Xp(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=UR(r))((i,s)=>{const o=new Ku({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[RI](){return this}pipe(...t){return BR(t)(this)}toPromise(t){return new(t=UR(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function UR(n){var e;return null!==(e=n??Wo.Promise)&&void 0!==e?e:Promise}const Zq=qu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qr=(()=>{class n extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new jR(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zq}next(t){Xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?kR:(this.currentObservers=null,s.push(t),new Zn(()=>{this.currentObservers=null,ml(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new _t;return t.source=this,t}}return n.create=(e,t)=>new jR(e,t),n})();class jR extends qr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:kR}}function $R(n){return ze(n?.lift)}function $t(n){return e=>{if($R(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Lt(n,e,t,r,i){return new e9(n,e,t,r,i)}class e9 extends SI{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return $t((t,r)=>{let i=0;t.subscribe(Lt(r,s=>{r.next(n.call(e,s,i++))}))})}function kI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Bs(n){return this instanceof Bs?(this.v=n,this):new Bs(n)}function GR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function FI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const qR=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function KR(n){return ze(n?.then)}function QR(n){return ze(n[RI])}function YR(n){return Symbol.asyncIterator&&ze(n?.[Symbol.asyncIterator])}function XR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JR=function E9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZR(n){return ze(n?.[JR])}function eM(n){return function WR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Bs?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Bs(t.read());if(i)return yield Bs(void 0);yield yield Bs(r)}}finally{t.releaseLock()}})}function tM(n){return ze(n?.getReader)}function pr(n){if(n instanceof _t)return n;if(null!=n){if(QR(n))return function w9(n){return new _t(e=>{const t=n[RI]();if(ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(qR(n))return function b9(n){return new _t(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(KR(n))return function C9(n){return new _t(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,VR)})}(n);if(YR(n))return nM(n);if(ZR(n))return function T9(n){return new _t(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(tM(n))return function D9(n){return nM(eM(n))}(n)}throw XR(n)}function nM(n){return new _t(e=>{(function A9(n,e){var t,r,i,s;return function zR(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=GR(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Wi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function an(n,e,t=1/0){return ze(e)?an((r,i)=>Ne((s,o)=>e(r,s,i,o))(pr(n(r,i))),t):("number"==typeof e&&(t=e),$t((r,i)=>function S9(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;pr(t(g,u++)).subscribe(Lt(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const y=l.shift();o?Wi(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(Lt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function _l(n=1/0){return an(Ls,n)}const di=new _t(n=>n.complete());function VI(n){return n[n.length-1]}function rM(n){return ze(VI(n))?n.pop():void 0}function Qu(n){return function P9(n){return n&&ze(n.schedule)}(VI(n))?n.pop():void 0}function Zp(n,e=0){return $t((t,r)=>{t.subscribe(Lt(r,i=>Wi(r,n,()=>r.next(i),e),()=>Wi(r,n,()=>r.complete(),e),i=>Wi(r,n,()=>r.error(i),e)))})}function eg(n,e=0){return $t((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function iM(n,e){if(!n)throw new Error("Iterable cannot be null");return new _t(t=>{Wi(t,e,()=>{const r=n[Symbol.asyncIterator]();Wi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qt(n,e){return e?function V9(n,e){if(null!=n){if(QR(n))return function M9(n,e){return pr(n).pipe(eg(e),Zp(e))}(n,e);if(qR(n))return function k9(n,e){return new _t(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(KR(n))return function N9(n,e){return pr(n).pipe(eg(e),Zp(e))}(n,e);if(YR(n))return iM(n,e);if(ZR(n))return function O9(n,e){return new _t(t=>{let r;return Wi(t,e,()=>{r=n[JR](),Wi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ze(r?.return)&&r.return()})}(n,e);if(tM(n))return function F9(n,e){return iM(eM(n),e)}(n,e)}throw XR(n)}(n,e):pr(n)}class Mr extends qr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function te(...n){return Qt(n,Qu(n))}function sM(n={}){const{connector:e=(()=>new qr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return $t((g,m)=>{c++,!d&&!u&&h();const y=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=LI(p,i))}),y.subscribe(m),!o&&c>0&&(o=new Ku({next:_=>y.next(_),error:_=>{d=!0,h(),a=LI(f,t,_),y.error(_)},complete:()=>{u=!0,h(),a=LI(f,r),y.complete()}}),pr(g).subscribe(o))})(s)}}function LI(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ku({next:()=>{r.unsubscribe(),n()}});return pr(e(...t)).subscribe(r)}function hi(n,e){return $t((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Lt(r,l=>{i?.unsubscribe();let c=0;const u=s++;pr(n(l,u)).subscribe(i=Lt(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function U9(n,e){return n===e}function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function tg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(zt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function BI(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const j9=Fe({__forward_ref__:Fe});function Ke(n){return n.__forward_ref__=Ke,n.toString=function(){return zt(this())},n}function J(n){return UI(n)?n():n}function UI(n){return"function"==typeof n&&n.hasOwnProperty(j9)&&n.__forward_ref__===Ke}function jI(n){return n&&!!n.\u0275providers}class M extends Error{constructor(e,t){super(function ng(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function $I(n,e){throw new M(-201,!1)}function Nr(n,e){null==n&&function Y(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function rg(n){return aM(n,sg)||aM(n,lM)}function aM(n,e){return n.hasOwnProperty(e)?n[e]:null}function ig(n){return n&&(n.hasOwnProperty(zI)||n.hasOwnProperty(Q9))?n[zI]:null}const sg=Fe({\u0275prov:Fe}),zI=Fe({\u0275inj:Fe}),lM=Fe({ngInjectableDef:Fe}),Q9=Fe({ngInjectorDef:Fe});var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{});let HI;function er(n){const e=HI;return HI=n,e}function uM(n,e,t){const r=rg(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&me.Optional?null:void 0!==e?e:void $I(zt(n))}const Qe=globalThis;class ${constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yu={},QI="__NG_DI_FLAG__",og="ngTempTokenPath",J9=/\n/gm,hM="__source";let yl;function Us(n){const e=yl;return yl=n,e}function t6(n,e=me.Default){if(void 0===yl)throw new M(-203,!1);return null===yl?uM(n,void 0,e):yl.get(n,e&me.Optional?null:void 0,e)}function K(n,e=me.Default){return(function cM(){return HI}()||t6)(J(n),e)}function z(n,e=me.Default){return K(n,ag(e))}function ag(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function YI(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],l=n6(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function Xu(n,e){return n[QI]=e,n.prototype[QI]=e,n}function n6(n){return n[QI]}function Gi(n){return{toString:n}.toString()}var lg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(lg||{}),Kr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kr||{});const fi={},Ae=[],cg=Fe({\u0275cmp:Fe}),XI=Fe({\u0275dir:Fe}),JI=Fe({\u0275pipe:Fe}),pM=Fe({\u0275mod:Fe}),qi=Fe({\u0275fac:Fe}),Ju=Fe({__NG_ELEMENT_ID__:Fe}),gM=Fe({__NG_ENV_ID__:Fe});function mM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function ZI(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];yM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function _M(n){return 3===n||4===n||6===n}function yM(n){return 64===n.charCodeAt(0)}function Zu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||vM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function vM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const IM="ng-template";function s6(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==mM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function EM(n){return 4===n.type&&n.value!==IM}function o6(n,e,t){return e===(4!==n.type||t?n.value:IM)}function a6(n,e,t){let r=4;const i=n.attrs||[],s=function u6(n){for(let e=0;e<n.length;e++)if(_M(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!o6(n,l,t)||""===l&&1===e.length){if(Qr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!s6(n.attrs,c,t)){if(Qr(r))return!1;o=!0}continue}const d=l6(8&r?"class":l,i,EM(n),t);if(-1===d){if(Qr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==mM(f,c,0)||2&r&&c!==h){if(Qr(r))return!1;o=!0}}}}else{if(!o&&!Qr(r)&&!Qr(l))return!1;if(o&&Qr(l))continue;o=!1,r=l|1&r}}return Qr(r)||o}function Qr(n){return 0==(1&n)}function l6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function d6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function wM(n,e,t=!1){for(let r=0;r<e.length;r++)if(a6(n,e[r],t))return!0;return!1}function bM(n,e){return n?":not("+e.trim()+")":e}function f6(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qr(o)&&(e+=bM(s,i),i=""),r=o,s=s||!Qr(r);t++}return""!==i&&(e+=bM(s,i)),e}function Ko(n){return Gi(()=>{const e=TM(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===lg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,styles:n.styles||Ae,_:null,schemas:n.schemas||null,tView:null,id:""};DM(t);const r=n.dependencies;return t.directiveDefs=ug(r,!1),t.pipeDefs=ug(r,!0),t.id=function E6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function _6(n){return be(n)||ln(n)}function y6(n){return null!==n}function tr(n){return Gi(()=>({type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function CM(n,e){if(null==n)return fi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Z(n){return Gi(()=>{const e=TM(n);return DM(e),e})}function be(n){return n[cg]||null}function ln(n){return n[XI]||null}function Un(n){return n[JI]||null}function mr(n,e){const t=n[pM]||null;if(!t&&!0===e)throw new Error(`Type ${zt(n)} does not have '\u0275mod' property.`);return t}function TM(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||fi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CM(n.inputs,e),outputs:CM(n.outputs)}}function DM(n){n.features?.forEach(e=>e(n))}function ug(n,e){if(!n)return null;const t=e?Un:_6;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(y6)}const Et=0,L=1,ae=2,dt=3,Yr=4,ed=5,En=6,Il=7,St=8,js=9,El=10,ie=11,td=12,AM=13,wl=14,xt=15,nd=16,bl=17,pi=18,rd=19,SM=20,$s=21,Ki=22,id=23,sd=24,_e=25,eE=1,xM=2,gi=7,Cl=9,cn=11;function rr(n){return Array.isArray(n)&&"object"==typeof n[eE]}function jn(n){return Array.isArray(n)&&!0===n[eE]}function tE(n){return 0!=(4&n.flags)}function Qo(n){return n.componentOffset>-1}function hg(n){return 1==(1&n.flags)}function Xr(n){return!!n.template}function nE(n){return 0!=(512&n[ae])}function Yo(n,e){return n.hasOwnProperty(qi)?n[qi]:null}let un=null,fg=!1;function kr(n){const e=un;return un=n,e}const MM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function kM(n){if(!ad(n)||n.dirty){if(!n.producerMustRecompute(n)&&!VM(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function FM(n){n.dirty=!0,function OM(n){if(void 0===n.liveConsumerNode)return;const e=fg;fg=!0;try{for(const t of n.liveConsumerNode)t.dirty||FM(t)}finally{fg=e}}(n),n.consumerMarkedDirty?.(n)}function iE(n){return n&&(n.nextProducerIndex=0),kr(n)}function sE(n,e){if(kr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ad(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)pg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function VM(n){Tl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kM(t),r!==t.version))return!0}return!1}function LM(n){if(Tl(n),ad(n))for(let e=0;e<n.producerNode.length;e++)pg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function pg(n,e){if(function UM(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Tl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)pg(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Tl(i),i.producerIndexOfThis[r]=e}}function ad(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Tl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let jM=null;const WM=()=>{},k6=(()=>({...MM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:WM}))();class O6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function _r(){return GM}function GM(n){return n.type.prototype.ngOnChanges&&(n.setInput=V6),F6}function F6(){const n=KM(this),e=n?.current;if(e){const t=n.previous;if(t===fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function V6(n,e,t,r){const i=this.declaredInputs[t],s=KM(n)||function L6(n,e){return n[qM]=e}(n,{previous:fi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new O6(l&&l.currentValue,e,a===fi),n[r]=e}_r.ngInherit=!0;const qM="__ngSimpleChanges__";function KM(n){return n[qM]||null}const mi=function(n,e,t){};function Ye(n){for(;Array.isArray(n);)n=n[Et];return n}function gg(n,e){return Ye(e[n])}function ir(n,e){return Ye(e[n.index])}function XM(n,e){return n.data[e]}function yr(n,e){const t=e[n];return rr(t)?t:t[Et]}function Hs(n,e){return null==e?null:n[e]}function JM(n){n[bl]=0}function H6(n){1024&n[ae]||(n[ae]|=1024,eN(n,1))}function ZM(n){1024&n[ae]&&(n[ae]&=-1025,eN(n,-1))}function eN(n,e){let t=n[dt];if(null===t)return;t[ed]+=e;let r=t;for(t=t[dt];null!==t&&(1===e&&1===r[ed]||-1===e&&0===r[ed]);)t[ed]+=e,r=t,t=t[dt]}const X={lFrame:dN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rN(){return X.bindingsEnabled}function D(){return X.lFrame.lView}function Ce(){return X.lFrame.tView}function dn(){let n=iN();for(;null!==n&&64===n.type;)n=n.parent;return n}function iN(){return X.lFrame.currentTNode}function _i(n,e){const t=X.lFrame;t.currentTNode=n,t.isParent=e}function uE(){return X.lFrame.isParent}function Sl(){return X.lFrame.bindingIndex++}function i8(n,e){const t=X.lFrame;t.bindingIndex=t.bindingRootIndex=n,hE(e)}function hE(n){X.lFrame.currentDirectiveIndex=n}function pE(n){X.lFrame.currentQueryIndex=n}function o8(n){const e=n[L];return 2===e.type?e.declTNode:1===e.type?n[En]:null}function cN(n,e,t){if(t&me.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&me.Host||(i=o8(s),null===i||(s=s[wl],10&i.type))););if(null===i)return!1;e=i,n=s}const r=X.lFrame=uN();return r.currentTNode=e,r.lView=n,!0}function gE(n){const e=uN(),t=n[L];X.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uN(){const n=X.lFrame,e=null===n?null:n.child;return null===e?dN(n):e}function dN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function hN(){const n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fN=hN;function mE(){const n=hN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zn(){return X.lFrame.selectedIndex}function Xo(n){X.lFrame.selectedIndex=n}let gN=!0;function mg(){return gN}function Ws(n){gN=n}function _g(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function yg(n,e,t){mN(n,e,3,t)}function vg(n,e,t,r){(3&n[ae])===t&&mN(n,e,t,r)}function _E(n,e){let t=n[ae];(3&t)===e&&(t&=8191,t+=1,n[ae]=t)}function mN(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[bl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[bl]+=65536),(a<s||-1==s)&&(p8(n,t,e,l),n[bl]=(4294901760&n[bl])+l+2),l++}function _N(n,e){mi(4,n,e);const t=kr(null);try{e.call(n)}finally{kr(t),mi(5,n,e)}}function p8(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[ae]>>13<n[bl]>>16&&(3&n[ae])===e&&(n[ae]+=8192,_N(a,s)):_N(a,s)}const xl=-1;class cd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function vE(n){return n!==xl}function ud(n){return 32767&n}function dd(n,e){let t=function y8(n){return n>>16}(n),r=e;for(;t>0;)r=r[wl],t--;return r}let IE=!0;function Ig(n){const e=IE;return IE=n,e}const yN=255,vN=5;let v8=0;const yi={};function Eg(n,e){const t=IN(n,e);if(-1!==t)return t;const r=e[L];r.firstCreatePass&&(n.injectorIndex=e.length,EE(r.data,n),EE(e,null),EE(r.blueprint,null));const i=wg(n,e),s=n.injectorIndex;if(vE(i)){const o=ud(i),a=dd(i,e),l=a[L].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function EE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function IN(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function wg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=AN(i),null===r)return xl;if(t++,i=i[wl],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xl}function wE(n,e,t){!function I8(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ju)&&(r=t[Ju]),null==r&&(r=t[Ju]=v8++);const i=r&yN;e.data[n+(i>>vN)]|=1<<i}(n,e,t)}function EN(n,e,t){if(t&me.Optional||void 0!==n)return n;$I()}function wN(n,e,t,r){if(t&me.Optional&&void 0===r&&(r=null),!(t&(me.Self|me.Host))){const i=n[js],s=er(void 0);try{return i?i.get(e,r,t&me.Optional):uM(e,r,t&me.Optional)}finally{er(s)}}return EN(r,0,t)}function bN(n,e,t,r=me.Default,i){if(null!==n){if(2048&e[ae]&&!(r&me.Self)){const o=function D8(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[ae]&&!(512&o[ae]);){const a=CN(s,o,t,r|me.Self,yi);if(a!==yi)return a;let l=s.parent;if(!l){const c=o[SM];if(c){const u=c.get(t,yi,r);if(u!==yi)return u}l=AN(o),o=o[wl]}s=l}return i}(n,e,t,r,yi);if(o!==yi)return o}const s=CN(n,e,t,r,yi);if(s!==yi)return s}return wN(e,t,r,i)}function CN(n,e,t,r,i){const s=function b8(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ju)?n[Ju]:void 0;return"number"==typeof e?e>=0?e&yN:T8:e}(t);if("function"==typeof s){if(!cN(e,n,r))return r&me.Host?EN(i,0,r):wN(e,t,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;$I()}finally{fN()}}else if("number"==typeof s){let o=null,a=IN(n,e),l=xl,c=r&me.Host?e[xt][En]:null;for((-1===a||r&me.SkipSelf)&&(l=-1===a?wg(n,e):e[a+8],l!==xl&&DN(r,!1)?(o=e[L],a=ud(l),e=dd(l,e)):a=-1);-1!==a;){const u=e[L];if(TN(s,a,u.data)){const d=w8(a,e,t,o,r,c);if(d!==yi)return d}l=e[a+8],l!==xl&&DN(r,e[L].data[a+8]===c)&&TN(s,a,e)?(o=u,a=ud(l),e=dd(l,e)):a=-1}}return i}function w8(n,e,t,r,i,s){const o=e[L],a=o.data[n+8],u=function bg(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Xr(f)&&f.type===t)return l}return null}(a,o,t,null==r?Qo(a)&&IE:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==u?Jo(e,o,u,a):yi}function Jo(n,e,t,r){let i=n[t];const s=e.data;if(function g8(n){return n instanceof cd}(i)){const o=i;o.resolving&&function $9(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=Ig(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?er(o.injectImpl):null;cN(n,r,me.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function f8(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=GM(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&er(c),Ig(a),o.resolving=!1,fN()}}return i}function TN(n,e,t){return!!(t[e+(n>>vN)]&1<<n)}function DN(n,e){return!(n&me.Self||n&me.Host&&e)}class Hn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return bN(this._tNode,this._lView,e,ag(r),t)}}function T8(){return new Hn(dn(),D())}function hn(n){return Gi(()=>{const e=n.prototype.constructor,t=e[qi]||bE(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[qi]||bE(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function bE(n){return UI(n)?()=>{const e=bE(J(n));return e&&e()}:Yo(n)}function AN(n){const e=n[L],t=e.type;return 2===t?e.declTNode:1===t?n[En]:null}const Rl="__parameters__";function Nl(n,e,t){return Gi(()=>{const r=function CE(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Rl)?l[Rl]:Object.defineProperty(l,Rl,{value:[]})[Rl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ol(n,e){n.forEach(t=>Array.isArray(t)?Ol(t,e):e(t))}function xN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Tg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vr(n,e,t){let r=Fl(n,e);return r>=0?n[1|r]=t:(r=~r,function N8(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function TE(n,e){const t=Fl(n,e);if(t>=0)return n[1|t]}function Fl(n,e){return function PN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const fn=Xu(Nl("Optional"),8),Ag=Xu(Nl("SkipSelf"),4);function Mg(n){return 128==(128&n.flags)}var Gs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Gs||{});const PE=new Map;let r7=0;const ME="__ngContext__";function wn(n,e){rr(e)?(n[ME]=e[rd],function s7(n){PE.set(n[rd],n)}(e)):n[ME]=e}let NE;function kE(n,e){return NE(n,e)}function _d(n){const e=n[dt];return jn(e)?e[dt]:e}function YN(n){return JN(n[td])}function XN(n){return JN(n[Yr])}function JN(n){for(;null!==n&&!jn(n);)n=n[Yr];return n}function Bl(n,e,t,r,i){if(null!=r){let s,o=!1;jn(r)?s=r:rr(r)&&(o=!0,r=r[Et]);const a=Ye(r);0===n&&null!==t?null==i?nk(e,t,a):Zo(e,t,a,i||null,!0):1===n&&null!==t?Zo(e,t,a,i||null,!0):2===n?function Bg(n,e,t){const r=Vg(n,e);r&&function C7(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function A7(n,e,t,r,i){const s=t[gi];s!==Ye(t)&&Bl(e,n,r,s,i);for(let a=cn;a<t.length;a++){const l=t[a];vd(l[L],l,n,e,r,s)}}(e,n,s,t,i)}}function Og(n,e,t){return n.createElement(e,t)}function ek(n,e){const t=n[Cl],r=t.indexOf(e);ZM(e),t.splice(r,1)}function Fg(n,e){if(n.length<=cn)return;const t=cn+e,r=n[t];if(r){const i=r[nd];null!==i&&i!==n&&ek(i,r),e>0&&(n[t-1][Yr]=r[Yr]);const s=Tg(n,cn+e);!function m7(n,e){vd(n,e,e[ie],2,null,null),e[Et]=null,e[En]=null}(r[L],r);const o=s[pi];null!==o&&o.detachView(s[L]),r[dt]=null,r[Yr]=null,r[ae]&=-129}return r}function FE(n,e){if(!(256&e[ae])){const t=e[ie];e[id]&&LM(e[id]),e[sd]&&LM(e[sd]),t.destroyNode&&vd(n,e,t,3,null,null),function v7(n){let e=n[td];if(!e)return VE(n[L],n);for(;e;){let t=null;if(rr(e))t=e[td];else{const r=e[cn];r&&(t=r)}if(!t){for(;e&&!e[Yr]&&e!==n;)rr(e)&&VE(e[L],e),e=e[dt];null===e&&(e=n),rr(e)&&VE(e[L],e),t=e&&e[Yr]}e=t}}(e)}}function VE(n,e){if(!(256&e[ae])){e[ae]&=-129,e[ae]|=256,function b7(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof cd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];mi(4,a,l);try{l.call(a)}finally{mi(5,a,l)}}else{mi(4,i,s);try{s.call(i)}finally{mi(5,i,s)}}}}}(n,e),function w7(n,e){const t=n.cleanup,r=e[Il];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Il]=null);const i=e[$s];if(null!==i){e[$s]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[L].type&&e[ie].destroy();const t=e[nd];if(null!==t&&jn(e[dt])){t!==e[dt]&&ek(t,e);const r=e[pi];null!==r&&r.detachView(n)}!function o7(n){PE.delete(n[rd])}(e)}}function LE(n,e,t){return function tk(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Et];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Kr.None||s===Kr.Emulated)return null}return ir(r,t)}}(n,e.parent,t)}function Zo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nk(n,e,t){n.appendChild(e,t)}function rk(n,e,t,r,i){null!==r?Zo(n,e,t,r,i):nk(n,e,t)}function Vg(n,e){return n.parentNode(e)}let BE,zE,ok=function sk(n,e,t){return 40&n.type?ir(n,t):null};function Lg(n,e,t,r){const i=LE(n,r,e),s=e[ie],a=function ik(n,e,t){return ok(n,e,t)}(r.parent||e[En],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)rk(s,i,t[l],a,!1);else rk(s,i,t,a,!1);void 0!==BE&&BE(s,r,e,t,i)}function yd(n,e){if(null!==e){const t=e.type;if(3&t)return ir(e,n);if(4&t)return UE(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return yd(n,r);{const i=n[e.index];return jn(i)?UE(-1,i):Ye(i)}}if(32&t)return kE(e,n)()||Ye(n[e.index]);{const r=lk(n,e);return null!==r?Array.isArray(r)?r[0]:yd(_d(n[xt]),r):yd(n,e.next)}}return null}function lk(n,e){return null!==e?n[xt][En].projection[e.projection]:null}function UE(n,e){const t=cn+n+1;if(t<e.length){const r=e[t],i=r[L].firstChild;if(null!==i)return yd(r,i)}return e[gi]}function jE(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&wn(Ye(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)jE(n,e,t.child,r,i,s,!1),Bl(e,n,i,a,s);else if(32&l){const c=kE(t,r);let u;for(;u=c();)Bl(e,n,i,u,s);Bl(e,n,i,a,s)}else 16&l?uk(n,e,r,t,i,s):Bl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function vd(n,e,t,r,i,s){jE(t,r,n.firstChild,e,i,s,!1)}function uk(n,e,t,r,i,s){const o=t[xt],l=o[En].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Bl(e,n,i,l[c],s);else{let c=l;const u=o[dt];Mg(r)&&(c.flags|=128),jE(n,e,c,u,i,s,!0)}}function dk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function hk(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&ZI(n,e,r),null!==i&&dk(n,e,i),null!==s&&function x7(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class mk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const bd=new $("ENVIRONMENT_INITIALIZER"),Dk=new $("INJECTOR",-1),Ak=new $("INJECTOR_DEF_TYPES");class QE{get(e,t=Yu){if(t===Yu){const r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return t}}function nK(...n){return{\u0275providers:xk(0,n),\u0275fromNgModule:!0}}function xk(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ol(e,o=>{const a=o;zg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Pk(i,s),t}function Pk(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];YE(i,s=>{e(s,r)})}}function zg(n,e,t,r){if(!(n=J(n)))return!1;let i=null,s=ig(n);const o=!s&&be(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=ig(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)zg(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ol(s.imports,u=>{zg(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Pk(c,e)}if(!a){const c=Yo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ae},i),e({provide:Ak,useValue:i,multi:!0},i),e({provide:bd,useValue:()=>K(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;YE(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function YE(n,e){for(let t of n)jI(t)&&(t=t.\u0275providers),Array.isArray(t)?YE(t,e):e(t)}const rK=Fe({provide:String,useValue:Fe});function XE(n){return null!==n&&"object"==typeof n&&rK in n}function ea(n){return"function"==typeof n}const JE=new $("Set Injector scope."),Hg={},sK={};let ZE;function Wg(){return void 0===ZE&&(ZE=new QE),ZE}class Fr{}class zl extends Fr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tw(e,o=>this.processProvider(o)),this.records.set(Dk,Hl(void 0,this)),i.has("environment")&&this.records.set(Fr,Hl(void 0,this));const s=this.records.get(JE);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ak.multi,Ae,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Us(this),r=er(void 0);try{return e()}finally{Us(t),er(r)}}get(e,t=Yu,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gM))return e[gM](this);r=ag(r);const s=Us(this),o=er(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function uK(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(e)&&rg(e);l=c&&this.injectableDefInScope(c)?Hl(ew(e),Hg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&me.Self?Wg():this.parent).get(e,t=r&me.Optional&&t===Yu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[og]=a[og]||[]).unshift(zt(e)),s)throw a;return function r6(n,e,t,r){const i=n[og];throw e[hM]&&i.unshift(e[hM]),n.message=function i6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):zt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(J9,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[og]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{er(o),Us(s)}}resolveInjectorInitializers(){const e=Us(this),t=er(void 0);try{const i=this.get(bd.multi,Ae,me.Self);for(const s of i)s()}finally{Us(e),er(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let t=ea(e=J(e))?e:J(e&&e.provide);const r=function aK(n){return XE(n)?Hl(void 0,n.useValue):Hl(Nk(n),Hg)}(e);if(ea(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Hl(void 0,Hg,!0),i.factory=()=>YI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Hg&&(t.value=sK,t.value=t.factory()),"object"==typeof t.value&&t.value&&function cK(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ew(n){const e=rg(n),t=null!==e?e.factory:Yo(n);if(null!==t)return t;if(n instanceof $)throw new M(204,!1);if(n instanceof Function)return function oK(n){const e=n.length;if(e>0)throw function pd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new M(204,!1);const t=function K9(n){return n&&(n[sg]||n[lM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new M(204,!1)}function Nk(n,e,t){let r;if(ea(n)){const i=J(n);return Yo(i)||ew(i)}if(XE(n))r=()=>J(n.useValue);else if(function Mk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...YI(n.deps||[]));else if(function Rk(n){return!(!n||!n.useExisting)}(n))r=()=>K(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function lK(n){return!!n.deps}(n))return Yo(i)||ew(i);r=()=>new i(...YI(n.deps))}return r}function Hl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tw(n,e){for(const t of n)Array.isArray(t)?tw(t,e):t&&jI(t)?tw(t.\u0275providers,e):e(t)}const Gg=new $("AppId",{providedIn:"root",factory:()=>dK}),dK="ng",kk=new $("Platform Initializer"),ta=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ok=new $("CSP nonce",{providedIn:"root",factory:()=>function jl(){if(void 0!==zE)return zE;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Fk=(n,e,t)=>null;function cw(n,e,t=!1){return Fk(n,e,t)}class EK{}class Bk{}class bK{resolveComponentFactory(e){throw function wK(n){const e=Error(`No component factory found for ${zt(n)}.`);return e.ngComponent=n,e}(e)}}let Jg=(()=>{class n{static#e=this.NULL=new bK}return n})();function CK(){return ql(dn(),D())}function ql(n,e){return new Ir(ir(n,e))}let Ir=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=CK}return n})();class jk{}let Ji=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function DK(){const n=D(),t=yr(dn().index,n);return(rr(t)?t:n)[ie]}()}return n})(),AK=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();class Kl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $k=new Kl("16.2.12"),hw={};function Gk(n,e=null,t=null,r){const i=qk(n,e,t,r);return i.resolveInjectorInitializers(),i}function qk(n,e=null,t=null,r,i=new Set){const s=[t||Ae,nK(n)];return r=r||("object"==typeof n?void 0:zt(n)),new zl(s,e||Wg(),r||null,i)}let pn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Yu;static#t=this.NULL=new QE;static create(t,r){if(Array.isArray(t))return Gk({name:""},r,t,"");{const i=t.name??"";return Gk({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=q({token:n,providedIn:"any",factory:()=>K(Dk)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function pw(n){return n.ngOriginalError}class Zi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pw(e);for(;t&&pw(t);)t=pw(t);return t||null}}function mw(n){return e=>{setTimeout(n,void 0,e)}}const wt=class kK extends qr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=mw(s),i&&(i=mw(i)),o&&(o=mw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Zn&&e.add(a),a}};function Qk(...n){}class xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wt(!1),this.onMicrotaskEmpty=new wt(!1),this.onStable=new wt(!1),this.onError=new wt(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OK(){const n="function"==typeof Qe.requestAnimationFrame;let e=Qe[n?"requestAnimationFrame":"setTimeout"],t=Qe[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function LK(n){const e=()=>{!function VK(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,yw(n),n.isCheckStableRunning=!0,_w(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),yw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function UK(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return Yk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Xk(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return Yk(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Xk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,yw(n),_w(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,FK,Qk,Qk);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const FK={};function _w(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Yk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xk(n){n._nesting--,_w(n)}class BK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wt,this.onMicrotaskEmpty=new wt,this.onStable=new wt,this.onError=new wt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Jk=new $("",{providedIn:"root",factory:Zk});function Zk(){const n=z(xe);let e=!0;return function L9(...n){const e=Qu(n),t=function R9(n,e){return"number"==typeof VI(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?pr(r[0]):_l(t)(Qt(r,e)):di}(new _t(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new _t(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{xe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sM()))}function es(n){return n instanceof Function?n():n}let vw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Dd(n){for(;n;){n[ae]|=64;const e=_d(n);if(nE(n)&&!e)return n;n=e}return null}const i1=new $("",{providedIn:"root",factory:()=>!1});let em=null;function l1(n,e){return n[e]??d1()}function c1(n,e){const t=d1();t.producerNode?.length&&(n[e]=em,t.lView=n,em=u1())}const YK={...MM,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Dd(n.lView)},lView:null};function u1(){return Object.create(YK)}function d1(){return em??=u1(),em}const oe={};function bn(n){h1(Ce(),D(),zn()+n,!1)}function h1(n,e,t,r){if(!r)if(3==(3&e[ae])){const s=n.preOrderCheckHooks;null!==s&&yg(e,s,t)}else{const s=n.preOrderHooks;null!==s&&vg(e,s,0,t)}Xo(t)}function S(n,e=me.Default){const t=D();return null===t?K(n,e):bN(dn(),t,J(n),e)}function tm(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Et]=i,d[ae]=140|r,(null!==c||n&&2048&n[ae])&&(d[ae]|=2048),JM(d),d[dt]=d[wl]=n,d[St]=t,d[El]=o||n&&n[El],d[ie]=a||n&&n[ie],d[js]=l||n&&n[js]||null,d[En]=s,d[rd]=function i7(){return r7++}(),d[Ki]=u,d[SM]=c,d[xt]=2==e.type?n[xt]:d,d}function Xl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Iw(n,e,t,r,i){const s=iN(),o=uE(),l=n.data[e]=function iQ(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Al(){return null!==X.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function r8(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ld(){const n=X.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return _i(s,!0),s}function Ad(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function p1(n,e,t,r,i){const s=l1(e,id),o=zn(),a=2&r;try{Xo(-1),a&&e.length>_e&&h1(n,e,_e,!1),mi(a?2:0,i);const c=a?s:null,u=iE(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{sE(c,u)}}finally{a&&null===e[id]&&c1(e,id),Xo(o),mi(a?3:1,i)}}function Ew(n,e,t){if(tE(e)){const r=kr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{kr(r)}}}function g1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Cw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Cw(n,e,t,r,i,s,o,a,l,c,u){const d=_e+r,h=d+i,f=function JK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(d,h),p="function"==typeof c?c():c;return f[L]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let m1=n=>null;function _1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?y1(t,e,i,s):r.hasOwnProperty(i)&&y1(t,e,r[i],s)}return t}function y1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function v1(n,e,t,r,i,s){for(let c=0;c<r.length;c++)wE(Eg(t,e),n,r[c].type);!function mQ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Ad(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Zu(t.mergedAttrs,u.hostAttrs),_Q(n,t,e,l,u),gQ(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function sQ(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=_1(d.inputs,u,l,h?h.inputs:null),c=_1(d.outputs,u,c,p);const g=null===l||null===o||EM(e)?null:IQ(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function I1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function s8(){return X.lFrame.currentDirectiveIndex}();try{Xo(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];hE(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&hQ(l,c)}}finally{Xo(-1),hE(o)}}function hQ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Dw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gQ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xr(e)&&(t[""]=n)}}function _Q(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Yo(i.type)),o=new cd(s,Xr(i),S);n.blueprint[r]=o,t[r]=o,function cQ(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function uQ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Ad(n,t,i.hostVars,oe),i)}function vQ(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)E1(r,t,o[a++],o[a++],o[a++])}function E1(n,e,t,r,i){const s=kr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{kr(s)}}function IQ(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function b1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];pE(t[r]),o.contentQueries(2,e[s],s)}}}function nm(n,e){return n[td]?n[AM][Yr]=e:n[td]=e,n[AM]=e,e}function Sw(n,e,t){pE(0);const r=kr(null);try{e(n,t)}finally{kr(r)}}function A1(n,e){const t=n[js],r=t?t.get(Zi,null):null;r&&r.handleError(e)}function xw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];E1(n.data[o],e[o],r,a,i)}}function EQ(n,e){const t=yr(e,n),r=t[L];!function wQ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Et];null!==i&&null===t[Ki]&&(t[Ki]=cw(i,t[js])),Pw(r,t,t[St])}function Pw(n,e,t){gE(e);try{const r=n.viewQuery;null!==r&&Sw(1,r,t);const i=n.template;null!==i&&p1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&b1(n,e),n.staticViewQueries&&Sw(2,n.viewQuery,t);const s=n.components;null!==s&&function bQ(n,e){for(let t=0;t<e.length;t++)EQ(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,mE()}}let S1=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function N6(n,e,t){const r=Object.create(k6);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>FM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!VM(r))return;r.hasRun=!0;const o=iE(r);try{r.cleanupFn(),r.cleanupFn=WM,r.fn(i)}finally{sE(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function rm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=BI(i,a):2==s&&(r=BI(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Sd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Ye(s)),jn(s)&&x1(s,r);const o=t.type;if(8&o)Sd(n,e,t.child,r);else if(32&o){const a=kE(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=lk(e,t);if(Array.isArray(a))r.push(...a);else{const l=_d(e[xt]);Sd(l[L],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function x1(n,e){for(let t=cn;t<n.length;t++){const r=n[t],i=r[L].firstChild;null!==i&&Sd(r[L],r,i,e)}n[gi]!==n[Et]&&e.push(n[gi])}function im(n,e,t,r=!0){const i=e[El],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{P1(n,e,n.template,t)}catch(l){throw r&&A1(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function P1(n,e,t,r){const i=e[ae];if(256!=(256&i)){e[El].effectManager?.flush(),gE(e);try{JM(e),function oN(n){return X.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&p1(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&yg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&vg(e,c,0,null),_E(e,0)}if(function DQ(n){for(let e=YN(n);null!==e;e=XN(e)){if(!e[xM])continue;const t=e[Cl];for(let r=0;r<t.length;r++){H6(t[r])}}}(e),R1(e,2),null!==n.contentQueries&&b1(n,e),o){const c=n.contentCheckHooks;null!==c&&yg(e,c)}else{const c=n.contentHooks;null!==c&&vg(e,c,1),_E(e,1)}!function XK(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=l1(e,sd);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Xo(~s);else{const o=s,a=t[++i],l=t[++i];i8(a,o),r.dirty=!1;const c=iE(r);try{l(2,e[o])}finally{sE(r,c)}}}}finally{null===e[sd]&&c1(e,sd),Xo(-1)}}(n,e);const a=n.components;null!==a&&N1(e,a,0);const l=n.viewQuery;if(null!==l&&Sw(2,l,r),o){const c=n.viewCheckHooks;null!==c&&yg(e,c)}else{const c=n.viewHooks;null!==c&&vg(e,c,2),_E(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ae]&=-73,ZM(e)}finally{mE()}}}function R1(n,e){for(let t=YN(n);null!==t;t=XN(t))for(let r=cn;r<t.length;r++)M1(t[r],e)}function AQ(n,e,t){M1(yr(e,n),t)}function M1(n,e){if(!function $6(n){return 128==(128&n[ae])}(n))return;const t=n[L],r=n[ae];if(80&r&&0===e||1024&r||2===e)P1(t,n,t.template,n[St]);else if(n[ed]>0){R1(n,1);const i=t.components;null!==i&&N1(n,i,1)}}function N1(n,e,t){for(let r=0;r<e.length;r++)AQ(n,e[r],t)}class xd{get rootNodes(){const e=this._lView,t=e[L];return Sd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return 256==(256&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[dt];if(jn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Fg(e,r),Tg(t,r))}this._attachedToViewContainer=!1}FE(this._lView[L],this._lView)}onDestroy(e){!function tN(n,e){if(256==(256&n[ae]))throw new M(911,!1);null===n[$s]&&(n[$s]=[]),n[$s].push(e)}(this._lView,e)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){this._lView[ae]|=128}detectChanges(){im(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y7(n,e){vd(n,e,e[ie],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class SQ extends xd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;im(e[L],e,e[St],!1)}checkNoChanges(){}get context(){return null}}class k1 extends Jg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=be(e);return new Pd(t,this.ngModule)}}function O1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class PQ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ag(r);const i=this.injector.get(e,hw,r);return i!==hw||t===hw?i:this.parentInjector.get(e,t,r)}}class Pd extends Bk{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=O1(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return O1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function p6(n){return n.map(f6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Fr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new PQ(e,s):e,a=o.get(jk,null);if(null===a)throw new M(407,!1);const d={rendererFactory:a,sanitizer:o.get(AK,null),effectManager:o.get(S1,null),afterRenderEventManager:o.get(vw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function ZK(n,e,t,r){const s=r.get(i1,!1)||t===Kr.ShadowDom,o=n.selectRootElement(e,s);return function eQ(n){m1(n)}(o),o}(h,r,this.componentDef.encapsulation,o):Og(h,f,function xQ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=cw(p,o,!0));const v=Cw(0,null,null,1,0,null,null,null,null,null,null),I=tm(null,v,null,y,null,null,d,h,o,null,_);let E,b;gE(I);try{const R=this.componentDef;let A,B=null;R.findHostDirectiveDefs?(A=[],B=new Map,R.findHostDirectiveDefs(R,A,B),A.push(R)):A=[R];const ee=function MQ(n,e){const t=n[L],r=_e;return n[r]=e,Xl(t,r,2,"#host",null)}(I,p),ce=function NQ(n,e,t,r,i,s,o){const a=i[L];!function kQ(n,e,t,r){for(const i of n)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rm(e,e.mergedAttrs,!0),null!==t&&hk(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=cw(e,i[js]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=tm(i,g1(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Dw(a,n,r.length-1),nm(i,d),i[n.index]=d}(ee,p,R,A,I,d,h);b=XM(v,_e),p&&function FQ(n,e,t,r){if(r)ZI(n,t,["ng-version",$k.full]);else{const{attrs:i,classes:s}=function g6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Qr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&ZI(n,t,i),s&&s.length>0&&dk(n,t,s.join(" "))}}(h,R,p,r),void 0!==t&&function VQ(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(b,this.ngContentSelectors,t),E=function OQ(n,e,t,r,i,s){const o=dn(),a=i[L],l=ir(o,i);v1(a,i,o,t,null,r);for(let u=0;u<t.length;u++)wn(Jo(i,a,o.directiveStart+u,o),i);I1(a,i,o),l&&wn(l,i);const c=Jo(i,a,o.directiveStart+o.componentOffset,o);if(n[St]=i[St]=c,null!==s)for(const u of s)u(c,e);return Ew(a,o,n),c}(ce,R,A,B,I,[LQ]),Pw(v,I,null)}finally{mE()}return new RQ(this.componentType,E,ql(b,I),I,b)}}class RQ extends EK{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new SQ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;xw(s[L],s,i,e,t),this.previousInputValues.set(e,t),Dd(yr(this._tNode.index,s))}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function LQ(){const n=dn();_g(D()[L],n)}function Ve(n){let e=function F1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=sm(n.inputs),o.inputTransforms=sm(n.inputTransforms),o.declaredInputs=sm(n.declaredInputs),o.outputs=sm(n.outputs);const a=i.hostBindings;a&&$Q(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&UQ(n,l),c&&jQ(n,c),tg(n.inputs,i.inputs),tg(n.declaredInputs,i.declaredInputs),tg(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),tg(o.inputTransforms,i.inputTransforms)),Xr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function BQ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zu(i.hostAttrs,t=Zu(t,i.hostAttrs))}}(r)}function sm(n){return n===fi?{}:n===Ae?[]:n}function UQ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function jQ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function $Q(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Cn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ac(n,e,t){const r=D();return Cn(r,Sl(),e)&&function Er(n,e,t,r,i,s,o,a){const l=ir(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(xw(n,t,u,r,i),Qo(e)&&function aQ(n,e){const t=yr(e,n);16&t[ae]||(t[ae]|=64)}(t,e.index)):3&e.type&&(r=function oQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(Ce(),function yt(){const n=X.lFrame;return XM(n.tView,n.selectedIndex)}(),r,n,e,r[ie],t,!1),ac}function Vw(n,e,t,r,i){const o=i?"class":"style";xw(n,t,e.inputs[o],o,r)}function U(n,e,t,r){const i=D(),s=Ce(),o=_e+n,a=i[ie],l=s.firstCreatePass?function vY(n,e,t,r,i,s){const o=e.consts,l=Xl(e,n,2,r,Hs(o,i));return function Tw(n,e,t,r){if(rN()){const i=null===r?null:{"":-1},s=function fQ(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(wM(e,o.selectors,!1))if(r||(r=[]),Xr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Dw(n,e,a.length)}else r.unshift(o),Dw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&v1(n,e,t,o,i,a),i&&function pQ(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new M(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Zu(t.mergedAttrs,t.attrs)}(e,t,l,Hs(o,s)),null!==l.attrs&&rm(l,l.attrs,!1),null!==l.mergedAttrs&&rm(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=tO(s,i,l,a,e,n);i[o]=c;const u=hg(l);return _i(l,!0),hk(a,c,l),32!=(32&l.flags)&&mg()&&Lg(s,i,c,l),0===function G6(){return X.lFrame.elementDepthCount}()&&wn(c,i),function q6(){X.lFrame.elementDepthCount++}(),u&&(function ww(n,e,t){rN()&&(function dQ(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Qo(t)&&function yQ(n,e,t){const r=ir(e,n),i=g1(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=nm(n,tm(n,i,null,o,r,e,null,n[El].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Eg(t,e),wn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Jo(e,n,a,t);wn(c,e),null!==o&&vQ(0,a-i,c,l,0,o),Xr(l)&&(yr(t.index,e)[St]=Jo(e,n,a,t))}}(n,e,t,ir(t,e)),64==(64&t.flags)&&I1(n,e,t))}(s,i,l),Ew(s,l,i)),null!==r&&function bw(n,e,t=ir){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,l),U}function H(){let n=dn();uE()?function dE(){X.lFrame.isParent=!1}():(n=n.parent,_i(n,!1));const e=n;(function Q6(n){return X.skipHydrationRootTNode===n})(e)&&function Z6(){X.skipHydrationRootTNode=null}(),function K6(){X.lFrame.elementDepthCount--}();const t=Ce();return t.firstCreatePass&&(_g(t,n),tE(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function m8(n){return 0!=(8&n.flags)}(e)&&Vw(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _8(n){return 0!=(16&n.flags)}(e)&&Vw(t,e,D(),e.stylesWithoutHost,!1),H}function we(n,e,t,r){return U(n,e,t,r),H(),we}let tO=(n,e,t,r,i,s)=>(Ws(!0),Og(r,i,function pN(){return X.lFrame.currentNamespace}()));function Od(n){return!!n&&"function"==typeof n.then}function iO(n){return!!n&&"function"==typeof n.subscribe}function Tn(n,e,t,r){const i=D(),s=Ce(),o=dn();return function oO(n,e,t,r,i,s,o){const a=hg(r),c=n.firstCreatePass&&function T1(n){return n.cleanup||(n.cleanup=[])}(n),u=e[St],d=function C1(n){return n[Il]||(n[Il]=[])}(e);let h=!0;if(3&r.type||o){const g=ir(r,e),m=o?o(g):g,y=d.length,_=o?I=>o(Ye(I[r.index])):r.index;let v=null;if(!o&&a&&(v=function DY(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Il],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=lO(r,e,u,s,!1);const I=t.listen(m,i,s);d.push(s,I),c&&c.push(i,_,y,y+1)}}else s=lO(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const E=e[p[m]][p[m+1]].subscribe(s),b=d.length;d.push(s,E),c&&c.push(i,r.index,b,-(b+1))}}}(s,i,i[ie],o,n,e,r),Tn}function aO(n,e,t,r){try{return mi(6,e,t),!1!==t(r)}catch(i){return A1(n,i),!1}finally{mi(7,e,t)}}function lO(n,e,t,r,i){return function s(o){if(o===Function)return r;Dd(n.componentOffset>-1?yr(n.index,e):e);let l=aO(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=aO(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function dm(n,e){return n<<17|e<<2}function Ks(n){return n>>17&32767}function jw(n){return 2|n}function ra(n){return(131068&n)>>2}function $w(n,e){return-131069&n|e<<2}function zw(n){return 1|n}function yO(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ks(s):ra(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];FY(n[a],e)&&(l=!0,n[a+1]=r?zw(u):jw(u)),a=r?Ks(u):ra(u)}l&&(n[t+1]=r?jw(s):zw(s))}function FY(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fl(n,e)>=0}function hm(n,e){return function Jr(n,e,t,r){const i=D(),s=Ce(),o=function Yi(n){const e=X.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function AO(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[zn()],o=function DO(n,e){return e>=n.expandoStartIndex}(n,t);(function RO(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function WY(n,e,t,r){const i=function fE(n){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Fd(t=Hw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Hw(i,n,e,t,r),null===s){let l=function GY(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ra(r))return n[Ks(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Hw(null,n,e,l[1],r),l=Fd(l,e.attrs,r),function qY(n,e,t,r){n[Ks(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function KY(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fd(r,n[s].hostAttrs,t);return Fd(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function kY(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ks(o),l=ra(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Fl(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=Ks(n[a+1]);n[r+1]=dm(h,a),0!==h&&(n[h+1]=$w(n[h+1],r)),n[a+1]=function MY(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dm(a,0),0!==a&&(n[a+1]=$w(n[a+1],r)),a=r;else n[r+1]=dm(l,0),0===a?a=r:n[l+1]=$w(n[l+1],r),l=r;c&&(n[r+1]=jw(n[r+1])),yO(n,u,r,!0),yO(n,u,r,!1),function OY(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fl(s,e)>=0&&(t[r+1]=zw(t[r+1]))}(e,u,n,r,s),o=dm(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==oe&&Cn(i,o,e)&&function xO(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function NY(n){return 1==(1&n)}(c)?PO(l,e,t,i,ra(c),o):void 0;fm(u)||(fm(s)||function RY(n){return 2==(2&n)}(c)&&(s=PO(l,null,t,i,a,o)),function S7(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Gs.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gs.Important),n.setStyle(t,r,i,s))}}(r,o,gg(zn(),t),i,s))}(s,s.data[zn()],i,i[ie],n,i[o+1]=function JY(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=zt(function qs(n){return n instanceof mk?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),hm}function Hw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Fd(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Fd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vr(n,o,!!t||e[++s]))}return void 0===n?null:n}function PO(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===oe&&(h=d?Ae:void 0);let f=d?TE(h,r):u===r?h:void 0;if(c&&!fm(f)&&(f=TE(l,r)),fm(f)&&(a=f,o))return a;const p=n[i+1];i=o?Ks(p):ra(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=TE(l,r))}return a}function fm(n){return void 0!==n}function Q(n,e=""){const t=D(),r=Ce(),i=n+_e,s=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],o=MO(r,t,s,e,n);t[i]=o,mg()&&Lg(r,t,o,s),_i(s,!1)}let MO=(n,e,t,r,i)=>(Ws(!0),function kg(n,e){return n.createText(e)}(e[ie],r));function ns(n){return ia("",n,""),ns}function ia(n,e,t){const r=D(),i=function Zl(n,e,t,r){return Cn(n,Sl(),t)?e+re(t)+r:oe}(r,n,e,t);return i!==oe&&function ts(n,e,t){const r=gg(e,n);!function ZN(n,e,t){n.setValue(e,t)}(n[ie],r,t)}(r,zn(),i),ia}const uc="en-US";let eF=uc;function qw(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let s=0;s<n.length;s++)qw(n[s],e,t,r,i);else{const s=Ce(),o=D(),a=dn();let l=ea(n)?n:J(n.provide);const c=Nk(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ea(n)||!n.multi){const f=new cd(c,i,S),p=Qw(l,e,i?u:u+h,d);-1===p?(wE(Eg(a,o),s,l),Kw(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Qw(l,e,u+h,d),p=Qw(l,e,u,u+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){wE(Eg(a,o),s,l);const y=function vJ(n,e,t,r,i){const s=new cd(n,t,S);return s.multi=[],s.index=e,s.componentProviders=0,TF(s,i,r&&!t),s}(i?yJ:_J,t.length,i,r,c);!i&&m&&(t[p].providerFactory=y),Kw(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)}else Kw(s,n,f>-1?f:p,TF(t[i?p:f],c,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Kw(n,e,t,r){const i=ea(e),s=function iK(n){return!!n.useClass}(e);if(i||s){const l=(s?J(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function TF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _J(n,e,t,r){return Yw(this.multi,[])}function yJ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Jo(t,t[L],this.providerFactory.index,r);s=a.slice(0,o),Yw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Yw(i,s);return s}function Yw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ht(n,e=[]){return t=>{t.providersResolver=(r,i)=>function mJ(n,e,t){const r=Ce();if(r.firstCreatePass){const i=Xr(n);qw(t,r.data,r.blueprint,i,!0),qw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class oa{}class DF{}class Xw extends oa{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new k1(this);const i=mr(e);this._bootstrapComponents=es(i.bootstrap),this._r3Injector=qk(e,t,[{provide:oa,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Jw extends DF{constructor(e){super(),this.moduleType=e}create(e){return new Xw(this.moduleType,e,[])}}class AF extends oa{constructor(e){super(),this.componentFactoryResolver=new k1(this),this.instance=null;const t=new zl([...e.providers,{provide:oa,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver}],e.parent||Wg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zw(n,e,t=null){return new AF({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let wJ=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=xk(0,t.type),i=r.length>0?Zw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(K(Fr))})}return n})();function SF(n){n.getStandaloneInjector=e=>e.get(wJ).getOrCreateStandaloneInjector(n)}function YJ(n,e,t,r=!0){const i=e[L];if(function I7(n,e,t,r){const i=cn+r,s=t.length;r>0&&(t[i-1][Yr]=e),r<s-cn?(e[Yr]=t[i],xN(t,cn+r,e)):(t.push(e),e[Yr]=null),e[dt]=t;const o=e[nd];null!==o&&t!==o&&function E7(n,e){const t=n[Cl];e[xt]!==e[dt][dt][xt]&&(n[xM]=!0),null===t?n[Cl]=[e]:t.push(e)}(o,e);const a=e[pi];null!==a&&a.insertView(n),e[ae]|=128}(i,e,n,t),r){const s=UE(t,n),o=e[ie],a=Vg(o,n[gi]);null!==a&&function _7(n,e,t,r,i,s){r[Et]=i,r[En]=e,vd(n,r,t,1,i,s)}(i,n[En],o,e,a,s)}}Symbol;let ei=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sZ}return n})();function sZ(){return function GF(n,e){let t;const r=e[n.index];return jn(r)?t=r:(t=function w1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}(r,e,null,n),e[n.index]=t,nm(e,t)),qF(t,e,n,r),new HF(t,n,e)}(dn(),D())}const oZ=ei,HF=class extends oZ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){const e=wg(this._hostTNode,this._hostLView);if(vE(e)){const t=dd(e,this._hostLView),r=ud(e);return new Hn(t[L].data[r+8],t)}return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=WF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function fd(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Pd(be(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?c:this.parentInjector).get(Fr,null);m&&(s=m)}be(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function z6(n){return jn(n[dt])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[dt],u=new HF(c,c[En],c[dt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return YJ(a,i,o,!r),e.attachToViewContainerRef(),xN(nb(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=WF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Fg(this._lContainer,t);r&&(Tg(nb(this._lContainer),t),FE(r[L],r))}detach(e){const t=this._adjustIndex(e,-1),r=Fg(this._lContainer,t);return r&&null!=Tg(nb(this._lContainer),t)?new xd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function WF(n){return n[8]}function nb(n){return n[8]||(n[8]=[])}let qF=function KF(n,e,t,r){if(n[gi])return;let i;i=8&t.type?Ye(r):function aZ(n,e){const t=n[ie],r=t.createComment(""),i=ir(e,n);return Zo(t,Vg(t,i),r,function T7(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[gi]=i};const fb=new $("Application Initializer");let pb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=z(fb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Od(s))t.push(s);else if(iO(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vV=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const is=new $("LocaleId",{providedIn:"root",factory:()=>z(is,me.Optional|me.SkipSelf)||function LZ(){return typeof $localize<"u"&&$localize.locale||uc}()});let IV=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let EV=(()=>{class n{compileModuleSync(t){return new Jw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=es(mr(t).declarations).reduce((o,a)=>{const l=be(a);return l&&o.push(new Pd(l)),o},[]);return new jZ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TV=new $(""),wm=new $("");let vb,_b=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vb||(function cee(n){vb=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(K(xe),K(yb),K(wm))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),yb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return vb?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Qs=null;const DV=new $("AllowMultipleToken"),Ib=new $("PlatformDestroyListeners"),Eb=new $("appBootstrapListener");class SV{constructor(e,t){this.name=e,this.token=t}}function PV(n,e,t=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=wb();if(!o||o.injector.get(DV,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function hee(n){if(Qs&&!Qs.get(DV,!1))throw new M(400,!1);(function AV(){!function S6(n){jM=n}(()=>{throw new M(600,!1)})})(),Qs=n;const e=n.get(MV);(function xV(n){n.get(kk,null)?.forEach(t=>t())})(n)}(function RV(n=[],e){return pn.create({name:e,providers:[{provide:JE,useValue:"platform"},{provide:Ib,useValue:new Set([()=>Qs=null])},...n]})}(a,r))}return function pee(n){const e=wb();if(!e)throw new M(401,!1);return e}()}}function wb(){return Qs?.get(MV)??null}let MV=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function gee(n="zone.js",e){return"noop"===n?new BK:"zone.js"===n?new xe(e):n}(r?.ngZone,function NV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function EJ(n,e,t){return new Xw(n,e,t)}(t.moduleType,this.injector,function LV(n){return[{provide:xe,useFactory:n},{provide:bd,multi:!0,useFactory:()=>{const e=z(_ee,{optional:!0});return()=>e.initialize()}},{provide:VV,useFactory:mee},{provide:Jk,useFactory:Zk}]}(()=>i)),o=s.injector.get(Zi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{bm(this._modules,s),a.unsubscribe()})}),function kV(n,e,t){try{const r=t();return Od(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(pb);return a.runInitializers(),a.donePromise.then(()=>(function tF(n){Nr(n,"Expected localeId to be defined"),"string"==typeof n&&(eF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(is,uc)||uc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=OV({},r);return function uee(n,e,t){const r=new Jw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new M(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ib,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(K(pn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function OV(n,e){return Array.isArray(e)?e.reduce(OV,n):{...n,...e}}let fc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(VV),this.zoneIsStable=z(Jk),this.componentTypes=[],this.components=[],this.isStable=z(IV).hasPendingTasks.pipe(hi(t=>t?te(!1):this.zoneIsStable),function B9(n,e=Ls){return n=n??U9,$t((t,r)=>{let i,s=!0;t.subscribe(Lt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),sM()),this._injector=z(Fr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Bk;if(!this._injector.get(pb).done)throw!i&&function vl(n){const e=be(n)||ln(n)||Un(n);return null!==e&&e.standalone}(t),new M(405,!1);let o;o=i?t:this._injector.get(Jg).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function dee(n){return n.isBoundToModule}(o)?void 0:this._injector.get(oa),c=o.create(pn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(TV,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),bm(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;bm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Eb,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const VV=new $("",{providedIn:"root",factory:()=>z(Zi).handleError.bind(void 0)});function mee(){const n=z(xe),e=z(Zi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let _ee=(()=>{class n{constructor(){this.zone=z(xe),this.applicationRef=z(fc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Cm=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=vee}return n})();function vee(n){return function Iee(n,e,t){if(Qo(n)&&!t){const r=yr(n.index,e);return new xd(r,r)}return 47&n.type?new xd(e[xt],e):null}(dn(),D(),16==(16&n))}const Nee=PV(null,"core",[]);let kee=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(K(fc))};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({})}return n})(),Sb=null;function Ys(){return Sb}class Kee{}const Lr=new $("DocumentToken");let xb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return z(Yee)},providedIn:"platform"})}return n})();const Qee=new $("Location Initialized");let Yee=(()=>{class n extends xb{constructor(){super(),this._doc=z(Lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ys().getBaseHref(this._doc)}onPopState(t){const r=Ys().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ys().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Pb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function nL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ss(n){return n&&"?"!==n[0]?"?"+n:n}let la=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return z(iL)},providedIn:"root"})}return n})();const rL=new $("appBaseHref");let iL=(()=>{class n extends la{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ss(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ss(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ss(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(K(xb),K(rL,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xee=(()=>{class n extends la{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ss(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ss(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(K(xb),K(rL,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Rb=(()=>{class n{constructor(t){this._subject=new wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ete(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(nL(sL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ss(r))}normalize(t){return n.stripTrailingSlash(function Zee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,sL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ss(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ss(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ss;static#t=this.joinWithSlash=Pb;static#n=this.stripTrailingSlash=nL;static#r=this.\u0275fac=function(r){return new(r||n)(K(la))};static#i=this.\u0275prov=q({token:n,factory:function(){return function Jee(){return new Rb(K(la))}()},providedIn:"root"})}return n})();function sL(n){return n.replace(/\/index.html$/,"")}let gne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({})}return n})();function EL(n){return"server"===n}let vne=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Ine(K(Lr),window)})}return n})();class Ine{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ene(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wne extends Kee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kb extends Wne{static makeCurrent(){!function qee(n){Sb||(Sb=n)}(new Kb)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Gne(){return Yd=Yd||document.querySelector("base"),Yd?Yd.getAttribute("href"):null}();return null==t?null:function qne(n){jm=jm||document.createElement("a"),jm.setAttribute("href",n);const e=jm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Lte(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let jm,Yd=null,Qne=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Qb=new $("EventManagerPlugins");let DL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(K(Qb),K(xe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class AL{constructor(e){this._doc=e}}const Yb="ng-app-id";let SL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EL(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Yb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Yb),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Yb,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(K(Lr),K(Gg),K(Ok,8),K(ta))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Xb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jb=/%COMP%/g,Zne=new $("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function PL(n,e){return e.map(t=>t.replace(Jb,n))}let RL=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=EL(a),this.defaultRenderer=new Zb(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kr.ShadowDom&&(r={...r,encapsulation:Kr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof NL?i.applyToHost(t):i instanceof eC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Kr.Emulated:s=new NL(l,c,r,this.appId,u,o,a,d);break;case Kr.ShadowDom:return new rre(l,c,t,r,o,a,this.nonce,d);default:s=new eC(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(K(DL),K(SL),K(Gg),K(Zne),K(Lr),K(ta),K(xe),K(Ok))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class Zb{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Xb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ML(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ML(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Xb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gs.DashCase|Gs.Important)?e.style.setProperty(t,r,i&Gs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ys().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ML(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rre extends Zb{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=PL(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eC extends Zb{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?PL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class NL extends eC{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function ere(n){return"_ngcontent-%COMP%".replace(Jb,n)}(c),this.hostAttr=function tre(n){return"_nghost-%COMP%".replace(Jb,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ire=(()=>{class n extends AL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(K(Lr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const kL=["alt","control","meta","shift"],sre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ore={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let are=(()=>{class n extends AL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ys().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kL.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=sre[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kL.forEach(o=>{o!==i&&(0,ore[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(K(Lr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const FL=[{provide:ta,useValue:"browser"},{provide:kk,useValue:function lre(){Kb.makeCurrent()},multi:!0},{provide:Lr,useFactory:function ure(){return function N7(n){zE=n}(document),document},deps:[]}],dre=PV(Nee,"browser",FL),hre=new $(""),VL=[{provide:wm,useClass:class Kne{addToWindow(e){Qe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new M(5103,!1);return s},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(r=>{const i=Qe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ys().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:TV,useClass:_b,deps:[xe,yb,wm]},{provide:_b,useClass:_b,deps:[xe,yb,wm]}],LL=[{provide:JE,useValue:"root"},{provide:Zi,useFactory:function cre(){return new Zi},deps:[]},{provide:Qb,useClass:ire,multi:!0,deps:[Lr,xe,ta]},{provide:Qb,useClass:are,multi:!0,deps:[Lr]},RL,SL,DL,{provide:jk,useExisting:RL},{provide:class wne{},useClass:Qne,deps:[]},[]];let fre=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Gg,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(K(hre,12))};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({providers:[...LL,...VL],imports:[gne,kee]})}return n})(),BL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(K(Lr))};static#t=this.\u0275prov=q({token:n,factory:function(r){let i=null;return i=r?new r:function gre(){return new BL(K(Lr))}(),i},providedIn:"root"})}return n})();function zL(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function T(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){zL(s,r,i,o,a,"next",l)}function a(l){zL(s,r,i,o,a,"throw",l)}o(void 0)})}}typeof window<"u"&&window;const N=function(n,e){if(!n)throw mc(e)},mc=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},HL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Ere;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ere extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WL=function(n){const e=HL(n);return rC.encodeByteArray(e,!0)},$m=function(n){return WL(n).replace(/\./g,"")},zm=function(n){try{return rC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wre(n){return GL(void 0,n)}function GL(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!bre(t)||(n[t]=GL(n[t],e[t]));return n}function bre(n){return"__proto__"!==n}const Hm=()=>{try{return function Cre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},qL=n=>{var e,t;return null===(t=null===(e=Hm())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},KL=n=>{const e=qL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},QL=()=>{var n;return null===(n=Hm())||void 0===n?void 0:n.config},YL=n=>{var e;return null===(e=Hm())||void 0===e?void 0:e[`_${n}`]};class Xd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function XL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$m(JSON.stringify({alg:"none",type:"JWT"})),$m(JSON.stringify(o)),""].join(".")}function Yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function JL(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class cs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jd.prototype.create)}}class Jd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function kre(n,e){return n.replace(Ore,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new cs(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Ore=/\{\$([^}]+)}/g;function Zd(n){return JSON.parse(n)}function Xt(n){return JSON.stringify(n)}const Wm=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Zd(zm(s[0])||""),t=Zd(zm(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function us(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _c(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function sC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gm(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function qm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(ZL(s)&&ZL(o)){if(!qm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ZL(n){return null!==n&&"object"==typeof n}function eh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function th(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Lre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Ure{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function jre(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=oC),void 0===i.error&&(i.error=oC),void 0===i.complete&&(i.complete=oC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(){}function yc(n,e){return`${n} failed: ${e} argument `}const Km=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function br(n){return n&&n._delegate?n._delegate:n}class Js{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class Kre{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Yre(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return T(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ca?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kre(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const aC=[];var Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{});const e2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Jre=Me.INFO,Zre={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},eie=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Zre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Qm{constructor(e){this.name=e,this._logLevel=Jre,this._logHandler=eie,this._userLogHandler=null,aC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const tie=(n,e)=>e.some(t=>n instanceof t);let t2,n2;const r2=new WeakMap,lC=new WeakMap,i2=new WeakMap,cC=new WeakMap,uC=new WeakMap;let dC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return lC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||i2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function lie(n){return"function"==typeof n?function aie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rie(){return n2||(n2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(hC(this),e),Zs(r2.get(this))}:function(...e){return Zs(n.apply(hC(this),e))}:function(e,...t){const r=n.call(hC(this),e,...t);return i2.set(r,e.sort?e.sort():[e]),Zs(r)}}(n):(n instanceof IDBTransaction&&function sie(n){if(lC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});lC.set(n,e)}(n),tie(n,function nie(){return t2||(t2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,dC):n)}function Zs(n){if(n instanceof IDBRequest)return function iie(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Zs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&r2.set(t,n)}).catch(()=>{}),uC.set(e,n),e}(n);if(cC.has(n))return cC.get(n);const e=lie(n);return e!==n&&(cC.set(n,e),uC.set(e,n)),e}const hC=n=>uC.get(n),uie=["get","getKey","getAll","getAllKeys","count"],die=["put","add","delete","clear"],fC=new Map;function s2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(fC.get(e))return fC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=die.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!uie.includes(t))return;const s=function(){var o=T(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return fC.set(e,s),s}!function oie(n){dC=n(dC)}(n=>({...n,get:(e,t,r)=>s2(e,t)||n.get(e,t,r),has:(e,t)=>!!s2(e,t)||n.has(e,t)}));class hie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function fie(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const pC="@firebase/app",ua=new Qm("@firebase/app"),Ym="[DEFAULT]",Bie={[pC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},da=new Map,Xm=new Map;function Uie(n,e){try{n.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ha(n){const e=n.name;if(Xm.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,n);for(const t of da.values())Uie(t,n);return!0}function rh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ds=new Jd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $ie{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}const fa="10.9.0";function a2(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ds.create("bad-app-name",{appName:String(i)});if(t||(t=QL()),!t)throw ds.create("no-options");const s=da.get(i);if(s){if(qm(t,s.options)&&qm(r,s.config))return s;throw ds.create("duplicate-app",{appName:i})}const o=new Xre(i);for(const l of Xm.values())o.addComponent(l);const a=new $ie(t,r,o);return da.set(i,a),a}function Jm(n=Ym){const e=da.get(n);if(!e&&n===Ym&&QL())return a2();if(!e)throw ds.create("no-app",{appName:n});return e}function l2(){return Array.from(da.values())}function Dn(n,e,t){var r;let i=null!==(r=Bie[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ua.warn(a.join(" "))}ha(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zie="firebase-heartbeat-database",Hie=1,ih="firebase-heartbeat-store";let mC=null;function c2(){return mC||(mC=function cie(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Zs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zs(o.result),l.oldVersion,l.newVersion,Zs(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(zie,Hie,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(ih)}catch(t){console.warn(t)}}}).catch(n=>{throw ds.create("idb-open",{originalErrorMessage:n.message})})),mC}function _C(){return(_C=T(function*(n){try{const t=(yield c2()).transaction(ih),r=yield t.objectStore(ih).get(d2(n));return yield t.done,r}catch(e){if(e instanceof cs)ua.warn(e.message);else{const t=ds.create("idb-get",{originalErrorMessage:e?.message});ua.warn(t.message)}}})).apply(this,arguments)}function u2(n,e){return yC.apply(this,arguments)}function yC(){return(yC=T(function*(n,e){try{const r=(yield c2()).transaction(ih,"readwrite");yield r.objectStore(ih).put(e,d2(n)),yield r.done}catch(t){if(t instanceof cs)ua.warn(t.message);else{const r=ds.create("idb-set",{originalErrorMessage:t?.message});ua.warn(r.message)}}})).apply(this,arguments)}function d2(n){return`${n.name}!${n.options.appId}`}class Kie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yie(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return T(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=h2();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return T(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=h2(),{heartbeatsToSend:i,unsentEntries:s}=function Qie(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),f2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=$m(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function h2(){return(new Date).toISOString().substring(0,10)}class Yie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(function*(){return!!function Rre(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Mre(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return T(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Wie(n){return _C.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return u2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return u2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function f2(n){return $m(JSON.stringify({version:2,heartbeats:n})).length}!function Xie(n){ha(new Js("platform-logger",e=>new hie(e),"PRIVATE")),ha(new Js("heartbeat",e=>new Kie(e),"PRIVATE")),Dn(pC,"0.9.29",n),Dn(pC,"0.9.29","esm2017"),Dn("fire-js","")}(""),Dn("firebase","10.9.0","app");class ese extends Zn{constructor(e,t){super()}schedule(e,t=0){return this}}const Zm={setInterval(n,e,...t){const{delegate:r}=Zm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class p2 extends ese{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Zm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Zm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ml(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const g2={now:()=>(g2.delegate||Date).now(),delegate:void 0};class sh{constructor(e,t=sh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}sh.now=g2.now;class m2 extends sh{constructor(e,t=sh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const rse=new class nse extends m2{}(class tse extends p2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),ise=new m2(p2);function gn(n,e,t){const r=ze(n)||e||t?{next:n,error:e,complete:t}:n;return r?$t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Lt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ls}const oh=new Kl("ANGULARFIRE2_VERSION");function vC(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const e_=(n,e)=>{const t=e?[e]:l2(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class IC{constructor(){return e_(sse)}}const sse="app-check";function vc(){}class _2{zone;delegate;constructor(e,t=rse){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class ose{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vc,{},vc,vc)),t.pipe(gn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let t_=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _2(Zone.current)),this.insideAngular=t.run(()=>new _2(Zone.current,ise)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(xe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ic(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function pa(n){return Ic().ngZone.run(()=>n())}function lse(n){return function cse(n){return function(t){return(t=t.lift(new ose(n.ngZone))).pipe(eg(n.outsideAngular),Zp(n.insideAngular))}}(Ic())(n)}const use=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),pa(()=>n.apply(void 0,r))},ah=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=pa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vc,{},vc,vc))),r[s]=use(r[s],t));const i=function ase(n){return Ic().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof _t){const s=Ic();return i.pipe(eg(s.outsideAngular),Zp(s.insideAngular))}return pa(()=>i)}return i instanceof _t?i.pipe(lse):i instanceof Promise?pa(()=>new Promise((s,o)=>i.then(a=>pa(()=>s(a)),a=>pa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:pa(()=>i)};class Ec{constructor(e){return e}}class n_{constructor(){return l2()}}const EC=new $("angularfire2._apps"),hse={provide:Ec,useFactory:function dse(n){return n&&1===n.length?n[0]:new Ec(Jm())},deps:[[new fn,EC]]},fse={provide:n_,deps:[[new fn,EC]]};function pse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ec(r)}}let gse=(()=>{class n{constructor(t){Dn("angularfire",oh.full,"core"),Dn("angularfire",oh.full,"app"),Dn("angular",$k.full,t.toString())}static \u0275fac=function(r){return new(r||n)(K(ta))};static \u0275mod=tr({type:n});static \u0275inj=Bn({providers:[hse,fse]})}return n})();function mse(n,...e){return{ngModule:gse,providers:[{provide:EC,useFactory:pse(n),multi:!0,deps:[xe,pn,t_,...e]}]}}const _se=ah(a2,!0);const yse=function y2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},v2=new Jd("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),r_=new Qm("@firebase/auth");function i_(n,...e){r_.logLevel<=Me.ERROR&&r_.error(`Auth (${fa}): ${n}`,...e)}function lr(n,...e){throw wC(n,...e)}function Ci(n,...e){return wC(n,...e)}function wC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return v2.create(n,...e)}function k(n,e,...t){if(!n)throw wC(e,...t)}function Ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw i_(e),new Error(e)}function eo(n,e){n||Ti(e)}function lh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function E2(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Ise(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bC(){return"http:"===E2()||"https:"===E2()}()||function xre(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,eo(t>e,"Short delay should be less than long delay!"),this.isMobile=iC()||JL()}get(){return Ise()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function CC(n,e){eo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class w2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bse=new ch(3e4,6e4);function it(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function st(n,e,t,r){return TC.apply(this,arguments)}function TC(){return(TC=T(function*(n,e,t,r,i={}){return b2(n,i,T(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=eh(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),w2.fetch()(C2(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function b2(n,e,t){return DC.apply(this,arguments)}function DC(){return(DC=T(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},wse),e);try{const i=new Tse(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw uh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw uh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw uh(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw uh(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function I2(n,e,t){const r=Object.assign(Object.assign({},yse()),{[e]:t});return new Jd("auth","Firebase",r).create(e,{appName:n.name})}(n,u,c);lr(n,u)}}catch(i){if(i instanceof cs)throw i;lr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function hs(n,e,t,r){return AC.apply(this,arguments)}function AC(){return(AC=T(function*(n,e,t,r,i={}){const s=yield st(n,e,t,r,i);return"mfaPendingCredential"in s&&lr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function C2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?CC(n.config,i):`${n.config.apiScheme}://${i}`}function Cse(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),bse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ci(n,e,r);return i.customData._tokenResponse=t,i}function D2(n){return void 0!==n&&void 0!==n.enterprise}class A2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Cse(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function S2(n,e){return xC.apply(this,arguments)}function xC(){return(xC=T(function*(n,e){return st(n,"GET","/v2/recaptchaConfig",it(n,e))})).apply(this,arguments)}function PC(){return(PC=T(function*(n,e){return st(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function MC(){return(MC=T(function*(n,e){return st(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function NC(){return(NC=T(function*(n,e=!1){const t=br(n),r=yield t.getIdToken(e),i=s_(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dh(kC(i.auth_time)),issuedAtTime:dh(kC(i.iat)),expirationTime:dh(kC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function kC(n){return 1e3*Number(n)}function s_(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return i_("JWT malformed, contained fewer than 3 sections"),null;try{const i=zm(t);return i?JSON.parse(i):(i_("Failed to decode base64 JWT payload"),null)}catch(i){return i_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fs(n,e){return OC.apply(this,arguments)}function OC(){return(OC=T(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof cs&&function Mse({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Nse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(T(function*(){yield t.iteration()}),r)}iteration(){var e=this;return T(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class x2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hh(n){return FC.apply(this,arguments)}function FC(){return FC=T(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield fs(n,function xse(n,e){return MC.apply(this,arguments)}(t,{idToken:r}));k(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Fse(n){return n.map(e=>{var{providerId:t}=e,r=kI(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Ose(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new x2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),FC.apply(this,arguments)}function VC(){return(VC=T(function*(n){const e=br(n);yield hh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function LC(){return(LC=T(function*(n,e){const t=yield b2(n,{},T(function*(){const r=eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=C2(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",w2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function BC(){return(BC=T(function*(n,e){return st(n,"POST","/v2/accounts:revokeToken",it(n,e))})).apply(this,arguments)}class fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Rse(n){const e=s_(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return T(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return T(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Vse(n,e){return LC.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new fh;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fh,this.toJSON())}_performRefresh(){return Ti("not implemented")}}function to(n,e){k("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ga{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=kI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new x2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return T(function*(){const r=yield fs(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Pse(n){return NC.apply(this,arguments)}(this,e)}reload(){return function kse(n){return VC.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ga(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return T(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield hh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return T(function*(){const t=yield e.getIdToken();return yield fs(e,function Ase(n,e){return PC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:I,isAnonymous:E,providerData:b,stsTokenManager:R}=t;k(v&&R,e,"internal-error");const A=fh.fromJSON(this.name,R);k("string"==typeof v,e,"internal-error"),to(d,e.name),to(h,e.name),k("boolean"==typeof I,e,"internal-error"),k("boolean"==typeof E,e,"internal-error"),to(f,e.name),to(p,e.name),to(g,e.name),to(m,e.name),to(y,e.name),to(_,e.name);const B=new ga({uid:v,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:A,createdAt:y,lastLoginAt:_});return b&&Array.isArray(b)&&(B.providerData=b.map(ee=>Object.assign({},ee))),m&&(B._redirectEventId=m),B}static _fromIdTokenResponse(e,t,r=!1){return T(function*(){const i=new fh;i.updateFromServerResponse(t);const s=new ga({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hh(s),s})()}}const P2=new Map;function ps(n){eo(n instanceof Function,"Expected a class definition");let e=P2.get(n);return e?(eo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P2.set(n,e),e)}const R2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(function*(){return!0})()}_set(t,r){var i=this;return T(function*(){i.storage[t]=r})()}_get(t){var r=this;return T(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return T(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function o_(n,e,t){return`firebase:${n}:${e}:${t}`}class bc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=o_(this.userKey,i.apiKey,s),this.fullPersistenceKey=o_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return T(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ga._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return T(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(function*(){if(!t.length)return new bc(ps(R2),e,r);const i=(yield Promise.all(t.map(function(){var c=T(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ps(R2);const o=o_(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=ga._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=T(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new bc(s,e,r)):new bc(s,e,r)})()}}function M2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V2(e))return"Blackberry";if(L2(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||k2(e))&&!e.includes("edge/"))return"Chrome";if(F2(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function N2(n=Yt()){return/firefox\//i.test(n)}function UC(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k2(n=Yt()){return/crios\//i.test(n)}function O2(n=Yt()){return/iemobile/i.test(n)}function F2(n=Yt()){return/android/i.test(n)}function V2(n=Yt()){return/blackberry/i.test(n)}function L2(n=Yt()){return/webos/i.test(n)}function a_(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function B2(n=Yt()){return a_(n)||F2(n)||L2(n)||V2(n)||/windows phone/i.test(n)||O2(n)}function U2(n,e=[]){let t;switch(n){case"Browser":t=M2(Yt());break;case"Worker":t=`${M2(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fa}/${r}`}class $se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return T(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function jC(){return(jC=T(function*(n,e={}){return st(n,"GET","/v2/passwordPolicy",it(n,e))})).apply(this,arguments)}class Wse{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Gse{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j2(this),this.idTokenSubscription=new j2(this),this.beforeStateQueue=new $se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(T(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield bc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return T(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return T(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return T(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return T(function*(){try{yield hh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ese(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return T(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return T(function*(){const r=e?br(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return T(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(T(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return T(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(T(function*(){yield t.assertedPersistence.setPersistence(ps(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return T(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return T(function*(){const t=yield function zse(n){return jC.apply(this,arguments)}(e),r=new Wse(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return T(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function Lse(n,e){return BC.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return T(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return T(function*(){if(!t.redirectPersistenceManager){const r=e&&ps(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield bc.create(t,[ps(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return T(function*(){var r,i;return t._isInitialized&&(yield t.queue(T(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return T(function*(){if(e===t.currentUser)return t.queue(T(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var t=this;return T(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return T(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return T(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function vse(n,...e){r_.logLevel<=Me.WARN&&r_.warn(`Auth (${fa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Rt(n){return br(n)}class j2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Bre(n,e){const t=new Ure(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={loadJS:()=>T(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $C(n){return ph.loadJS(n)}function $2(n){return`__${n}${Math.floor(1e6*Math.random())}`}class z2{constructor(e){this.type="recaptcha-enterprise",this.auth=Rt(e)}verify(e="verify",t=!1){var r=this;return T(function*(){function s(){return s=T(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=T(function*(c,u){S2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new A2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;D2(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&D2(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));let u=function Qse(){return ph.recaptchaEnterpriseScript}();0!==u.length&&(u+=c),$C(u).then(()=>{o(c,a,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})})()}}function H2(n,e,t){return zC.apply(this,arguments)}function zC(){return(zC=T(function*(n,e,t,r=!1){const i=new z2(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function gh(n,e,t,r){return HC.apply(this,arguments)}function HC(){return HC=T(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield H2(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=T(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield H2(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),HC.apply(this,arguments)}function W2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function G2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class q2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}function ooe(n,e){return KC.apply(this,arguments)}function KC(){return(KC=T(function*(n,e){return st(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function loe(n,e){return YC.apply(this,arguments)}function YC(){return(YC=T(function*(n,e){return hs(n,"POST","/v1/accounts:signInWithPassword",it(n,e))})).apply(this,arguments)}function nT(){return(nT=T(function*(n,e){return hs(n,"POST","/v1/accounts:signInWithEmailLink",it(n,e))})).apply(this,arguments)}function rT(){return(rT=T(function*(n,e){return hs(n,"POST","/v1/accounts:signInWithEmailLink",it(n,e))})).apply(this,arguments)}class mh extends q2{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new mh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new mh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return T(function*(){switch(t.signInMethod){case"password":return gh(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",loe);case"emailLink":return function foe(n,e){return nT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:lr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return T(function*(){switch(r.signInMethod){case"password":return gh(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ooe);case"emailLink":return function poe(n,e){return rT.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:lr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function gs(n,e){return iT.apply(this,arguments)}function iT(){return(iT=T(function*(n,e){return hs(n,"POST","/v1/accounts:signInWithIdp",it(n,e))})).apply(this,arguments)}class vh{constructor(e){var t,r,i,s,o,a;const l=th(nh(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Eoe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function woe(n){const e=th(nh(n)).link,t=e?th(nh(e)).deep_link_id:null,r=th(nh(n)).deep_link_id;return(r?th(nh(r)).link:null)||r||t||e||n}(e);try{return new vh(t)}catch{return null}}}let Q2=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return mh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=vh.parseLink(r);return k(i,"argument-error"),mh._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class no{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class boe extends no{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Y2(n,e){return uT.apply(this,arguments)}function uT(){return(uT=T(function*(n,e){return hs(n,"POST","/v1/accounts:signUp",it(n,e))})).apply(this,arguments)}class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(function*(){const s=yield ga._fromIdTokenResponse(e,r,i),o=X2(r);return new jr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return T(function*(){yield e._updateTokensIfNecessary(r,!0);const i=X2(r);return new jr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function X2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class u_ extends cs{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,u_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new u_(e,t,r,i)}}function J2(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?u_._fromErrorAndOperation(n,s,e,r):s})}function pT(){return(pT=T(function*(n,e,t=!1){const r=yield fs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return jr._forOperation(n,"link",r)})).apply(this,arguments)}function mT(){return(mT=T(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield fs(n,J2(r,i,e,n),t);k(s.idToken,r,"internal-error");const o=s_(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(n.uid===a,r,"user-mismatch"),jr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&lr(r,"user-mismatch"),s}})).apply(this,arguments)}function tB(n,e){return _T.apply(this,arguments)}function _T(){return(_T=T(function*(n,e,t=!1){const r="signIn",i=yield J2(n,r,e),s=yield jr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function yT(n,e){return vT.apply(this,arguments)}function vT(){return(vT=T(function*(n,e){return tB(Rt(n),e)})).apply(this,arguments)}function AT(n){return ST.apply(this,arguments)}function ST(){return(ST=T(function*(n){const e=Rt(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function kT(){return(kT=T(function*(n,e,t){const r=Rt(n),o=yield gh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y2).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&AT(n),l}),a=yield jr._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function rB(n,e,t,r){return br(n).onIdTokenChanged(e,t,r)}const f_="__sak";class iB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(f_,"1"),this.storage.removeItem(f_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Koe=(()=>{class n extends iB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Woe(){const n=Yt();return UC(n)||a_(n)}()&&function jse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=B2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Use(){return function Pre(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return T(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return T(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return T(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),sB=(()=>{class n extends iB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Yoe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return T(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=T(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Qoe(n){return Promise.all(n.map(function(){var e=T(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function YT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Xoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return T(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=YT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ut(){return window}function XT(){return typeof Ut().WorkerGlobalScope<"u"&&"function"==typeof Ut().importScripts}function JT(){return(JT=T(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oB="firebaseLocalStorageDb",p_="firebaseLocalStorage",aB="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function g_(n,e){return n.transaction([p_],e?"readwrite":"readonly").objectStore(p_)}function ZT(){const n=indexedDB.open(oB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(p_,{keyPath:aB})}catch(i){t(i)}}),n.addEventListener("success",T(function*(){const r=n.result;r.objectStoreNames.contains(p_)?e(r):(r.close(),yield function rae(){const n=indexedDB.deleteDatabase(oB);return new Eh(n).toPromise()}(),e(yield ZT()))}))})}function lB(n,e,t){return e0.apply(this,arguments)}function e0(){return(e0=T(function*(n,e,t){const r=g_(n,!0).put({[aB]:e,value:t});return new Eh(r).toPromise()})).apply(this,arguments)}function t0(){return(t0=T(function*(n,e){const t=g_(n,!1).get(e),r=yield new Eh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function cB(n,e){const t=g_(n,!0).delete(e);return new Eh(t).toPromise()}const aae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return T(function*(){return t.db||(t.db=yield ZT()),t.db})()}_withRetries(t){var r=this;return T(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return T(function*(){return XT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return T(function*(){t.receiver=Yoe._getInstance(function tae(){return XT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=T(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=T(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return T(function*(){var r,i;if(t.activeServiceWorker=yield function Zoe(){return JT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Xoe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return T(function*(){if(r.sender&&r.activeServiceWorker&&function eae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return T(function*(){try{if(!indexedDB)return!1;const t=yield ZT();return yield lB(t,f_,"1"),yield cB(t,f_),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return T(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return T(function*(){return i._withPendingWrite(T(function*(){return yield i._withRetries(s=>lB(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return T(function*(){const i=yield r._withRetries(s=>function iae(n,e){return t0.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return T(function*(){return r._withPendingWrite(T(function*(){return yield r._withRetries(i=>cB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return T(function*(){const r=yield t._withRetries(o=>{const a=g_(o,!1).getAll();return new Eh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(T(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();$2("rcb"),new ch(3e4,6e4);class d0 extends q2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wae(n){return tB(n.auth,new d0(n),n.bypassAuthState)}function bae(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),function eB(n,e){return mT.apply(this,arguments)}(t,new d0(n),n.bypassAuthState)}function Cae(n){return h0.apply(this,arguments)}function h0(){return(h0=T(function*(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),function fT(n,e){return pT.apply(this,arguments)}(t,new d0(n),n.bypassAuthState)})).apply(this,arguments)}class Tae{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=T(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return T(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wae;case"linkViaPopup":case"linkViaRedirect":return Cae;case"reauthViaPopup":case"reauthViaRedirect":return bae;default:lr(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ch(2e3,1e4);const Dae="pendingRedirect",wh=new Map;class Aae extends Tae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return T(function*(){let r=wh.get(t.auth._key());if(!r){try{const s=(yield function Sae(n,e){return _0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}wh.set(t.auth._key(),r)}return t.bypassAuthState||wh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return T(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return T(function*(){})()}cleanUp(){}}function _0(){return(_0=T(function*(n,e){const t=function hB(n){return o_(Dae,n.config.apiKey,n.name)}(e),r=function dB(n){return ps(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function xae(n,e){wh.set(n._key(),e)}function fB(n,e){return C0.apply(this,arguments)}function C0(){return(C0=T(function*(n,e,t=!1){const r=Rt(n),i=function _a(n,e){return e?ps(e):(k(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new Aae(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class kae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Oae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gB(e))}saveEventToCache(e){this.cachedEventUids.add(gB(e)),this.lastProcessedEventTime=Date.now()}}function gB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function D0(){return(D0=T(function*(n,e={}){return st(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Vae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lae=/^https?/;function A0(){return A0=T(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Fae(n){return D0.apply(this,arguments)}(n);for(const t of e)try{if(Uae(t))return}catch{}lr(n,"unauthorized-domain")}),A0.apply(this,arguments)}function Uae(n){const e=lh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Lae.test(t))return!1;if(Vae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const jae=new ch(3e4,6e4);function _B(){const n=Ut().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let __=null;const Hae=new ch(5e3,15e3),Wae="__/auth/iframe",Gae="emulator/auth/iframe",qae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qae(n){const e=n.config;k(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?CC(e,Gae):`https://${n.config.authDomain}/${Wae}`,r={apiKey:e.apiKey,appName:n.name,v:fa},i=Kae.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${eh(r).slice(1)}`}function S0(){return S0=T(function*(n){const e=yield function zae(n){return __=__||function $ae(n){return new Promise((e,t)=>{var r,i,s;function o(){_B(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_B(),t(Ci(n,"network-request-failed"))},timeout:jae.get()})}if(null!==(i=null===(r=Ut().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ut().gapi)||void 0===s||!s.load){const a=$2("iframefcb");return Ut()[a]=()=>{gapi.load?o():t(Ci(n,"network-request-failed"))},$C(`${function Yse(){return ph.gapiScript}()}?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw __=null,e})}(n),__}(n),t=Ut().gapi;return k(t,n,"internal-error"),e.open({where:document.body,url:Qae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qae,dontclear:!0},r=>new Promise(function(){var i=T(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ci(n,"network-request-failed"),l=Ut().setTimeout(()=>{o(a)},Hae.get());function c(){Ut().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),S0.apply(this,arguments)}const Xae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ile="__/auth/handler",sle="emulator/auth/handler",ole=encodeURIComponent("fac");function vB(n,e,t,r,i,s){return x0.apply(this,arguments)}function x0(){return(x0=T(function*(n,e,t,r,i,s){k(n.config.authDomain,n,"auth-domain-config-required"),k(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fa,eventId:i};if(e instanceof no){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",sC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof boe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${ole}=${encodeURIComponent(l)}`:"";return`${function ale({config:n}){return n.emulator?CC(n,sle):`https://${n.authDomain}/${ile}`}(n)}?${eh(a).slice(1)}${c}`})).apply(this,arguments)}const P0="webStorageSupport",cle=class lle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sB,this._completeRedirectFn=fB,this._overrideRedirectResult=xae}_openPopup(e,t,r,i){var s=this;return T(function*(){var o;eo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield vB(e,t,r,lh(),i);return function nle(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Yt().toLowerCase();t&&(a=k2(c)?"_blank":t),N2(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Bse(n=Yt()){var e;return a_(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function rle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new yB(null);const d=window.open(e||"",a,u);k(d,n,"popup-blocked");try{d.focus()}catch{}return new yB(d)}(e,a,YT())})()}_openRedirect(e,t,r,i){var s=this;return T(function*(){return yield s._originValidation(e),function Joe(n){Ut().location.href=n}(yield vB(e,t,r,lh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(eo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return T(function*(){const r=yield function Yae(n){return S0.apply(this,arguments)}(e),i=new kae(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(P0,{type:P0},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[P0];void 0!==o&&t(!!o),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Bae(n){return A0.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B2()||UC()||a_()}};var wB="@firebase/auth";class ule{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return T(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ple=YL("authIdTokenMaxAge")||300;let CB=null;const gle=n=>function(){var e=T(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>ple)return;const s=r?.token;CB!==s&&(CB=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function mle(n=Jm()){const e=rh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function eoe(n,e){const t=rh(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(qm(t.getOptions(),e??{}))return i;lr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:cle,persistence:[aae,Koe,sB]}),r=YL("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=gle(r);(function Boe(n,e,t){br(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),rB(t,o=>s(o))}const i=qL("auth");return i&&function noe(n,e,t){const r=Rt(n);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=W2(e),{host:o,port:a}=function roe(n){const e=W2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G2(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:G2(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function ioe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function TB(n){return new _t(function(e){return{unsubscribe:rB(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}(function qse(n){ph=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ci("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function _le(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function hle(n){ha(new Js("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U2(n)},c=new Gse(r,i,s,l);return function toe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ha(new Js("auth-internal",e=>{const t=Rt(e.getProvider("auth").getImmediate());return new ule(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(wB,"1.6.2",function dle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Dn(wB,"1.6.2","esm2017")}("Browser");class bh{constructor(e){return e}}class M0{constructor(){return e_("auth")}}const N0=new $("angularfire2.auth-instances");function vle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bh(r)}}const Ile={provide:M0,deps:[[new fn,N0]]},Ele={provide:bh,useFactory:function yle(n,e){const t=vC("auth",n,e);return t&&new bh(t)},deps:[[new fn,N0],Ec]};let wle=(()=>{class n{constructor(){Dn("angularfire",oh.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=Bn({providers:[Ele,Ile]})}return n})();function ble(n,...e){return{ngModule:wle,providers:[{provide:N0,useFactory:vle(n),multi:!0,deps:[xe,pn,t_,n_,[new fn,IC],...e]}]}}const Cle=ah(TB,!0),Tle=ah(mle,!0);var V,Dle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={},k0=k0||{},se=Dle||self;function v_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ch(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var O0="closure_uid_"+(1e9*Math.random()>>>0),Sle=0;function xle(n,e,t){return n.call.apply(n.bind,arguments)}function Ple(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function An(n,e,t){return(An=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xle:Ple).apply(null,arguments)}function I_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ro(){this.s=this.s,this.o=this.o}ro.prototype.s=!1,ro.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ale(n){Object.prototype.hasOwnProperty.call(n,O0)&&n[O0]||(n[O0]=++Sle)}(this)},ro.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function F0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function SB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(v_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Sn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};var Mle=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};se.addEventListener("test",t,e),se.removeEventListener("test",t,e)}catch{}return n}();function Th(n){return/^[\s\xa0]*$/.test(n)}function E_(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function Di(n){return-1!=E_().indexOf(n)}function V0(n){return V0[" "](n),n}V0[" "]=function(){};var B0,n,kle=Di("Opera"),Cc=Di("Trident")||Di("MSIE"),xB=Di("Edge"),L0=xB||Cc,PB=Di("Gecko")&&!(-1!=E_().toLowerCase().indexOf("webkit")&&!Di("Edge"))&&!(Di("Trident")||Di("MSIE"))&&!Di("Edge"),Ole=-1!=E_().toLowerCase().indexOf("webkit")&&!Di("Edge");function RB(){var n=se.document;return n?n.documentMode:void 0}e:{var U0="",j0=(n=E_(),PB?/rv:([^\);]+)(\)|;)/.exec(n):xB?/Edge\/([\d\.]+)/.exec(n):Cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ole?/WebKit\/(\S+)/.exec(n):kle?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(j0&&(U0=j0?j0[1]:""),Cc){var $0=RB();if(null!=$0&&$0>parseFloat(U0)){B0=String($0);break e}}B0=U0}var Fle=se.document&&Cc&&(RB()||parseInt(B0,10))||void 0;function Dh(n,e){if(Sn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(PB){e:{try{V0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Vle[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dh.$.h.call(this)}}Jt(Dh,Sn);var Vle={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),Lle=0;function Ble(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Lle,this.fa=this.ia=!1}function w_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function H0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function NB(n){const e={};for(const t in n)e[t]=n[t];return e}const kB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<kB.length;s++)t=kB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function b_(n){this.src=n,this.g={},this.h=0}function W0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=AB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(w_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}b_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=G0(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Ble(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var q0="closure_lm_"+(1e6*Math.random()|0),K0={};function FB(n,e,t,r,i){if(r&&r.once)return LB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FB(n,e[s],t,r,i);return null}return t=J0(t),n&&n[Ah]?n.O(e,t,Ch(r)?!!r.capture:!!r,i):VB(n,e,t,!1,r,i)}function VB(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Ch(i)?!!i.capture:!!i,a=Y0(n);if(a||(n[q0]=a=new b_(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function jle(){const e=$le;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Mle||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function LB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LB(n,e[s],t,r,i);return null}return t=J0(t),n&&n[Ah]?n.P(e,t,Ch(r)?!!r.capture:!!r,i):VB(n,e,t,!0,r,i)}function BB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BB(n,e[s],t,r,i);else r=Ch(r)?!!r.capture:!!r,t=J0(t),n&&n[Ah]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G0(s=n.g[e],t,r,i))&&(w_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Y0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G0(e,t,r,i)),(t=-1<n?e[n]:null)&&Q0(t))}function Q0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ah])W0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Y0(e))?(W0(t,n),0==t.h&&(t.src=null,e[q0]=null)):w_(n)}}}function UB(n){return n in K0?K0[n]:K0[n]="on"+n}function $le(n,e){if(n.fa)n=!0;else{e=new Dh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Q0(n),n=t.call(r,e)}return n}function Y0(n){return(n=n[q0])instanceof b_?n:null}var X0="__closure_events_fn_"+(1e9*Math.random()>>>0);function J0(n){return"function"==typeof n?n:(n[X0]||(n[X0]=function(e){return n.handleEvent(e)}),n[X0])}function Zt(){ro.call(this),this.i=new b_(this),this.S=this,this.J=null}function mn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Sn(e,n);else if(e instanceof Sn)e.target=e.target||n;else{var i=e;OB(e=new Sn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=C_(o,r,!0,e)&&i}if(i=C_(o=e.g=n,r,!0,e)&&i,i=C_(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=C_(o=e.g=t[s],r,!1,e)&&i}function C_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&W0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Jt(Zt,ro),Zt.prototype[Ah]=!0,Zt.prototype.removeEventListener=function(n,e,t,r){BB(this,n,e,t,r)},Zt.prototype.N=function(){if(Zt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)w_(t[r]);delete n.g[e],n.h--}}this.J=null},Zt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Z0=se.JSON.stringify;function Hle(){var n=eD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jB=new class zle{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gle,n=>n.reset());class Gle{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qle(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Kle(n){se.setTimeout(()=>{throw n},0)}let Sh,xh=!1,eD=new class Wle{constructor(){this.h=this.g=null}add(e,t){const r=jB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},$B=()=>{const n=se.Promise.resolve(void 0);Sh=()=>{n.then(Qle)}};var Qle=()=>{for(var n;n=Hle();){try{n.h.call(n.g)}catch(t){Kle(t)}var e=jB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xh=!1};function T_(n,e){Zt.call(this),this.h=n||1,this.g=e||se,this.j=An(this.qb,this),this.l=Date.now()}function tD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nD(n,e,t){if("function"==typeof n)t&&(n=An(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=An(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function zB(n){n.g=nD(()=>{n.g=null,n.i&&(n.i=!1,zB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jt(T_,Zt),(V=T_.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mn(this,"tick"),this.ga&&(tD(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){T_.$.N.call(this),tD(this),delete this.g};class Yle extends ro{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zB(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ph(n){ro.call(this),this.h=n,this.g={}}Jt(Ph,ro);var HB=[];function WB(n,e,t,r){Array.isArray(t)||(t&&(HB[0]=t.toString()),t=HB);for(var i=0;i<t.length;i++){var s=FB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GB(n){H0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Q0(e)},n),n.g={}}function D_(){this.g=!0}function Tc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ece(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Z0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ph.prototype.N=function(){Ph.$.N.call(this),GB(this)},Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D_.prototype.Ea=function(){this.g=!1},D_.prototype.info=function(){};var ya={},qB=null;function A_(){return qB=qB||new Zt}function KB(n){Sn.call(this,ya.Ta,n)}function Rh(n){const e=A_();mn(e,new KB(e))}function QB(n,e){Sn.call(this,ya.STAT_EVENT,n),this.stat=e}function Kn(n){const e=A_();mn(e,new QB(e,n))}function YB(n,e){Sn.call(this,ya.Ua,n),this.size=e}function Mh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}ya.Ta="serverreachability",Jt(KB,Sn),ya.STAT_EVENT="statevent",Jt(QB,Sn),ya.Ua="timingevent",Jt(YB,Sn);var S_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rD(){}function ZB(){}rD.prototype.h=null;var oD,Nh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iD(){Sn.call(this,"d")}function sD(){Sn.call(this,"c")}function x_(){}function kh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ph(this),this.P=tce,this.V=new T_(n=L0?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eU}function eU(){this.i=null,this.g="",this.h=!1}Jt(iD,Sn),Jt(sD,Sn),Jt(x_,rD),x_.prototype.g=function(){return new XMLHttpRequest},x_.prototype.i=function(){return{}},oD=new x_;var tce=45e3,tU={},aD={};function lD(n,e,t){n.L=1,n.A=N_(ms(e)),n.u=t,n.S=!0,nU(n,null)}function nU(n,e){n.G=Date.now(),Oh(n),n.B=ms(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),hU(t.i,"t",r),n.o=0,t=n.l.J,n.h=new eU,n.g=FU(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Yle(An(n.Pa,n,n.g),n.O)),WB(n.U,n.g,"readystatechange",n.nb),e=n.I?NB(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Rh(),function Xle(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function rU(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function iU(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=nce(n,t),i==aD){4==e&&(n.s=4,Kn(14),r=!1),Tc(n.j,n.m,null,"[Incomplete Response]");break}if(i==tU){n.s=4,Kn(15),Tc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tc(n.j,n.m,i,null),cD(n,i)}rU(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),mD(e),e.M=!0,Kn(11))):(Tc(n.j,n.m,t,"[Invalid Chunked Response]"),va(n),Fh(n))}function nce(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?aD:(t=Number(e.substring(t,r)),isNaN(t)?tU:(r+=1)+t>e.length?aD:(e=e.slice(r,r+t),n.o=r+t,e))}function Oh(n){n.Y=Date.now()+n.P,sU(n,n.P)}function sU(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Mh(An(n.lb,n),e)}function P_(n){n.C&&(se.clearTimeout(n.C),n.C=null)}function Fh(n){0==n.l.H||n.J||MU(n.l,n)}function va(n){P_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tD(n.V),GB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uD(t.i,n)))if(!n.K&&uD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;B_(t),V_(t)}gD(t),Kn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Mh(An(t.ib,t),6e3));if(1>=gU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ea(t,11)}else if((n.K||t.g==n)&&B_(t),!Th(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dD(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ot(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=OU(r,r.J?r.pa:null,r.Y),o.K){mU(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(P_(a),Oh(a)),r.g=o}else PU(r);0<t.j.length&&L_(t)}else"stop"!=c[0]&&"close"!=c[0]||Ea(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ea(t,7):pD(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Rh()}catch{}}function oU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(v_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ice(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(v_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function rce(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(v_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(V=kh.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==Ai(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const u=Ai(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||L0||this.g&&(this.h.h||this.g.ja()||CU(this.g)))){this.J||4!=u||7==e||Rh(),P_(this);var t=this.g.da();this.ca=t;t:if(rU(this)){var r=CU(this.g);n="";var i=r.length,s=4==Ai(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){va(this),Fh(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Jle(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Th(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,Kn(12),va(this),Fh(this);break e}Tc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cD(this,t)}this.S?(iU(this,u,o),L0&&this.i&&3==u&&(WB(this.U,this.V,"tick",this.mb),this.V.start())):(Tc(this.j,this.m,o,null),cD(this,o)),4==u&&va(this),this.i&&!this.J&&(4==u?MU(this.l,this):(this.i=!1,Oh(this)))}else(function wce(n){const e={};n=(n.g&&2<=Ai(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Th(n[r]))continue;var t=qle(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Ule(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,Kn(12)):(this.s=0,Kn(13)),va(this),Fh(this)}}}catch{}},V.mb=function(){if(this.g){var n=Ai(this.g),e=this.g.ja();this.o<e.length&&(P_(this),iU(this,n,e),this.i&&4!=n&&Oh(this))}},V.cancel=function(){this.J=!0,va(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Zle(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Rh(),Kn(17)),va(this),this.s=2,Fh(this)):sU(this,this.Y-n)};var aU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ia){this.h=n.h,R_(this,n.j),this.s=n.s,this.g=n.g,M_(this,n.m),this.l=n.l;var e=n.i,t=new Bh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lU(this,t),this.o=n.o}else n&&(e=String(n).match(aU))?(this.h=!1,R_(this,e[1]||"",!0),this.s=Vh(e[2]||""),this.g=Vh(e[3]||"",!0),M_(this,e[4]),this.l=Vh(e[5]||"",!0),lU(this,e[6]||"",!0),this.o=Vh(e[7]||"")):(this.h=!1,this.i=new Bh(null,this.h))}function ms(n){return new Ia(n)}function R_(n,e,t){n.j=t?Vh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function M_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lU(n,e,t){e instanceof Bh?(n.i=e,function dce(n,e){e&&!n.j&&(io(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(uU(this,r),hU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Lh(e,cce)),n.i=new Bh(e,n.h))}function ot(n,e,t){n.i.set(e,t)}function N_(n){return ot(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oce),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ia.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lh(e,cU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lh(e,cU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lh(t,"/"==t.charAt(0)?lce:ace,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lh(t,uce)),n.join("")};var cU=/[#\/\?@]/g,ace=/[#\?:]/g,lce=/[#\?]/g,cce=/[#\?@]/g,uce=/#/g;function Bh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function io(n){n.g||(n.g=new Map,n.h=0,n.i&&function sce(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uU(n,e){io(n),e=Dc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function dU(n,e){return io(n),e=Dc(n,e),n.g.has(e)}function hU(n,e,t){uU(n,e),0<t.length&&(n.i=null,n.g.set(Dc(n,e),F0(t)),n.h+=t.length)}function Dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fU(n){this.l=n||fce,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Bh.prototype).add=function(n,e){io(this),this.i=null,n=Dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){io(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){io(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},V.Z=function(n){io(this);let e=[];if("string"==typeof n)dU(this,n)&&(e=e.concat(this.g.get(Dc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return io(this),this.i=null,dU(this,n=Dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var fce=10;function pU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gU(n){return n.h?1:n.g?n.g.size:0}function uD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dD(n,e){n.g?n.g.add(e):n.h=e}function mU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _U(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return F0(n.i)}fU.prototype.cancel=function(){if(this.i=_U(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var pce=class{stringify(n){return se.JSON.stringify(n,void 0)}parse(n){return se.JSON.parse(n,void 0)}};function gce(){this.g=new pce}function mce(n,e,t){const r=t||"";try{oU(n,function(i,s){let o=i;Ch(i)&&(o=Z0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Uh(n){this.l=n.ec||null,this.j=n.ob||!1}function O_(n,e){Zt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jt(Uh,rD),Uh.prototype.g=function(){return new O_(this.l,this.j)},Uh.prototype.i=function(n){return function(){return n}}({}),Jt(O_,Zt);var hD=0;function yU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,$h(n)}function $h(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=O_.prototype).open=function(n,e){if(this.readyState!=hD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,$h(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jh(this)),this.readyState=hD},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,$h(this)),this.g&&(this.readyState=3,$h(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jh(this):$h(this),3==this.readyState&&yU(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,jh(this))},V.Ya=function(n){this.g&&(this.response=n,jh(this))},V.ka=function(){this.g&&jh(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(O_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yce=se.JSON.parse;function Ct(n){Zt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vU,this.L=this.M=!1}Jt(Ct,Zt);var vU="",vce=/^https?$/i,Ice=["POST","PUT"];function IU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EU(n),F_(n)}function EU(n){n.F||(n.F=!0,mn(n,"complete"),mn(n,"error"))}function wU(n){if(n.h&&typeof k0<"u"&&(!n.C[1]||4!=Ai(n)||2!=n.da()))if(n.v&&4==Ai(n))nD(n.La,0,n);else if(mn(n,"readystatechange"),4==Ai(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(aU)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!vce.test(i?i.toLowerCase():"")}t=r}if(t)mn(n,"complete"),mn(n,"success");else{n.m=6;try{var s=2<Ai(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",EU(n)}}finally{F_(n)}}}function F_(n,e){if(n.g){bU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||mn(n,"ready");try{t.onreadystatechange=r}catch{}}}function bU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Ai(n){return n.g?n.g.readyState:0}function CU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case vU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function TU(n){let e="";return H0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=TU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ot(n,e,t))}function zh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function DU(n){this.Ga=0,this.j=[],this.l=new D_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zh("baseRetryDelayMs",5e3,n),this.hb=zh("retryDelaySeedMs",1e4,n),this.eb=zh("forwardChannelMaxRetries",2,n),this.xa=zh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new fU(n&&n.concurrentRequestLimit),this.Ja=new gce,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pD(n){if(AU(n),3==n.H){var e=n.W++,t=ms(n.I);if(ot(t,"SID",n.K),ot(t,"RID",e),ot(t,"TYPE","terminate"),Hh(n,t),(e=new kh(n,n.l,e)).L=2,e.A=N_(ms(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.A,t=!0),t||(e.g=FU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Oh(e)}kU(n)}function V_(n){n.g&&(mD(n),n.g.cancel(),n.g=null)}function AU(n){V_(n),n.u&&(se.clearTimeout(n.u),n.u=null),B_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function L_(n){if(!pU(n.i)&&!n.m){n.m=!0;var e=n.Na;Sh||$B(),xh||(Sh(),xh=!0),eD.add(e,n),n.C=0}}function SU(n,e){var t;t=e?e.m:n.W++;const r=ms(n.I);ot(r,"SID",n.K),ot(r,"RID",t),ot(r,"AID",n.V),Hh(n,r),n.o&&n.s&&fD(r,n.o,n.s),t=new kh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dD(n.i,t),lD(t,r,e)}function Hh(n,e){n.na&&H0(n.na,function(t,r){ot(e,r,t)}),n.h&&oU({},function(t,r){ot(e,r,t)})}function xU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?An(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{mce(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function PU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Sh||$B(),xh||(Sh(),xh=!0),eD.add(e,n),n.A=0}}function gD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Mh(An(n.Ma,n),NU(n,n.A)),n.A++,0))}function mD(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function RU(n){n.g=new kh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ms(n.wa);ot(e,"RID","rpc"),ot(e,"SID",n.K),ot(e,"AID",n.V),ot(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ot(e,"TO",n.qa),ot(e,"TYPE","xmlhttp"),Hh(n,e),n.o&&n.s&&fD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=N_(ms(e)),t.u=null,t.S=!0,nU(t,n)}function B_(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function MU(n,e){var t=null;if(n.g==e){B_(n),mD(n),n.g=null;var r=2}else{if(!uD(n.i,e))return;t=e.F,mU(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;mn(r=A_(),new YB(r,t)),L_(n)}else PU(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function bce(n,e){return!(gU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Mh(An(n.Na,n,e),NU(n,n.C)),n.C++,0)))}(n,e)||2==r&&gD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ea(n,5);break;case 4:Ea(n,10);break;case 3:Ea(n,6);break;default:Ea(n,2)}}function NU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ea(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=An(n.pb,n);t||(t=new Ia("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||R_(t,"https"),N_(t)),function _ce(n,e){const t=new D_;if(se.Image){const r=new Image;r.onload=I_(k_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=I_(k_,t,r,"TestLoadImage: error",!1,e),r.onabort=I_(k_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=I_(k_,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kn(2);n.H=0,n.h&&n.h.za(e),kU(n),AU(n)}function kU(n){if(n.H=0,n.ma=[],n.h){const e=_U(n.i);(0!=e.length||0!=n.j.length)&&(SB(n.ma,e),SB(n.ma,n.j),n.i.i.length=0,F0(n.j),n.j.length=0),n.h.ya()}}function OU(n,e,t){var r=t instanceof Ia?ms(t):new Ia(t);if(""!=r.g)e&&(r.g=e+"."+r.g),M_(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ia(null);r&&R_(s,r),e&&(s.g=e),i&&M_(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ot(r,t,e),ot(r,"VER",n.ra),Hh(n,r),r}function FU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ct(n.Ha&&!n.va?new Uh({ob:t}):n.va)).Oa(n.J),e}function VU(){}function U_(){if(Cc&&!(10<=Number(Fle)))throw Error("Environmental error: no available transport.")}function Cr(n,e){Zt.call(this),this.g=new DU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Th(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Th(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ac(this)}function LU(n){iD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BU(){sD.call(this),this.status=1}function Ac(n){this.g=n}function ii(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _D(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Le(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(V=Ct.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oD.g(),this.C=function JB(n){return n.h||(n.h=n.i())}(this.u?this.u:oD),this.g.onreadystatechange=An(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void IU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=AB(Ice,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bU(this),0<this.B&&((this.L=function Ece(n){return Cc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=An(this.ua,this)):this.A=nD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){IU(this,s)}},V.ua=function(){typeof k0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mn(this,"complete"),mn(this,"abort"),F_(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),F_(this,!0)),Ct.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?wU(this):this.kb())},V.kb=function(){wU(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yce(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=DU.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new kh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=NB(s),OB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xU(this,i,e),ot(t=ms(this.I),"RID",n),ot(t,"CVER",22),this.F&&ot(t,"X-HTTP-Session-Id",this.F),Hh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(TU(s)))+"&"+e:this.o&&fD(t,this.o,s)),dD(this.i,i),this.bb&&ot(t,"TYPE","init"),this.P?(ot(t,"$req",e),ot(t,"SID","null"),i.aa=!0,lD(i,t,null)):lD(i,t,e),this.H=2}}else 3==this.H&&(n?SU(this,n):0==this.j.length||pU(this.i)||SU(this))},V.Ma=function(){if(this.u=null,RU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Mh(An(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kn(10),V_(this),RU(this))},V.ib=function(){null!=this.v&&(this.v=null,V_(this),gD(this),Kn(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kn(2)):(this.l.info("Failed to ping google.com"),Kn(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=VU.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},U_.prototype.g=function(n,e){return new Cr(n,e)},Jt(Cr,Zt),Cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Kn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=OU(n,null,n.Y),L_(n)},Cr.prototype.close=function(){pD(this.g)},Cr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Z0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&L_(e)},Cr.prototype.N=function(){this.g.h=null,delete this.j,pD(this.g),delete this.g,Cr.$.N.call(this)},Jt(LU,iD),Jt(BU,sD),Jt(Ac,VU),Ac.prototype.Ba=function(){mn(this.g,"a")},Ac.prototype.Aa=function(n){mn(this.g,new LU(n))},Ac.prototype.za=function(n){mn(this.g,new BU)},Ac.prototype.ya=function(){mn(this.g,"b")},Jt(ii,function Cce(){this.blockSize=-1}),ii.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ii.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)_D(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){_D(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){_D(this,r),i=0;break}}this.h=i,this.i+=e},ii.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Tce={};function yD(n){return-128<=n&&128>n?function Nle(n,e){var t=Tce;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Le([0|e],0>e?-1:0)}):new Le([0|n],0>n?-1:0)}function Si(n){if(isNaN(n)||!isFinite(n))return Sc;if(0>n)return _n(Si(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=vD;return new Le(e,0)}var vD=4294967296,Sc=yD(0),ID=yD(1),jU=yD(16777216);function _s(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function $r(n){return-1==n.h}function _n(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Le(t,~n.h).add(ID)}function j_(n,e){return n.add(_n(e))}function $_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Wh(n,e){this.g=n,this.h=e}function z_(n,e){if(_s(e))throw Error("division by zero");if(_s(n))return new Wh(Sc,Sc);if($r(n))return e=z_(_n(n),e),new Wh(_n(e.g),_n(e.h));if($r(e))return e=z_(n,_n(e)),new Wh(_n(e.g),e.h);if(30<n.g.length){if($r(n)||$r(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ID,r=e;0>=r.X(n);)t=$U(t),r=$U(r);var i=xc(t,1),s=xc(r,1);for(r=xc(r,2),t=xc(t,2);!_s(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=xc(r,1),t=xc(t,1)}return e=j_(n,i.R(e)),new Wh(i,e)}for(i=Sc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Si(t)).R(e);$r(o)||0<o.X(n);)o=(s=Si(t-=r)).R(e);_s(s)&&(s=ID),i=i.add(s),n=j_(n,o)}return new Wh(i,n)}function $U(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Le(t,n.h)}function xc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Le(i,n.h)}(V=Le.prototype).ea=function(){if($r(this))return-_n(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:vD+r)*e,e*=vD}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(_s(this))return"0";if($r(this))return"-"+_n(this).toString(n);for(var e=Si(Math.pow(n,6)),t=this,r="";;){var i=z_(t,e).g,s=((0<(t=j_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(_s(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return $r(n=j_(this,n))?-1:_s(n)?0:1},V.abs=function(){return $r(this)?_n(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Le(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(_s(this)||_s(n))return Sc;if($r(this))return $r(n)?_n(this).R(_n(n)):_n(_n(this).R(n));if($r(n))return _n(this.R(_n(n)));if(0>this.X(jU)&&0>n.X(jU))return Si(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,$_(t,2*r+2*i),t[2*r+2*i+1]+=s*l,$_(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,$_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,$_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Le(t,0)},V.gb=function(n){return z_(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Le(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Le(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Le(t,this.h^n.h)},U_.prototype.createWebChannel=U_.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,S_.NO_ERROR=0,S_.TIMEOUT=8,S_.HTTP_ERROR=6,XB.COMPLETE="complete",ZB.EventType=Nh,Nh.OPEN="a",Nh.CLOSE="b",Nh.ERROR="c",Nh.MESSAGE="d",Zt.prototype.listen=Zt.prototype.O,Ct.prototype.listenOnce=Ct.prototype.P,Ct.prototype.getLastError=Ct.prototype.Sa,Ct.prototype.getLastErrorCode=Ct.prototype.Ia,Ct.prototype.getStatus=Ct.prototype.da,Ct.prototype.getResponseJson=Ct.prototype.Wa,Ct.prototype.getResponseText=Ct.prototype.ja,Ct.prototype.send=Ct.prototype.ha,Ct.prototype.setWithCredentials=Ct.prototype.Oa,ii.prototype.digest=ii.prototype.l,ii.prototype.reset=ii.prototype.reset,ii.prototype.update=ii.prototype.j,Le.prototype.add=Le.prototype.add,Le.prototype.multiply=Le.prototype.R,Le.prototype.modulo=Le.prototype.gb,Le.prototype.compare=Le.prototype.X,Le.prototype.toNumber=Le.prototype.ea,Le.prototype.toString=Le.prototype.toString,Le.prototype.getBits=Le.prototype.D,Le.fromNumber=Si,Le.fromString=function UU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _n(UU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Si(Math.pow(e,8)),r=Sc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Si(Math.pow(e,s)),r=r.R(s).add(Si(o))):r=(r=r.R(t)).add(Si(o))}return r},ri.createWebChannelTransport=function(){return new U_},ri.getStatEventTarget=function(){return A_()},ri.ErrorCode=S_,ri.EventType=XB,ri.Event=ya,ri.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ri.FetchXmlHttpFactory=Uh,ri.WebChannel=ZB,ri.XhrIo=Ct,ri.Md5=ii;var Dce=ri.Integer=Le;const zU="@firebase/firestore";class en{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Gh="10.9.0";const so=new Qm("@firebase/firestore");function P(n,...e){if(so.logLevel<=Me.DEBUG){const t=e.map(ED);so.debug(`Firestore (${Gh}): ${n}`,...t)}}function Mt(n,...e){if(so.logLevel<=Me.ERROR){const t=e.map(ED);so.error(`Firestore (${Gh}): ${n}`,...t)}}function ED(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function j(n="Unexpected state"){const e=`FIRESTORE (${Gh}) INTERNAL ASSERTION FAILED: `+n;throw Mt(e),new Error(e)}function W(n,e){n||j()}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ace{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class Sce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xce{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(T(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new HU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new en(e)}}class Pce{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rce{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Pce(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(W("string"==typeof t.token),this.R=t.token,new WU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nce(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class GU{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Nce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}class H_{constructor(e,t,r){void 0===t?t=0:t>e.length&&j(),void 0===r?r=e.length-t:r>e.length-t&&j(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===H_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof H_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ye extends H_{construct(e,t,r){return new ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ye(t)}static emptyPath(){return new ye([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(ye.fromString(e))}static fromName(e){return new F(ye.fromString(e).popFirst(5))}static empty(){return new F(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ye(e.slice()))}}function ao(n){return"IndexedDbTransactionError"===n.name}class Ze{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q_(this.root,e,this.comparator,!1)}getReverseIterator(){return new q_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q_(this.root,e,this.comparator,!0)}}class q_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=s??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new yn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,t,r,i,s){return this}insert(e,t,r){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aj(this.data.getIterator())}getIteratorFrom(e){return new aj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new He(this.comparator);return t.data=e,t}}class aj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lj("Invalid base64 string: "+s):s}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Tt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}qt.EMPTY_BYTE_STRING=new qt("");class oue{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}var jt,Te,BA,hz;new Ze(F.comparator),new Ze(F.comparator),new Ze(F.comparator),new He(F.comparator),new He(ne),(Te=jt||(jt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS",new Dce([4294967295,4294967295],0);class Na{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),function Qh(n){return 0===n&&1/n==-1/0}(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At(`${r.seconds||""}`),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(function ys(n){return"string"==typeof n?qt.fromBase64String(n):qt.fromUint8Array(n)}(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?function hj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):j()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),F.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Na.bt=new Na,new Uint8Array(0);class Pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vy(){return typeof document<"u"?document:null}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class pA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class NA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new NA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(hz=BA||(BA={})).j_="default",hz.Cache="cache";class vhe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=GU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=T(function*(a){P("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(T(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function nu(n,e){if(Mt("AsyncQueue",`${e}: ${n}`),ao(n))return new x(C.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Nz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kz=new Map;function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Ay(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":j()}(n);throw new x(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Lz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new x(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Phe(n,e,t,r){if(!0===e&&!0===r)throw new x(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Nz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lz(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ace;switch(r.type){case"firstParty":return new Rce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kz.get(t);r&&(P("ComponentProvider","Removing Datastore"),kz.delete(t),r.terminate())}(this),Promise.resolve()}}class Nhe{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new pA(this,"async_queue_retry"),this.cu=()=>{const t=vy();t&&P("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=vy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const t=new Gt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return T(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(t){if(!ao(t))throw t;P("AsyncQueue","Operation failed with retryable error: "+t)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const t=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,Mt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=t,t}enqueueAfterDelay(e,t,r){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const i=NA.createAndSchedule(this,e,t,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}Tu(){var e=this;return T(function*(){let t;do{t=e.nu,yield t}while(t!==e.nu)})()}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}class et extends Cf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Nhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function Uz(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new oue(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Nz(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new vhe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Ohe(n,e){const r="string"==typeof n?n:e||"(default)",i=rh("object"==typeof n?n:Jm(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KL("firestore");s&&function Rhe(n,e,t,r={}){var i;const s=(n=ve(n,Cf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function zr(n,...e){if(so.logLevel<=Me.WARN){const t=e.map(ED);so.warn(`Firestore (${Gh}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=en.MOCK_USER;else{a=XL(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new x(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new en(c)}n._authCredentials=new Sce(new HU(a,l))}}(i,...s)}return i}!function(e,t=!0){Gh=fa,ha(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new et(new xce(r.getProvider("auth-internal")),new Mce(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new x(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dn(zU,"4.5.0",e),Dn(zU,"4.5.0","esm2017")}();class OS{constructor(e){return e}}const lH="firestore",FS=new $("angularfire2.firestore-instances");function ofe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new OS(r)}}const afe={provide:class ife{constructor(){return e_(lH)}},deps:[[new fn,FS]]},lfe={provide:OS,useFactory:function sfe(n,e){const t=vC(lH,n,e);return t&&new OS(t)},deps:[[new fn,FS],Ec]};let cfe=(()=>{class n{constructor(){Dn("angularfire",oh.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=Bn({providers:[lfe,afe]})}return n})();function ufe(n,...e){return{ngModule:cfe,providers:[{provide:FS,useFactory:ofe(n),multi:!0,deps:[xe,pn,t_,n_,[new fn,M0],[new fn,IC],...e]}]}}const dfe=ah(Ohe,!0),cH="@firebase/database";let VS="";class hfe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Zd(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ffe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return us(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const hH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hfe(e)}}catch{}return new ffe},Ua=hH("localStorage"),LS=hH("sessionStorage"),fu=new Qm("@firebase/database"),fH=function(){let n=1;return function(){return n++}}(),pH=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new Lre;t.update(e);const r=t.digest();return rC.encodeByteArray(r)},Rf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Rf.apply(null,r):e+="object"==typeof r?Xt(r):r,e+=" "}return e};let ja=null,gH=!0;const rn=function(...n){if(!0===gH&&(gH=!1,null===ja&&!0===LS.get("logging_enabled")&&function(n,e){N(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(fu.logLevel=Me.VERBOSE,ja=fu.log.bind(fu),e&&LS.set("logging_enabled",!0)):"function"==typeof n?ja=n:(ja=null,LS.remove("logging_enabled"))}(!0)),ja){const e=Rf.apply(null,n);ja(e)}},Mf=function(n){return function(...e){rn(n,...e)}},BS=function(...n){const e="FIREBASE INTERNAL ERROR: "+Rf(...n);fu.error(e)},ki=function(...n){const e=`FIREBASE FATAL ERROR: ${Rf(...n)}`;throw fu.error(e),new Error(e)},Nn=function(...n){const e="FIREBASE WARNING: "+Rf(...n);fu.warn(e)},Ly=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},wo="[MIN_NAME]",Cs="[MAX_NAME]",$a=function(n,e){if(n===e)return 0;if(n===wo||e===Cs)return-1;if(e===wo||n===Cs)return 1;{const t=vH(n),r=vH(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},mfe=function(n,e){return n===e?0:n<e?-1:1},Nf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Xt(e))},US=function(n){if("object"!=typeof n||null===n)return Xt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Xt(e[r]),t+=":",t+=US(n[e[r]]);return t+="}",t},_H=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const yH=function(n){N(!Ly(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Ife=new RegExp("^-?(0*)\\d{1,10}$"),vH=function(n){if(Ife.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},pu=function(n){try{n()}catch(e){setTimeout(()=>{throw Nn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},kf=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Cfe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Nn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tfe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nn(e)}}let Of=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const CH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AH="websocket",SH="long_polling";class $S{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xH(n,e,t){let r;if(N("string"==typeof e,"typeof type must == string"),N("object"==typeof t,"typeof params must == object"),e===AH)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==SH)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Dfe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return sn(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Afe{constructor(){this.counters_={}}incrementCounter(e,t=1){us(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return wre(this.counters_)}}const zS={},HS={};function WS(n){const e=n.toString();return zS[e]||(zS[e]=new Afe),zS[e]}class xfe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bo{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mf(e),this.stats_=WS(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),xH(t,SH,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xfe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GS((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&CH.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bo.forceAllow_=!0}static forceDisallow(){bo.forceDisallow_=!0}static isAvailable(){return!(!bo.forceAllow_&&(bo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=WL(t),i=_H(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Xt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GS{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){rn("frame writing exception"),a.stack&&rn(a.stack),rn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||rn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{rn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Uy=null;typeof MozWebSocket<"u"?Uy=MozWebSocket:typeof WebSocket<"u"&&(Uy=WebSocket);let gu=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mf(this.connId),this.stats_=WS(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&CH.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),xH(t,AH,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Uy(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Uy&&!n.forceDisallow_}static previouslyFailed(){return Ua.isInMemoryStorage||!0===Ua.get("previous_websocket_failure")}markConnectionHealthy(){Ua.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Zd(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(N(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Xt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=_H(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),FH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[bo,gu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=gu&&gu.isAvailable();let i=r&&!gu.previouslyFailed();if(t.webSocketOnly&&(r||Nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gu];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class zH{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mf("c:"+this.id+":"),this.transportManager_=new FH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=kf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nf("t",e),r=Nf("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nf("t",e),r=Nf("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nf("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?BS("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):BS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),kf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class HH{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class WH{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){N(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class jy extends WH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jy}getInitialEvent(e){return N("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Oe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Se(){return new Oe("")}function fe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Co(n){return n.pieces_.length-n.pieceNum_}function qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Oe(n.pieces_,e)}function KS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ff(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function KH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Oe(e,0)}function gt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Oe(t,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function Yn(n,e){const t=fe(n),r=fe(e);if(null===t)return e;if(t===r)return Yn(qe(n),qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function QS(n,e){if(Co(n)!==Co(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Wr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Co(n)>Co(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Jfe{constructor(e,t){this.errorPrefix_=t,this.parts_=Ff(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Km(this.parts_[r]);QH(this)}}function QH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+za(n))}function za(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class YS extends WH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YS}getInitialEvent(e){return N("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vf=1e3;let zy,Ha=(()=>{class n extends HH{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YS.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&jy.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Xt(o)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Xd,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&us(t,"w")){const i=_c(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Wm(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Wm(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Xt(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):BS("Unrecognized action received from server: "+Xt(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return T(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){N(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new zH(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{Nn(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&Nn(f),u())}}})()}interrupt(t){rn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){rn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],sC(this.interruptReasons_)&&(this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>US(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Oe(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){rn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){rn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+VS.replace(/\./g,"-")]=1,iC()?t["framework.cordova"]=1:JL()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=jy.getInstance().currentlyOnline();return sC(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ge(e,t)}}class $y{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ge(wo,e),i=new ge(wo,t);return 0!==this.compare(r,i)}minPost(){return ge.MIN}}class JH extends $y{static get __EMPTY_NODE(){return zy}static set __EMPTY_NODE(e){zy=e}compare(e,t){return $a(e.name,t.name)}isDefinedOn(e){throw mc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Cs,zy)}makePost(e,t){return N("string"==typeof e,"KeyIndex indexValue must always be a string."),new ge(e,zy)}toString(){return".key"}}const Oi=new JH;class Hy{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let JS,si=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??dr.EMPTY_NODE,this.right=o??dr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return dr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class dr{constructor(e,t=dr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new dr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,si.BLACK,null,null))}remove(e){return new dr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,si.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Hy(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Hy(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Hy(this.root_,null,this.comparator_,!0,e)}}function ope(n,e){return $a(n.name,e.name)}function XS(n,e){return $a(n,e)}dr.EMPTY_NODE=new class spe{copy(e,t,r,i,s){return this}insert(e,t,r){return new si(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ZH=function(n){return"number"==typeof n?"number:"+yH(n):"string:"+n},eW=function(n){if(n.isLeafNode()){const e=n.val();N("string"==typeof e||"number"==typeof e||"object"==typeof e&&us(e,".sv"),"Priority must be a string or number.")}else N(n===JS||n.isEmpty(),"priority of unexpected type.");N(n===JS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let tW,nW,rW,mu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,N(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),eW(this.priorityNode_)}static set __childrenNodeConstructor(t){tW=t}static get __childrenNodeConstructor(){return tW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pe(t)?this:".priority"===fe(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=fe(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(N(".priority"!==i||1===Co(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(qe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ZH(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?yH(this.value_):this.value_,this.lazyHash_=pH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(N(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return N(s>=0,"Unknown leaf type: "+r),N(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const tt=new class upe extends $y{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?$a(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Cs,new mu("[PRIORITY-POST]",rW))}makePost(e,t){const r=nW(e);return new ge(t,new mu("[PRIORITY-POST]",r))}toString(){return".priority"}},dpe=Math.log(2);class hpe{constructor(e){this.count=parseInt(Math.log(e+1)/dpe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wy=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new si(h,d.node,si.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=n[f],h=t?t(d):d,new si(h,d.node,si.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const m=d-p,y=d;d-=p;const _=i(m+1,y),v=n[m],I=t?t(v):v;f(new si(I,v.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,si.BLACK):(h(m,si.BLACK),h(m,si.RED))}return u}(new hpe(n.length));return new dr(r||e,a)};let ZS;const _u={};class Ts{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return N(_u&&tt,"ChildrenNode.ts has not been loaded"),ZS=ZS||new Ts({".priority":_u},{".priority":tt}),ZS}get(e){const t=_c(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof dr?t:null}hasIndex(e){return us(this.indexSet_,e.toString())}addIndex(e,t){N(e!==Oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ge.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Wy(r,e.getCompare()):_u;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ts(u,c)}addToIndexes(e,t){const r=Gm(this.indexes_,(i,s)=>{const o=_c(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===_u){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ge.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Wy(a,o.getCompare())}return _u}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new ge(e.name,a))),l.insert(e,e.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(e,t){const r=Gm(this.indexes_,i=>{if(i===_u)return i;{const s=t.get(e.name);return s?i.remove(new ge(e.name,s)):i}});return new Ts(r,this.indexSet_)}}let Lf,le=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&eW(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lf||(Lf=new n(new dr(XS),null,Ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Lf:r}}getChild(t){const r=fe(t);return null===r?this:this.getImmediateChild(r).getChild(qe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(N(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ge(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Lf:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=fe(t);if(null===i)return r;{N(".priority"!==fe(t)||1===Co(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(qe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(tt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+ZH(this.getPriority().val())+":"),this.forEachChild(tt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":pH(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ge(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ge(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ge(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ge.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ge.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bf?-1:0}withIndex(t){if(t===Oi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Oi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(tt),s=r.getIterator(tt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Oi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Bf=new class fpe extends le{constructor(){super(new dr(XS),le.EMPTY_NODE,Ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ge,{MIN:{value:new ge(wo,le.EMPTY_NODE)},MAX:{value:new ge(Cs,Bf)}}),JH.__EMPTY_NODE=le.EMPTY_NODE,mu.__childrenNodeConstructor=le,function ape(n){JS=n}(Bf),function cpe(n){rW=n}(Bf);const ppe=!0;function It(n,e=null){if(null===n)return le.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),N(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new mu(n,It(e));if(n instanceof Array||!ppe){let t=le.EMPTY_NODE;return sn(n,(r,i)=>{if(us(n,r)&&"."!==r.substring(0,1)){const s=It(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(It(e))}{const t=[];let r=!1;if(sn(n,(o,a)=>{if("."!==o.substring(0,1)){const l=It(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new ge(o,l)))}}),0===t.length)return le.EMPTY_NODE;const s=Wy(t,ope,o=>o.name,XS);if(r){const o=Wy(t,tt.getCompare());return new le(s,It(e),new Ts({".priority":o},{".priority":tt}))}return new le(s,It(e),Ts.Default)}}!function lpe(n){nW=n}(It);class ex extends $y{constructor(e){super(),this.indexPath_=e,N(!pe(e)&&".priority"!==fe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?$a(e.name,t.name):s}makePost(e,t){const r=It(e),i=le.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(t,i)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Bf);return new ge(Cs,e)}toString(){return Ff(this.indexPath_,0).join("/")}}const tx=new class gpe extends $y{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?$a(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,t){const r=It(e);return new ge(t,r)}toString(){return".value"}};function iW(n){return{type:"value",snapshotNode:n}}function yu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Uf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function jf(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class nx{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Uf(t,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(yu(t,r)):o.trackChildChange(jf(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(tt,(i,s)=>{t.hasChild(i)||r.trackChildChange(Uf(i,s))}),t.isLeafNode()||t.forEachChild(tt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(jf(i,s,o))}else r.trackChildChange(yu(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $f{constructor(e){this.indexedFilter_=new nx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$f.getStartPost_(e),this.endPost_=$f.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new ge(t,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=le.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);const s=this;return t.forEachChild(tt,(o,a)=>{s.matches(new ge(o,a))||(i=i.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class _pe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $f(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new ge(t,r))||(r=le.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=le.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new ge(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(jf(t,r,d)),a.updateImmediateChild(t,r);{s?.trackChildChange(Uf(t,d));const g=a.updateImmediateChild(t,le.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(s?.trackChildChange(yu(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(Uf(c.name,c.node)),s.trackChildChange(yu(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,le.EMPTY_NODE)):e}}class rx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wo}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new rx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sW(n){const e={};if(n.isDefault())return e;let t;if(n.index_===tt?t="$priority":n.index_===tx?t="$value":n.index_===Oi?t="$key":(N(n.index_ instanceof ex,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Xt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Xt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Xt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Xt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Xt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function oW(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==tt&&(e.i=n.index_.toString()),e}class qy extends HH{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qy.getListenId_(e,r),a={};this.listens_[o]=a;const l=sW(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),_c(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=qy.getListenId_(e,t);delete this.listens_[r]}get(e){const t=sW(e._queryParams),r=e._path.toString(),i=new Xd;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eh(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zd(a.responseText)}catch{Nn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Nn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class bpe{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ky(){return{value:null,children:new Map}}function vu(n,e,t){if(pe(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=fe(e);n.children.has(r)||n.children.set(r,Ky()),vu(n.children.get(r),e=qe(e),t)}}function ax(n,e,t){null!==n.value?t(e,n.value):function Cpe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{ax(i,new Oe(e.toString()+"/"+r),t)})}class Tpe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&sn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Spe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Tpe(e);const r=1e4+2e4*Math.random();kf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;sn(e,(i,s)=>{s>0&&us(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),kf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fi=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Fi||{});function ux(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Qy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Fi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pe(this.path)){if(null!=this.affectedTree.value)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Oe(e));return new Qy(Se(),t,this.revert)}}return N(fe(this.path)===e,"operationForChild called for unrelated child."),new Qy(qe(this.path),this.affectedTree,this.revert)}}class zf{constructor(e,t){this.source=e,this.path=t,this.type=Fi.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new zf(this.source,Se()):new zf(this.source,qe(this.path))}}class Wa{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Fi.OVERWRITE}operationForChild(e){return pe(this.path)?new Wa(this.source,Se(),this.snap.getImmediateChild(e)):new Wa(this.source,qe(this.path),this.snap)}}class Iu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Fi.MERGE}operationForChild(e){if(pe(this.path)){const t=this.children.subtree(new Oe(e));return t.isEmpty()?null:t.value?new Wa(this.source,Se(),t.value):new Iu(this.source,Se(),t)}return N(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Iu(this.source,qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class To{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const t=fe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class xpe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Hf(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function Mpe(n,e,t){if(null==e.childName||null==t.childName)throw mc("Should only compare child_ events.");const r=new ge(e.childName,e.snapshotNode),i=new ge(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function Rpe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Yy(n,e){return{eventCache:n,serverCache:e}}function Wf(n,e,t,r){return Yy(new To(e,t,r),n.serverCache)}function lW(n,e,t,r){return Yy(n.eventCache,new To(e,t,r))}function Xy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ga(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let dx;class nt{constructor(e,t=(()=>(dx||(dx=new dr(mfe)),dx))()){this.value=e,this.children=t}static fromObject(e){let t=new nt(null);return sn(e,(r,i)=>{t=t.set(new Oe(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Se(),value:this.value};if(pe(e))return null;{const r=fe(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(qe(e),t);return null!=s?{path:gt(new Oe(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const t=fe(e),r=this.children.get(t);return null!==r?r.subtree(qe(e)):new nt(null)}}set(e,t){if(pe(e))return new nt(t,this.children);{const r=fe(e),s=(this.children.get(r)||new nt(null)).set(qe(e),t),o=this.children.insert(r,s);return new nt(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const t=fe(e),r=this.children.get(t);if(r){const i=r.remove(qe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new nt(null):new nt(this.value,s)}return this}}get(e){if(pe(e))return this.value;{const t=fe(e),r=this.children.get(t);return r?r.get(qe(e)):null}}setTree(e,t){if(pe(e))return t;{const r=fe(e),s=(this.children.get(r)||new nt(null)).setTree(qe(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new nt(this.value,o)}}fold(e){return this.fold_(Se(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(gt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Se(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(pe(e))return null;{const s=fe(e),o=this.children.get(s);return o?o.findOnPath_(qe(e),gt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Se(),t)}foreachOnPath_(e,t,r){if(pe(e))return this;{this.value&&r(t,this.value);const i=fe(e),s=this.children.get(i);return s?s.foreachOnPath_(qe(e),gt(t,i),r):new nt(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(gt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class oi{constructor(e){this.writeTree_=e}static empty(){return new oi(new nt(null))}}function Gf(n,e,t){if(pe(e))return new oi(new nt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Yn(i,e);return s=s.updateChild(o,t),new oi(n.writeTree_.set(i,s))}{const i=new nt(t),s=n.writeTree_.setTree(e,i);return new oi(s)}}}function hx(n,e,t){let r=n;return sn(t,(i,s)=>{r=Gf(r,gt(e,i),s)}),r}function cW(n,e){if(pe(e))return oi.empty();{const t=n.writeTree_.setTree(e,new nt(null));return new oi(t)}}function fx(n,e){return null!=qa(n,e)}function qa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Yn(t.path,e)):null}function uW(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(tt,(r,i)=>{e.push(new ge(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ge(r,i.value))}),e}function Do(n,e){if(pe(e))return n;{const t=qa(n,e);return new oi(null!=t?new nt(t):n.writeTree_.subtree(e))}}function px(n){return n.writeTree_.isEmpty()}function Eu(n,e){return dW(Se(),n.writeTree_,e)}function dW(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(N(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=dW(gt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(gt(n,".priority"),r)),t}}function Jy(n,e){return mW(e,n)}function Lpe(n,e){if(n.snap)return Wr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Wr(gt(n.path,t),e))return!0;return!1}function Upe(n){return n.visible}function hW(n,e,t){let r=oi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Wr(t,o)?(a=Yn(t,o),r=Gf(r,a,s.snap)):Wr(o,t)&&(a=Yn(o,t),r=Gf(r,Se(),s.snap.getChild(a)));else{if(!s.children)throw mc("WriteRecord should have .snap or .children");if(Wr(t,o))a=Yn(t,o),r=hx(r,a,s.children);else if(Wr(o,t))if(a=Yn(o,t),pe(a))r=hx(r,Se(),s.children);else{const l=_c(s.children,fe(a));if(l){const c=l.getChild(qe(a));r=Gf(r,Se(),c)}}}}}return r}function fW(n,e,t,r,i){if(r||i){const s=Do(n.visibleWrites,e);return!i&&px(s)?t:i||null!=t||fx(s,Se())?Eu(hW(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Wr(c.path,e)||Wr(e,c.path))},e),t||le.EMPTY_NODE):null}{const s=qa(n.visibleWrites,e);if(null!=s)return s;{const o=Do(n.visibleWrites,e);return px(o)?t:null!=t||fx(o,Se())?Eu(o,t||le.EMPTY_NODE):null}}}function Zy(n,e,t,r){return fW(n.writeTree,n.treePath,e,t,r)}function gx(n,e){return function jpe(n,e,t){let r=le.EMPTY_NODE;const i=qa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(tt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Do(n.visibleWrites,e);return t.forEachChild(tt,(o,a)=>{const l=Eu(Do(s,new Oe(o)),a);r=r.updateImmediateChild(o,l)}),uW(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return uW(Do(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function pW(n,e,t,r){return function $pe(n,e,t,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=gt(e,t);if(fx(n.visibleWrites,s))return null;{const o=Do(n.visibleWrites,s);return px(o)?i.getChild(t):Eu(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function ev(n,e){return function Hpe(n,e){return qa(n.visibleWrites,e)}(n.writeTree,gt(n.treePath,e))}function mx(n,e,t){return function zpe(n,e,t,r){const i=gt(e,t),s=qa(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Eu(Do(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function gW(n,e){return mW(gt(n.treePath,e),n.writeTree)}function mW(n,e){return{treePath:n,writeTree:e}}class Kpe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;N("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),N(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,jf(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Uf(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,yu(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw mc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,jf(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const _W=new class Qpe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class _x{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new To(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mx(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ga(this.viewCache_),s=function qpe(n,e,t,r,i,s){return function Wpe(n,e,t,r,i,s,o){let a;const l=Do(n.visibleWrites,e),c=qa(l,Se());if(null!=c)a=c;else{if(null==t)return[];a=Eu(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function yW(n,e,t,r,i,s){const o=e.eventCache;if(null!=ev(r,t))return e;{let a,l;if(pe(t))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ga(e),d=gx(r,c instanceof le?c:le.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Zy(r,Ga(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=fe(t);if(".priority"===c){N(1===Co(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=pW(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=qe(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=pW(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=mx(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Wf(e,a,o.isFullyInitialized()||pe(t),n.filter.filtersNodes())}}function tv(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(pe(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=fe(t);if(!l.isCompleteForPath(t)&&Co(t)>1)return e;const p=qe(t),m=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),m):u.updateChild(l.getNode(),f,m,p,_W,null)}const d=lW(e,c,l.isFullyInitialized()||pe(t),u.filtersNodes());return yW(n,d,t,i,new _x(i,d,s),a)}function yx(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new _x(i,e,s);if(pe(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Wf(e,c,!0,n.filter.filtersNodes());else{const d=fe(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Wf(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=qe(t),f=a.getNode().getImmediateChild(d);let p;if(pe(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===KS(h)&&g.getChild(KH(h)).isEmpty()?g:g.updateChild(h,r):le.EMPTY_NODE}l=f.equals(p)?e:Wf(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function vW(n,e){return n.eventCache.isCompleteForChild(e)}function IW(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function vx(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=pe(t)?r:new nt(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=IW(0,e.serverCache.getNode().getImmediateChild(d),h);l=tv(n,l,new Oe(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=IW(0,e.serverCache.getNode().getImmediateChild(d),h);l=tv(n,l,new Oe(d),g,i,s,o,a)}}),l}class ige{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new nx(r.getIndex()),s=function ype(n){return n.loadsAllData()?new nx(n.getIndex()):n.hasLimit()?new _pe(n):new $f(n)}(r);this.processor_=function Ype(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new To(l,o.isFullyInitialized(),i.filtersNodes()),d=new To(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yy(d,u),this.eventGenerator_=new xpe(this.query_)}get query(){return this.query_}}function age(n,e){const t=Ga(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!pe(e)&&!t.getImmediateChild(fe(e)).isEmpty())?t.getChild(e):null}function EW(n){return 0===n.eventRegistrations_.length}function wW(n,e,t){const r=[];if(t){N(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function bW(n,e,t,r){e.type===Fi.MERGE&&null!==e.source.queryId&&(N(Ga(n.viewCache_),"We should always have a full cache before handling merges"),N(Xy(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Jpe(n,e,t,r,i){const s=new Kpe;let o,a;if(t.type===Fi.OVERWRITE){const c=t;c.source.fromUser?o=yx(n,e,c.path,c.snap,r,i,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!pe(c.path),o=tv(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Fi.MERGE){const c=t;c.source.fromUser?o=function ege(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=gt(t,l);vW(e,fe(u))&&(a=yx(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=gt(t,l);vW(e,fe(u))||(a=yx(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=vx(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Fi.ACK_USER_WRITE){const c=t;o=c.revert?function rge(n,e,t,r,i,s){let o;if(null!=ev(r,t))return e;{const a=new _x(r,e,i),l=e.eventCache.getNode();let c;if(pe(t)||".priority"===fe(t)){let u;if(e.serverCache.isFullyInitialized())u=Zy(r,Ga(e));else{const d=e.serverCache.getNode();N(d instanceof le,"serverChildren would be complete if leaf node"),u=gx(r,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=fe(t);let d=mx(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,qe(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,le.EMPTY_NODE,qe(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zy(r,Ga(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=ev(r,Se()),Wf(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function tge(n,e,t,r,i,s,o){if(null!=ev(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(pe(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return tv(n,e,t,l.getNode().getChild(t),i,s,a,o);if(pe(t)){let c=new nt(null);return l.getNode().forEachChild(Oi,(u,d)=>{c=c.set(new Oe(u),d)}),vx(n,e,t,c,i,s,a,o)}return e}{let c=new nt(null);return r.foreach((u,d)=>{const h=gt(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),vx(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==Fi.LISTEN_COMPLETE)throw mc("Unknown operation type: "+t.type);o=function nge(n,e,t,r,i){const s=e.serverCache;return yW(n,lW(e,s.getNode(),s.isFullyInitialized()||pe(t),s.isFiltered()),t,r,_W,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function Zpe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Xy(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(iW(Xy(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function Xpe(n,e){N(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,CW(n,s.changes,s.viewCache.eventCache.getNode(),null)}function CW(n,e,t,r){return function Ppe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function mpe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Hf(n,i,"child_removed",e,r,t),Hf(n,i,"child_added",e,r,t),Hf(n,i,"child_moved",s,r,t),Hf(n,i,"child_changed",e,r,t),Hf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let nv,iv;class TW{constructor(){this.views=new Map}}function Ix(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return N(null!=s,"SyncTree gave us an op for an invalid query."),bW(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(bW(o,e,t,r));return s}}function fge(n,e,t,r,i,s){const o=function DW(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=Zy(t,i?r:null),l=!1;a?l=!0:r instanceof le?(a=gx(t,r),l=!1):(a=le.EMPTY_NODE,l=!1);const c=Yy(new To(a,l,!1),new To(r,i,!1));return new ige(e,c)}return o}(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function lge(n,e){n.eventRegistrations_.push(e)}(o,t),function cge(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(tt,(s,o)=>{r.push(yu(s,o))}),t.isFullyInitialized()&&r.push(iW(t.getNode())),CW(n,r,t.getNode(),e)}(o,t)}function AW(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ao(n,e){let t=null;for(const r of n.views.values())t=t||age(r,e);return t}function SW(n,e){return e._queryParams.loadsAllData()?rv(n):n.views.get(e._queryIdentifier)}function xW(n,e){return null!=SW(n,e)}function So(n){return null!=rv(n)}function rv(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let _ge=1;class PW{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=function Gpe(){return{visibleWrites:oi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ex(n,e,t,r,i){return function kpe(n,e,t,r,i){N(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Gf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?wu(n,new Wa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function xo(n,e,t=!1){const r=function Fpe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Vpe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);N(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Lpe(a,r.path)?i=!1:Wr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function Bpe(n){n.visibleWrites=hW(n.allWrites,Upe,Se()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=cW(n.visibleWrites,r.path):sn(r.children,l=>{n.visibleWrites=cW(n.visibleWrites,gt(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new nt(null);return null!=r.snap?s=s.set(Se(),!0):sn(r.children,o=>{s=s.set(new Oe(o),!0)}),wu(n,new Qy(r.path,s,t))}return[]}function qf(n,e,t){return wu(n,new Wa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function sv(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||xW(o,e))){const l=function pge(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=So(n);if("default"===i)for(const[l,c]of n.views.entries())o=o.concat(wW(c,t,r)),EW(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(wW(l,t,r)),EW(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!So(n)&&s.push(new(function dge(){return N(nv,"Reference.ts has not been loaded"),nv}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function hge(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=-1!==c.findIndex(h=>h._queryParams.loadsAllData()),d=n.syncPointTree_.findOnPath(s,(h,f)=>So(f));if(u&&!d){const h=n.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=function Cge(n){return n.fold((e,t,r)=>{if(t&&So(t))return[rv(t)];{let i=[];return t&&(i=AW(t)),sn(r,(s,o)=>{i=i.concat(o)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],m=g.query,y=kW(n,g);n.listenProvider_.startListening(Qf(m),Kf(n,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(Qf(e),null):c.forEach(h=>{const f=n.queryToTagMap.get(av(h));n.listenProvider_.stopListening(Qf(h),f)}))}!function Tge(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=av(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,c)}return a}function wx(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Yn(h,i);s=s||Ao(f,p),o=o||So(f)});let l,a=n.syncPointTree_.get(i);a?(o=o||So(a),s=s||Ao(a,Se())):(a=new TW,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=le.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Ao(p,Se());g&&(s=s.updateImmediateChild(f,g))}));const c=xW(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=av(e);N(!n.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function Dge(){return _ge++}();n.queryToTagMap.set(h,f),n.tagToQueryMap.set(f,h)}let d=fge(a,e,t,Jy(n.pendingWriteTree_,i),s,l);if(!c&&!o&&!r){const h=SW(a,e);d=d.concat(function Age(n,e,t){const r=e._path,i=Kf(n,e),s=kW(n,t),o=n.listenProvider_.startListening(Qf(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)N(!So(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!pe(c)&&u&&So(u))return[rv(u).query];{let h=[];return u&&(h=h.concat(AW(u).map(f=>f.query))),sn(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Qf(u),Kf(n,u))}}return o}(n,e,h))}return d}function ov(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ao(a,Yn(o,e));if(c)return c});return fW(i,e,s,t,!0)}function wu(n,e){return MW(e,n.syncPointTree_,null,Jy(n.pendingWriteTree_,Se()))}function MW(n,e,t,r){if(pe(n.path))return NW(n,e,t,r);{const i=e.get(Se());null==t&&null!=i&&(t=Ao(i,Se()));let s=[];const o=fe(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=gW(r,o);s=s.concat(MW(a,l,c,u))}return i&&(s=s.concat(Ix(i,n,r,t))),s}}function NW(n,e,t,r){const i=e.get(Se());null==t&&null!=i&&(t=Ao(i,Se()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=gW(r,o),u=n.operationForChild(o);u&&(s=s.concat(NW(u,a,l,c)))}),i&&(s=s.concat(Ix(i,n,r,t))),s}function kW(n,e){const t=e.query,r=Kf(n,t);return{hashFn:()=>(function sge(n){return n.viewCache_.serverCache.getNode()}(e)||le.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Ege(n,e,t){const r=bx(n,t);if(r){const i=Cx(r),s=i.path,o=i.queryId,a=Yn(s,e);return Tx(n,s,new zf(ux(o),a))}return[]}(n,t._path,r):function Ige(n,e){return wu(n,new zf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function vfe(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return sv(n,t,null,s)}}}}function Kf(n,e){const t=av(e);return n.queryToTagMap.get(t)}function av(n){return n._path.toString()+"$"+n._queryIdentifier}function bx(n,e){return n.tagToQueryMap.get(e)}function Cx(n){const e=n.indexOf("$");return N(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Oe(n.substr(0,e))}}function Tx(n,e,t){const r=n.syncPointTree_.get(e);return N(r,"Missing sync point for query tag that we're tracking"),Ix(r,t,Jy(n.pendingWriteTree_,e),null)}function Qf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function mge(){return N(iv,"Reference.ts has not been loaded"),iv}())(n._repo,n._path):n}class Dx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Dx(t)}node(){return this.node_}}class Ax{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=gt(this.path_,e);return new Ax(this.syncTree_,t)}node(){return ov(this.syncTree_,this.path_)}}const Sge=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},OW=function(n,e,t){return n&&"object"==typeof n?(N(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xge(n[".sv"],e,t):"object"==typeof n[".sv"]?Pge(n[".sv"],e):void N(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xge=function(n,e,t){if("timestamp"===n)return t.timestamp;N(!1,"Unexpected server value: "+n)},Pge=function(n,e,t){n.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},FW=function(n,e,t,r){return xx(e,new Ax(t,n),r)},Sx=function(n,e,t){return xx(n,new Dx(e),t)};function xx(n,e,t){const r=n.getPriority().val(),i=OW(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=OW(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new mu(a,It(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new mu(i))),o.forEachChild(tt,(a,l)=>{const c=xx(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class Px{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function lv(n,e){let t=e instanceof Oe?e:new Oe(e),r=n,i=fe(t);for(;null!==i;){const s=_c(r.node.children,i)||{children:{},childCount:0};r=new Px(i,r,s),t=qe(t),i=fe(t)}return r}function Ka(n){return n.node.value}function Rx(n,e){n.node.value=e,Mx(n)}function VW(n){return n.node.childCount>0}function cv(n,e){sn(n.node.children,(t,r)=>{e(new Px(t,n,r))})}function LW(n,e,t,r){t&&!r&&e(n),cv(n,i=>{LW(i,e,!0,r)}),t&&r&&e(n)}function Yf(n){return new Oe(null===n.parent?n.name:Yf(n.parent)+"/"+n.name)}function Mx(n){null!==n.parent&&function Nge(n,e,t){const r=function Rge(n){return void 0===Ka(n)&&!VW(n)}(t),i=us(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Mx(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Mx(n))}(n.parent,n.name,n)}const kge=/[\[\].#$\/\u0000-\u001F\u007F]/,Oge=/[\[\].#$\u0000-\u001F\u007F]/,Nx=10485760,uv=function(n){return"string"==typeof n&&0!==n.length&&!kge.test(n)},BW=function(n){return"string"==typeof n&&0!==n.length&&!Oge.test(n)},Jf=function(n,e,t){const r=t instanceof Oe?new Jfe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+za(r));if("function"==typeof e)throw new Error(n+"contains a function "+za(r)+" with contents = "+e.toString());if(Ly(e))throw new Error(n+"contains "+e.toString()+" "+za(r));if("string"==typeof e&&e.length>Nx/3&&Km(e)>Nx)throw new Error(n+"contains a string greater than "+Nx+" utf8 bytes "+za(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(sn(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!uv(o)))throw new Error(n+" contains an invalid key ("+o+") "+za(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zfe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Km(e),QH(n)})(r,o),Jf(n,a,r),function epe(n){const e=n.parts_.pop();n.byteLength_-=Km(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+za(r)+" in addition to actual children.")}},Ox=function(n,e,t,r){if(!(r&&void 0===t||BW(t)))throw new Error(yc(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lge=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ox(n,e,t,r)};class Bge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!QS(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function $W(n,e,t){dv(n,t),zW(n,r=>QS(r,e))}function Ar(n,e,t){dv(n,t),zW(n,r=>Wr(r,e)||Wr(e,r))}function zW(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Uge(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Uge(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();ja&&rn("event: "+t.toString()),pu(r)}}}const jge=25;class $ge{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ky(),this.transactionQueueTree_=new Px,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WW(n){const t=n.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ep(n){return Sge({timestamp:WW(n)})}function GW(n,e,t,r,i){n.dataUpdateCount++;const s=new Oe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Gm(t,c=>It(c));o=function wge(n,e,t,r){const i=bx(n,r);if(i){const s=Cx(i),o=s.path,a=s.queryId,l=Yn(o,e),c=nt.fromObject(t);return Tx(n,o,new Iu(ux(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=It(t);o=function RW(n,e,t,r){const i=bx(n,r);if(null!=i){const s=Cx(i),o=s.path,a=s.queryId,l=Yn(o,e);return Tx(n,o,new Wa(ux(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=Gm(t,c=>It(c));o=function vge(n,e,t){const r=nt.fromObject(t);return wu(n,new Iu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=It(t);o=qf(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Cu(n,s)),Ar(n.eventQueue_,a,o)}function qW(n,e){Fx(n,"connected",e),!1===e&&function qge(n){bu(n,"onDisconnectEvents");const e=ep(n),t=Ky();ax(n.onDisconnect_,Se(),(i,s)=>{const o=FW(i,s,n.serverSyncTree_,e);vu(t,i,o)});let r=[];ax(t,Se(),(i,s)=>{r=r.concat(qf(n.serverSyncTree_,i,s));const o=Ux(n,i);Cu(n,o)}),n.onDisconnect_=Ky(),Ar(n.eventQueue_,Se(),r)}(n)}function Fx(n,e,t){const r=new Oe("/.info/"+e),i=It(t);n.infoData_.updateSnapshot(r,i);const s=qf(n.infoSyncTree_,r,i);Ar(n.eventQueue_,r,s)}function hv(n){return n.nextWriteId_++}function Vx(n,e,t,r,i){bu(n,"set",{path:e.toString(),value:t,priority:r});const s=ep(n),o=It(t,r),a=ov(n.serverSyncTree_,e),l=Sx(o,a,s),c=hv(n),u=Ex(n.serverSyncTree_,e,l,c,!0);dv(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||Nn("set at "+e+" failed: "+h);const g=xo(n.serverSyncTree_,c,!p);Ar(n.eventQueue_,e,g),function Po(n,e,t,r){e&&pu(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}(0,i,h,f)});const d=Ux(n,e);Cu(n,d),Ar(n.eventQueue_,d,[])}function Lx(n,e,t){let r;r=".info"===fe(e._path)?sv(n.infoSyncTree_,e,t):sv(n.serverSyncTree_,e,t),$W(n.eventQueue_,e._path,r)}function bu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),rn(t,...e)}function Bx(n,e,t){return ov(n.serverSyncTree_,e,t)||le.EMPTY_NODE}function fv(n,e=n.transactionQueueTree_){if(e||pv(n,e),Ka(e)){const t=XW(n,e);N(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function eme(n,e,t){const r=t.map(c=>c.currentWriteId),i=Bx(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];N(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Yn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{bu(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(xo(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();pv(n,lv(n.transactionQueueTree_,e)),fv(n,n.transactionQueueTree_),Ar(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)pu(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Nn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Cu(n,e)}},o)}(n,Yf(e),t)}else VW(e)&&cv(e,t=>{fv(n,t)})}function Cu(n,e){const t=YW(n,e),r=Yf(t);return function tme(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Yn(t,l.path);let d,u=!1;if(N(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(xo(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=jge)u=!0,d="maxretry",i=i.concat(xo(n.serverSyncTree_,l.currentWriteId,!0));else{const h=Bx(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Jf("transaction failed: Data returned ",f,l.path);let p=It(f);"object"==typeof f&&null!=f&&us(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,y=ep(n),_=Sx(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=hv(n),o.splice(o.indexOf(m),1),i=i.concat(Ex(n.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(xo(n.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(xo(n.serverSyncTree_,l.currentWriteId,!0))}Ar(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}pv(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)pu(r[a]);fv(n,n.transactionQueueTree_)}(n,XW(n,t),r),r}function YW(n,e){let t,r=n.transactionQueueTree_;for(t=fe(e);null!==t&&void 0===Ka(r);)r=lv(r,t),t=fe(e=qe(e));return r}function XW(n,e){const t=[];return JW(n,e,t),t.sort((r,i)=>r.order-i.order),t}function JW(n,e,t){const r=Ka(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);cv(e,i=>{JW(n,i,t)})}function pv(n,e){const t=Ka(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,Rx(e,t.length>0?t:void 0)}cv(e,r=>{pv(n,r)})}function Ux(n,e){const t=Yf(YW(n,e)),r=lv(n.transactionQueueTree_,e);return function Mge(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{jx(n,i)}),jx(n,r),LW(r,i=>{jx(n,i)}),t}function jx(n,e){const t=Ka(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(N(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(xo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Rx(e,void 0):t.length=s+1,Ar(n.eventQueue_,Yf(e),i);for(let o=0;o<r.length;o++)pu(r[o])}}const $x=function(n,e){const t=ime(n),r=t.namespace;return"firebase.com"===t.domain&&ki(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $S(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Oe(t.pathString)}},ime=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function nme(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function rme(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class eG{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}}class tG{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class zx{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Sr{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return pe(this._path)?null:KS(this._path)}get ref(){return new ai(this._repo,this._path)}get _queryIdentifier(){const e=oW(this._queryParams),t=US(e);return"{}"===t?"default":t}get _queryObject(){return oW(this._queryParams)}isEqual(e){if(!((e=br(e))instanceof Sr))return!1;const t=this._repo===e._repo,r=QS(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Yfe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ai extends Sr{constructor(e,t){super(e,t,new rx,!1)}get parent(){const e=KH(this._path);return null===e?null:new ai(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qa{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Oe(e),r=Tu(this.ref,e);return new Qa(this._node.getChild(t),r,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qa(i,Tu(this.ref,r),tt)))}hasChild(e){const t=new Oe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hx(n,e){return(n=br(n))._checkNotDeleted("ref"),void 0!==e?Tu(n._root,e):n._root}function Tu(n,e){return null===fe((n=br(n))._path)?Lge("child","path",e,!1):Ox("child","path",e,!1),new ai(n._repo,gt(n._path,e))}function Wx(n,e){(function(n,e){if(".info"===fe(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=br(n))._path),function(n,e,t,r){r&&void 0===e||Jf(yc(n,"value"),e,t)}("set",e,n._path,!1);const t=new Xd;return Vx(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class tp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new eG("value",this,new Qa(e.snapshotNode,new ai(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new tG(this,e,t):null}matches(e){return e instanceof tp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _v{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new tG(this,e,t):null}createEvent(e,t){N(null!=e.childName,"Child events should have a childName.");const r=Tu(new ai(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new eG(e.type,this,new Qa(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof _v&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nG(n,e,t,r){return function np(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{Lx(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new zx(t,s||void 0),a="value"===e?new tp(o):new _v(e,o);return function Xge(n,e,t){let r;r=".info"===fe(e._path)?wx(n.infoSyncTree_,e,t):wx(n.serverSyncTree_,e,t),$W(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>Lx(n._repo,n,a)}(n,"value",e,t,r)}(function uge(n){N(!nv,"__referenceConstructor has already been defined"),nv=n})(ai),function gge(n){N(!iv,"__referenceConstructor has already been defined"),iv=n}(ai);const Gx={};function oG(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=$x(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=$x(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Of(Of.OWNER):new Tfe(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!uv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),BW(n)}(t))throw new Error(yc(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),pe(o.path)||ki("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function vme(n,e,t,r){let i=Gx[e.name];i||(i={},Gx[e.name]=i);let s=i[n.toURLString()];return s&&ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $ge(n,false,t,r),i[n.toURLString()]=s,s}(a,n,u,new Cfe(n.name,t));return new Eme(d,n)}class Eme{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zge(n,e,t){if(n.stats_=WS(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qy(n.repoInfo_,(r,i,s,o)=>{GW(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qW(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ha(n.repoInfo_,e,(r,i,s,o)=>{GW(n,r,i,s,o)},r=>{qW(n,r)},r=>{!function Hge(n,e){sn(e,(t,r)=>{Fx(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Sfe(n,e){const t=n.toString();return HS[t]||(HS[t]=e()),HS[t]}(n.repoInfo_,()=>new Spe(n.stats_,n.server_)),n.infoData_=new bpe,n.infoSyncTree_=new PW({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=qf(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Fx(n,"connected",!1),n.serverSyncTree_=new PW({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Ar(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ai(this._repo,Se())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yme(n,e){const t=Gx[e];(!t||t[n.key]!==n)&&ki(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function QW(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ki("Cannot call "+e+" on a deleted database.")}}function qx(n=Jm(),e){const t=rh(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=KL("database");r&&function wme(n,e,t,r={}){(n=br(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ki("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ki('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Of(Of.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:XL(r.mockUserToken,n.app.options.projectId);s=new Of(o)}!function _me(n,e,t,r){n.repoInfo_=new $S(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Ha.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ha.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function bme(n){(function dH(n){VS=n})(fa),ha(new Js("database",(e,{instanceIdentifier:t})=>oG(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Dn(cH,"1.0.3",n),Dn(cH,"1.0.3","esm2017")}();class Kx{constructor(e){return e}}const lG="database",Qx=new $("angularfire2.database-instances");function Sme(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Kx(r)}}const xme={provide:class Dme{constructor(){return e_(lG)}},deps:[[new fn,Qx]]},Pme={provide:Kx,useFactory:function Ame(n,e){const t=vC(lG,n,e);return t&&new Kx(t)},deps:[[new fn,Qx],Ec]};let Rme=(()=>{class n{constructor(){Dn("angularfire",oh.full,"rtdb")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=Bn({providers:[Pme,xme]})}return n})();function Mme(n,...e){return{ngModule:Rme,providers:[{provide:Qx,useFactory:Sme(n),multi:!0,deps:[xe,pn,t_,n_,[new fn,M0],[new fn,IC],...e]}]}}const Nme=ah(qx,!0),kme_firebase={apiKey:"AIzaSyC6iEdvJQmNUH1ThTY6d9vmABqTIZyhZRk",authDomain:"peluchetemadatabase.firebaseapp.com",databaseURL:"https://peluchetemadatabase-default-rtdb.firebaseio.com",projectId:"peluchetemadatabase",storageBucket:"peluchetemadatabase.appspot.com",messagingSenderId:"958086851225",appId:"1:958086851225:web:c935d478c52c50d9eca608",measurementId:"G-WC1SVXV9DE"};let Yx=(()=>{class n{constructor(t){this.auth=t}register(t,r){return function Poe(n,e,t){return kT.apply(this,arguments)}(this.auth,t,r)}logIn(t,r){return function Roe(n,e,t){return yT(br(n),Q2.credential(e,t)).catch(function(){var r=T(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&AT(n),i});return function(i){return r.apply(this,arguments)}}())}(this.auth,t,r)}logOut(){return function Uoe(n){return br(n).signOut()}(this.auth)}static#e=this.\u0275fac=function(r){return new(r||n)(K(bh))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const{isArray:Fme}=Array,{getPrototypeOf:Vme,prototype:Lme,keys:Bme}=Object;function cG(n){if(1===n.length){const e=n[0];if(Fme(e))return{args:e,keys:null};if(function Ume(n){return n&&"object"==typeof n&&Vme(n)===Lme}(e)){const t=Bme(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:jme}=Array;function uG(n){return Ne(e=>function $me(n,e){return jme(e)?n(...e):n(e)}(n,e))}function dG(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xx(...n){const e=Qu(n),t=rM(n),{args:r,keys:i}=cG(n);if(0===r.length)return Qt([],e);const s=new _t(function zme(n,e,t=Ls){return r=>{hG(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)hG(e,()=>{const c=Qt(n[l],e);let u=!1;c.subscribe(Lt(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>dG(i,o):Ls));return t?s.pipe(uG(t)):s}function hG(n,e,t){n?Wi(t,n,e):e()}const yv=qu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Jx(...n){return function Hme(){return _l(1)}()(Qt(n,Qu(n)))}function fG(n){return new _t(e=>{pr(n()).subscribe(e)})}function rp(n,e){const t=ze(n)?n:()=>n,r=i=>i.error(t());return new _t(e?i=>e.schedule(r,0,i):r)}function Zx(){return $t((n,e)=>{let t=null;n._refCount++;const r=Lt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class pG extends _t{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$R(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zn;const t=this.getSubject();e.add(this.source.subscribe(Lt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zn.EMPTY)}return e}refCount(){return Zx()(this)}}function Ya(n){return n<=0?()=>di:$t((e,t)=>{let r=0;e.subscribe(Lt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mo(n,e){return $t((t,r)=>{let i=0;t.subscribe(Lt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function vv(n){return $t((e,t)=>{let r=!1;e.subscribe(Lt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gG(n=Gme){return $t((e,t)=>{let r=!1;e.subscribe(Lt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gme(){return new yv}function Xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mo((i,s)=>n(i,s,r)):Ls,Ya(1),t?vv(e):gG(()=>new yv))}function ip(n,e){return ze(e)?an(n,e,1):an(n,1)}function Ja(n){return $t((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Lt(t,void 0,void 0,o=>{s=pr(n(o,Ja(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function eP(n){return n<=0?()=>di:$t((e,t)=>{let r=[];e.subscribe(Lt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tP(n){return $t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const de="primary",sp=Symbol("RouteTitle");class Jme{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Du(n){return new Jme(n)}function Zme(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mG(n[i],e[i]))return!1;return!0}function mG(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _G(n){return n.length>0?n[n.length-1]:null}function No(n){return function Ome(n){return!!n&&(n instanceof _t||ze(n.lift)&&ze(n.subscribe))}(n)?n:Od(n)?Qt(Promise.resolve(n)):te(n)}const t_e={exact:function IG(n,e,t){if(!Za(n.segments,e.segments)||!Iv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IG(n.children[r],e.children[r],t))return!1;return!0},subset:EG},yG={exact:function n_e(n,e){return Bi(n,e)},subset:function r_e(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mG(n[t],e[t]))},ignored:()=>!0};function vG(n,e,t){return t_e[t.paths](n.root,e.root,t.matrixParams)&&yG[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function EG(n,e,t){return wG(n,e,e.segments,t)}function wG(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Za(i,t)||e.hasChildren()||!Iv(i,t,r))}if(n.segments.length===t.length){if(!Za(n.segments,t)||!Iv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!EG(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Za(n.segments,i)&&Iv(n.segments,i,r)&&n.children[de])&&wG(n.children[de],e,s,r)}}function Iv(n,e,t){return e.every((r,i)=>yG[t](n[i].parameters,r.parameters))}class Au{constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return o_e.serialize(this)}}class je{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ev(this)}}class op{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Du(this.parameters)),this._parameterMap}toString(){return TG(this)}}function Za(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ap=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new nP},providedIn:"root"})}return n})();class nP{parse(e){const t=new __e(e);return new Au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lp(e.root,!0)}`,r=function c_e(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wv(t)}=${wv(i)}`).join("&"):`${wv(t)}=${wv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function a_e(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const o_e=new nP;function Ev(n){return n.segments.map(e=>TG(e)).join("/")}function lp(n,e){if(!n.hasChildren())return Ev(n);if(e){const t=n.children[de]?lp(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${lp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function s_e(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===de?[lp(n.children[de],!1)]:[`${i}:${lp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[de]?`${Ev(n)}/${t[0]}`:`${Ev(n)}/(${t.join("//")})`}}function bG(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wv(n){return bG(n).replace(/%3B/gi,";")}function rP(n){return bG(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bv(n){return decodeURIComponent(n)}function CG(n){return bv(n.replace(/\+/g,"%20"))}function TG(n){return`${rP(n.path)}${function l_e(n){return Object.keys(n).map(e=>`;${rP(e)}=${rP(n[e])}`).join("")}(n.parameters)}`}const u_e=/^[^\/()?;#]+/;function iP(n){const e=n.match(u_e);return e?e[0]:""}const d_e=/^[^\/()?;=#]+/,f_e=/^[^=?&#]+/,g_e=/^[^&#]+/;class __e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new je(e,t)),r}parseSegment(){const e=iP(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new op(bv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function h_e(n){const e=n.match(d_e);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=iP(this.remaining);i&&(r=i,this.capture(r))}e[bv(t)]=bv(r)}parseQueryParam(e){const t=function p_e(n){const e=n.match(f_e);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function m_e(n){const e=n.match(g_e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=CG(t),s=CG(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iP(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[de]:new je([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}}function DG(n){return n.segments.length>0?new je([],{[de]:n}):n}function AG(n){const e={};for(const r of Object.keys(n.children)){const s=AG(n.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function y_e(n){if(1===n.numberOfChildren&&n.children[de]){const e=n.children[de];return new je(n.segments.concat(e.segments),e.children)}return n}(new je(n.segments,e))}function el(n){return n instanceof Au}function SG(n){let e;const i=DG(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new je(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function xG(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return sP(i,i,i,t,r);const s=function I_e(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new RG(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new RG(t,e,r)}(e);if(s.toRoot())return sP(i,i,new je([],{}),t,r);const o=function E_e(n,e,t){if(n.isAbsolute)return new Tv(e,!0,0);if(!t)return new Tv(e,!1,NaN);if(null===t.parent)return new Tv(t,!0,0);const r=Cv(n.commands[0])?0:1;return function w_e(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Tv(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?up(o.segmentGroup,o.index,s.commands):MG(o.segmentGroup,o.index,s.commands);return sP(i,o.segmentGroup,a,t,r)}function Cv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cp(n){return"object"==typeof n&&null!=n&&n.outlets}function sP(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:PG(n,e,t);const a=DG(AG(o));return new Au(a,s,i)}function PG(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:PG(s,e,t)}),new je(n.segments,r)}class RG{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cv(r[0]))throw new M(4003,!1);const i=r.find(cp);if(i&&i!==_G(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function MG(n,e,t){if(n||(n=new je([],{})),0===n.segments.length&&n.hasChildren())return up(n,e,t);const r=function C_e(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(cp(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!kG(l,c,o))return s;r+=2}else{if(!kG(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new je(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new je(n.segments.slice(r.pathIndex),n.children),up(s,0,i)}return r.match&&0===i.length?new je(n.segments,{}):r.match&&!n.hasChildren()?oP(n,e,t):r.match?up(n,0,i):oP(n,e,t)}function up(n,e,t){if(0===t.length)return new je(n.segments,{});{const r=function b_e(n){return cp(n[0])?n[0].outlets:{[de]:n}}(t),i={};if(Object.keys(r).some(s=>s!==de)&&n.children[de]&&1===n.numberOfChildren&&0===n.children[de].segments.length){const s=up(n.children[de],e,t);return new je(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=MG(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new je(n.segments,i)}}function oP(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(cp(s)){const l=T_e(s.outlets);return new je(r,l)}if(0===i&&Cv(t[0])){r.push(new op(n.segments[e].path,NG(t[0]))),i++;continue}const o=cp(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Cv(a)?(r.push(new op(o,NG(a))),i+=2):(r.push(new op(o,{})),i++)}return new je(r,{})}function T_e(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oP(new je([],{}),0,r))}),e}function NG(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function kG(n,e,t){return n==t.path&&Bi(e,t.parameters)}const dp="imperative";class Ui{constructor(e,t){this.id=e,this.url=t}}class Dv extends Ui{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ko extends Ui{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hp extends Ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Su extends Ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Av extends Ui{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OG extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D_e extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A_e extends Ui{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class S_e extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x_e extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P_e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class R_e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class M_e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N_e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k_e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O_e{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FG{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aP{}class lP{constructor(e){this.url=e}}class F_e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fp,this.attachRef=null}}let fp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new F_e,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class VG{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cP(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cP(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uP(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uP(e,this._root).map(t=>t.value)}}function cP(n,e){if(n===e.value)return e;for(const t of e.children){const r=cP(n,t);if(r)return r}return null}function uP(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uP(n,t);if(r.length)return r.unshift(e),r}return[]}class Ds{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LG extends VG{constructor(e,t){super(e),this.snapshot=t,dP(this,e)}toString(){return this.snapshot.toString()}}function BG(n,e){const t=function V_e(n,e){const o=new Sv([],{},{},"",{},de,e,null,{});return new jG("",new Ds(o,[]))}(0,e),r=new Mr([new op("",{})]),i=new Mr({}),s=new Mr({}),o=new Mr({}),a=new Mr(""),l=new Pu(r,i,o,a,s,de,e,t.root);return l.snapshot=t.root,new LG(new Ds(l,[]),t)}class Pu{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ne(c=>c[sp]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>Du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>Du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UG(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function L_e(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sv{get title(){return this.data?.[sp]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jG extends VG{constructor(e,t){super(t),this.url=e,dP(this,t)}toString(){return $G(this._root)}}function dP(n,e){e.value._routerState=n,e.children.forEach(t=>dP(n,t))}function $G(n){const e=n.children.length>0?` { ${n.children.map($G).join(", ")} } `:"";return`${n.value}${e}`}function hP(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bi(e.params,t.params)||n.paramsSubject.next(t.params),function e_e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Bi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fP(n,e){const t=Bi(n.params,e.params)&&function i_e(n,e){return Za(n,e)&&n.every((t,r)=>Bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fP(n.parent,e.parent))}let pP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=z(fp),this.location=z(ei),this.changeDetector=z(Cm),this.environmentInjector=z(Fr),this.inputBinder=z(xv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new B_e(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Z({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]})}return n})();class B_e{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Pu?this.route:e===fp?this.childContexts:this.parent.get(e,t)}}const xv=new $("");let zG=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Xx([r.queryParams,r.params,r.data]).pipe(hi(([s,o,a],l)=>(a={...s,...o,...a},0===l?te(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function Gee(n){const e=be(n);if(!e)return null;const t=new Pd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function pp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function j_e(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pp(n,r,i);return pp(n,r)})}(n,e,t);return new Ds(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pp(n,a)),o}}const r=function $_e(n){return new Pu(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>pp(n,s));return new Ds(r,i)}}const gP="ngNavigationCancelingError";function HG(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=el(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WG(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function WG(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[gP]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GG(n){return n&&n[gP]}let qG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ko({type:n,selectors:[["ng-component"]],standalone:!0,features:[SF],decls:1,vars:0,template:function(r,i){1&r&&we(0,"router-outlet")},dependencies:[pP],encapsulation:2})}return n})();function mP(n){const e=n.children&&n.children.map(mP),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=qG),t}function li(n){return n.outlet||de}function gp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Y_e{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hP(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=xu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new O_e(s.value.snapshot))}),e.children.length&&this.forwardEvent(new N_e(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(hP(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hP(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=gp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KG{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pv{constructor(e,t){this.component=e,this.route=t}}function X_e(n,e,t){const r=n._root;return mp(r,e?e._root:null,t,[r.value])}function Ru(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function q9(n){return null!==rg(n)}(n)?e.get(n):n:r}function mp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(e);return n.children.forEach(o=>{(function Z_e(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function eye(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Za(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Za(n.url,e.url)||!Bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fP(n,e)||!Bi(n.queryParams,e.queryParams);default:return!fP(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new KG(r)):(s.data=o.data,s._resolvedData=o._resolvedData),mp(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pv(a.outlet.component,o))}else o&&_p(e,a,i),i.canActivateChecks.push(new KG(r)),mp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_p(a,t.getContext(o),i)),i}function _p(n,e,t){const r=xu(n),i=n.value;Object.entries(r).forEach(([s,o])=>{_p(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Pv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function yp(n){return"function"==typeof n}function QG(n){return n instanceof yv||"EmptyError"===n?.name}const Rv=Symbol("INITIAL_VALUE");function Mu(){return hi(n=>Xx(n.map(e=>e.pipe(Ya(1),function Wme(...n){const e=Qu(n);return $t((t,r)=>{(e?Jx(n,t,e):Jx(n,t)).subscribe(r)})}(Rv)))).pipe(Ne(e=>{for(const t of e)if(!0!==t){if(t===Rv)return Rv;if(!1===t||t instanceof Au)return t}return!0}),Mo(e=>e!==Rv),Ya(1)))}function YG(n){return LR(gn(e=>{if(el(e))throw HG(0,e)}),Ne(e=>!0===e))}class Mv{constructor(e){this.segmentGroup=e||null}}class XG{constructor(e){this.urlTree=e}}function Nu(n){return rp(new Mv(n))}function JG(n){return rp(new XG(n))}class Iye{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return te(r);if(i.numberOfChildren>1||!i.children[de])return rp(new M(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Au(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new je(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const _P={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eye(n,e,t,r,i){const s=yP(n,e,t);return s.matched?(r=function H_e(n,e){return n.providers&&!n._injector&&(n._injector=Zw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function _ye(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?te(i.map(o=>{const a=Ru(o,n);return No(function oye(n){return n&&yp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Mu(),YG()):te(!0)}(r,e,t).pipe(Ne(o=>!0===o?s:{..._P}))):te(s)}function yP(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._P}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zme)(t,n,e);if(!i)return{..._P};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ZG(n,e,t,r){return t.length>0&&function Cye(n,e,t){return t.some(r=>Nv(n,e,r)&&li(r)!==de)}(n,t,r)?{segmentGroup:new je(e,bye(r,new je(t,n.children))),slicedSegments:[]}:0===t.length&&function Tye(n,e,t){return t.some(r=>Nv(n,e,r))}(n,t,r)?{segmentGroup:new je(n.segments,wye(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function wye(n,e,t,r,i){const s={};for(const o of r)if(Nv(n,t,o)&&!i[li(o)]){const a=new je([],{});s[li(o)]=a}return{...i,...s}}function bye(n,e){const t={};t[de]=e;for(const r of n)if(""===r.path&&li(r)!==de){const i=new je([],{});t[li(r)]=i}return t}function Nv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class xye{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Iye(this.urlSerializer,this.urlTree)}noMatchError(e){return new M(4002,!1)}recognize(){const e=ZG(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Ja(t=>{if(t instanceof XG)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Mv?this.noMatchError(t):t}),Ne(t=>{const r=new Sv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Ds(r,t),s=new jG("",i),o=function v_e(n,e,t=null,r=null){return xG(SG(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(Ja(r=>{throw r instanceof Mv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=UG(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Qt(i).pipe(ip(s=>{const o=r.children[s],a=function K_e(n,e){const t=n.filter(r=>li(r)===e);return t.push(...n.filter(r=>li(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function Kme(n,e){return $t(function qme(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Lt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),vv(null),function Qme(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mo((i,s)=>n(i,s,r)):Ls,eP(1),t?vv(e):gG(()=>new yv))}(),an(s=>{if(null===s)return Nu(r);const o=e4(s);return function Pye(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}(o),te(o)}))}processSegment(e,t,r,i,s,o){return Qt(t).pipe(ip(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Ja(l=>{if(l instanceof Mv)return te(null);throw l}))),Xa(a=>!!a),Ja(a=>{if(QG(a))return function Aye(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?te([]):Nu(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Dye(n,e,t,r){return!!(li(n)===r||r!==de&&Nv(e,t,n))&&("**"===n.path||yP(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Nu(i):Nu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JG(s):this.applyRedirects.lineralizeSegments(r,s).pipe(an(o=>{const a=new je(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=yP(t,i,s);if(!a)return Nu(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?JG(d):this.applyRedirects.lineralizeSegments(i,d).pipe(an(h=>this.processSegment(e,r,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?_G(i).parameters:{};a=te({snapshot:new Sv(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t4(r),li(r),r.component??r._loadedComponent??null,r,n4(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Eye(t,r,i,e).pipe(Ne(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Sv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t4(r),li(r),r.component??r._loadedComponent??null,r,n4(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(hi(l=>null===l?Nu(t):this.getChildConfig(e=r._injector??e,r,i).pipe(hi(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=ZG(t,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ne(y=>null===y?null:[new Ds(d,y)]));if(0===c.length&&0===g.length)return te([new Ds(d,[])]);const m=li(r)===s;return this.processSegment(u,c,p,g,m?de:s,!0).pipe(Ne(y=>[new Ds(d,y)]))}))))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?te({routes:t._loadedRoutes,injector:t._loadedInjector}):function mye(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?te(!0):te(i.map(o=>{const a=Ru(o,n);return No(function nye(n){return n&&yp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Mu(),YG())}(e,t,r).pipe(an(i=>i?this.configLoader.loadChildren(e,t).pipe(gn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function vye(n){return rp(WG(!1,3))}())):te({routes:[],injector:e})}}function Rye(n){const e=n.value.routeConfig;return e&&""===e.path}function e4(n){const e=[],t=new Set;for(const r of n){if(!Rye(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=e4(r.children);e.push(new Ds(r.value,i))}return e.filter(r=>!t.has(r))}function t4(n){return n.data||{}}function n4(n){return n.resolve||{}}function r4(n){return"string"==typeof n.title||null===n.title}function vP(n){return hi(e=>{const t=n(e);return t?Qt(t).pipe(Ne(()=>e)):te(e)})}const ku=new $("ROUTES");let IP=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(EV)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=No(t.loadComponent()).pipe(Ne(i4),gn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),tP(()=>{this.componentLoaders.delete(t)})),i=new pG(r,()=>new qr).pipe(Zx());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Lye(n,e,t,r){return No(n.loadChildren()).pipe(Ne(i4),an(i=>i instanceof DF||Array.isArray(i)?te(i):Qt(e.compileModuleAsync(i))),Ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(ku,[],{optional:!0,self:!0}).flat()),{routes:o.map(mP),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(tP(()=>{this.childrenLoaders.delete(r)})),o=new pG(s,()=>new qr).pipe(Zx());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i4(n){return function Bye(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let kv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qr,this.transitionAbortSubject=new qr,this.configLoader=z(IP),this.environmentInjector=z(Fr),this.urlSerializer=z(ap),this.rootContexts=z(fp),this.inputBindingEnabled=null!==z(xv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new R_e(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new P_e(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Mr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mo(s=>0!==s.id),Ne(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),hi(s=>{this.currentTransition=s;let o=!1,a=!1;return te(s).pipe(gn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hi(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Su(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),di}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(hi(h=>{const f=this.transitions?.getValue();return this.events.next(new Dv(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?di:Promise.resolve(h)}),function Mye(n,e,t,r,i,s){return an(o=>function Sye(n,e,t,r,i,s,o="emptyOnly"){return new xye(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new OG(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=l,y=new Dv(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);const _=BG(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},te(s)}{const h="";return this.events.next(new Su(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),di}}),gn(l=>{const c=new D_e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ne(l=>(this.currentTransition=s={...l,guards:X_e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function lye(n,e){return an(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?te({...t,guardsResult:!0}):function cye(n,e,t,r){return Qt(n).pipe(an(i=>function gye(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const l=gp(e)??i,c=Ru(a,l);return No(function sye(n){return n&&yp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Xa())})).pipe(Mu()):te(!0)}(i.component,i.route,t,e,r)),Xa(i=>!0!==i,!0))}(o,r,i,n).pipe(an(a=>a&&function tye(n){return"boolean"==typeof n}(a)?function uye(n,e,t,r){return Qt(e).pipe(ip(i=>Jx(function hye(n,e){return null!==n&&e&&e(new M_e(n)),te(!0)}(i.route.parent,r),function dye(n,e){return null!==n&&e&&e(new k_e(n)),te(!0)}(i.route,r),function pye(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function J_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fG(()=>te(o.guards.map(l=>{const c=gp(o.node)??t,u=Ru(l,c);return No(function iye(n){return n&&yp(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Xa())})).pipe(Mu())));return te(s).pipe(Mu())}(n,i.path,t),function fye(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const i=r.map(s=>fG(()=>{const o=gp(e)??t,a=Ru(s,o);return No(function rye(n){return n&&yp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xa())}));return te(i).pipe(Mu())}(n,i.route,t))),Xa(i=>!0!==i,!0))}(r,s,n,e):te(a)),Ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),gn(l=>{if(s.guardsResult=l.guardsResult,el(l.guardsResult))throw HG(0,l.guardsResult);const c=new A_e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Mo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),vP(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(gn(c=>{const u=new S_e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),hi(c=>{let u=!1;return te(c).pipe(function Nye(n,e){return an(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let s=0;return Qt(i).pipe(ip(o=>function kye(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!r4(i)&&(s[sp]=i.title),function Oye(n,e,t,r){const i=function Fye(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return te({});const s={};return Qt(i).pipe(an(o=>function Vye(n,e,t,r){const i=gp(e)??r,s=Ru(n,i);return No(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xa(),gn(a=>{s[o]=a}))),eP(1),function Yme(n){return Ne(()=>n)}(s),Ja(o=>QG(o)?di:rp(o)))}(s,n,e,r).pipe(Ne(o=>(n._resolvedData=o,n.data=UG(n,t).resolve,i&&r4(i)&&(n.data[sp]=i.title),null)))}(o.route,r,n,e)),gn(()=>s++),eP(1),an(o=>s===i.length?te(t):di))})}(t.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),gn(c=>{const u=new x_e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),vP(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(gn(h=>{u.component=h}),Ne(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Xx(c(l.targetSnapshot.root)).pipe(vv(),Ya(1))}),vP(()=>this.afterPreactivation()),Ne(l=>{const c=function U_e(n,e,t){const r=pp(n,e._root,t?t._root:void 0);return new LG(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),gn(()=>{this.events.next(new aP)}),((n,e,t,r)=>Ne(i=>(new Y_e(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ya(1),gn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ko(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Xme(n){return $t((e,t)=>{pr(n).subscribe(Lt(t,()=>t.complete(),DI)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(gn(l=>{throw l}))),tP(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ja(l=>{if(a=!0,GG(l))this.events.next(new hp(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function z_e(n){return GG(n)&&el(n.url)}(l)?this.events.next(new lP(l.url)):s.resolve(!1);else{this.events.next(new Av(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return di}))}))}cancelNavigationTransition(t,r,i){const s=new hp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s4(n){return n!==dp}let o4=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[sp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return z(Uye)},providedIn:"root"})}return n})(),Uye=(()=>{class n extends o4{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(K(BL))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return z(zye)},providedIn:"root"})}return n})();class $ye{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let zye=(()=>{class n extends $ye{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}();static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ov=new $("",{providedIn:"root",factory:()=>({})});let Hye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return z(Wye)},providedIn:"root"})}return n})(),Wye=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vp||{});function a4(n,e){n.events.pipe(Mo(t=>t instanceof ko||t instanceof hp||t instanceof Av||t instanceof Su),Ne(t=>t instanceof ko||t instanceof Su?vp.COMPLETE:t instanceof hp&&(0===t.code||1===t.code)?vp.REDIRECTING:vp.FAILED),Mo(t=>t!==vp.REDIRECTING),Ya(1)).subscribe(()=>{e()})}function Gye(n){throw n}function qye(n,e,t){return e.parse("/")}const Kye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z(vV),this.isNgZoneEnabled=!1,this._events=new qr,this.options=z(Ov,{optional:!0})||{},this.pendingTasks=z(IV),this.errorHandler=this.options.errorHandler||Gye,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qye,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(Hye),this.routeReuseStrategy=z(jye),this.titleStrategy=z(o4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(ku,{optional:!0})?.flat()??[],this.navigationTransitions=z(kv),this.urlSerializer=z(ap),this.location=z(Rb),this.componentInputBindingEnabled=!!z(xv,{optional:!0}),this.eventsSubscription=new Zn,this.isNgZoneEnabled=z(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Au,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=BG(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(l4(r)&&this._events.next(r));if(r instanceof Dv)s4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Su)this.rawUrlTree=i.rawUrl;else if(r instanceof OG){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof aP)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof hp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof lP){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s4(i.source)};this.scheduleNavigation(s,dp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Av&&this.restoreHistory(i,!0),r instanceof ko&&(this.navigated=!0),l4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=SG(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return xG(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=el(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,dp,null,r)}navigate(t,r={skipLocationChange:!1}){return function Yye(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new M(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Kye}:!1===r?{...Qye}:r,el(t))return vG(this.currentUrlTree,t,i);const s=this.parseUrl(t);return vG(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return a4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l4(n){return!(n instanceof aP||n instanceof lP)}class c4{}let Zye=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mo(t=>t instanceof ko),ip(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Zw(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Qt(i).pipe(_l())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):te(null);const s=i.pipe(an(o=>null===o?te(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Qt([s,this.loader.loadComponent(r)]).pipe(_l()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(K(Xn),K(EV),K(Fr),K(c4),K(IP))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wP=new $("");let u4=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Dv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ko?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Su&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FG&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FG(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function f1(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function As(n,e){return{\u0275kind:n,\u0275providers:e}}function h4(){const n=z(pn);return e=>{const t=n.get(fc);if(e!==t.components[0])return;const r=n.get(Xn),i=n.get(f4);1===n.get(bP)&&r.initialNavigation(),n.get(p4,null,me.Optional)?.setUpPreloading(),n.get(wP,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const f4=new $("",{factory:()=>new qr}),bP=new $("",{providedIn:"root",factory:()=>1}),p4=new $("");function rve(n){return As(0,[{provide:p4,useExisting:Zye},{provide:c4,useExisting:n}])}const g4=new $("ROUTER_FORROOT_GUARD"),sve=[Rb,{provide:ap,useClass:nP},Xn,fp,{provide:Pu,useFactory:function d4(n){return n.routerState.root},deps:[Xn]},IP,[]];function ove(){return new SV("Router",Xn)}let m4=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[sve,[],{provide:ku,multi:!0,useValue:t},{provide:g4,useFactory:uve,deps:[[Xn,new fn,new Ag]]},{provide:Ov,useValue:r||{}},r?.useHash?{provide:la,useClass:Xee}:{provide:la,useClass:iL},{provide:wP,useFactory:()=>{const n=z(vne),e=z(xe),t=z(Ov),r=z(kv),i=z(ap);return t.scrollOffset&&n.setOffset(t.scrollOffset),new u4(i,r,n,e,t)}},r?.preloadingStrategy?rve(r.preloadingStrategy).\u0275providers:[],{provide:SV,multi:!0,useFactory:ove},r?.initialNavigation?dve(r):[],r?.bindToComponentInputs?As(8,[zG,{provide:xv,useExisting:zG}]).\u0275providers:[],[{provide:_4,useFactory:h4},{provide:Eb,multi:!0,useExisting:_4}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ku,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(K(g4,8))};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({})}return n})();function uve(n){return"guarded"}function dve(n){return["disabled"===n.initialNavigation?As(3,[{provide:fb,multi:!0,useFactory:()=>{const e=z(Xn);return()=>{e.setUpLocationChangeListener()}}},{provide:bP,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?As(2,[{provide:bP,useValue:0},{provide:fb,multi:!0,deps:[pn],useFactory:e=>{const t=e.get(Qee,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Xn),s=e.get(f4);a4(i,()=>{r(!0)}),e.get(kv).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const _4=new $("");let fve=(()=>{class n{constructor(t){this.auth=t,this.title="peluche"}ngOnDestroy(){this.auth.logOut().then(()=>console.log("Success Log Out")).catch(t=>console.log(t))}static#e=this.\u0275fac=function(r){return new(r||n)(S(Yx))};static#t=this.\u0275cmp=Ko({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&we(0,"router-outlet")},dependencies:[pP]})}return n})(),y4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(S(Ji),S(Ir))};static#t=this.\u0275dir=Z({type:n})}return n})(),tl=(()=>{class n extends y4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}();static#t=this.\u0275dir=Z({type:n,features:[Ve]})}return n})();const ji=new $("NgValueAccessor"),mve={provide:ji,useExisting:Ke(()=>Fv),multi:!0},yve=new $("CompositionEventMode");let Fv=(()=>{class n extends y4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ve(){const n=Ys()?Ys().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(S(Ji),S(Ir),S(yve,8))};static#t=this.\u0275dir=Z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Tn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ht([mve]),Ve]})}return n})();function Oo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function I4(n){return null!=n&&"number"==typeof n.length}const kn=new $("NgValidators"),Fo=new $("NgAsyncValidators"),vve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class CP{static min(e){return function E4(n){return e=>{if(Oo(e.value)||Oo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function w4(n){return e=>{if(Oo(e.value)||Oo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function b4(n){return Oo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function C4(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function T4(n){return Oo(n.value)||vve.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function D4(n){return e=>Oo(e.value)||!I4(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function A4(n){return e=>I4(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function S4(n){if(!n)return Vv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Oo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return k4(e)}static composeAsync(e){return O4(e)}}function Vv(n){return null}function x4(n){return null!=n}function P4(n){return Od(n)?Qt(n):n}function R4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function M4(n,e){return e.map(t=>t(n))}function N4(n){return n.map(e=>function Ive(n){return!n.validate}(e)?e:t=>e.validate(t))}function k4(n){if(!n)return null;const e=n.filter(x4);return 0==e.length?null:function(t){return R4(M4(t,e))}}function TP(n){return null!=n?k4(N4(n)):null}function O4(n){if(!n)return null;const e=n.filter(x4);return 0==e.length?null:function(t){return function pve(...n){const e=rM(n),{args:t,keys:r}=cG(n),i=new _t(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;pr(t[u]).subscribe(Lt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?dG(r,a):a),s.complete())}))}});return e?i.pipe(uG(e)):i}(M4(t,e).map(P4)).pipe(Ne(R4))}}function DP(n){return null!=n?O4(N4(n)):null}function F4(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function V4(n){return n._rawValidators}function L4(n){return n._rawAsyncValidators}function AP(n){return n?Array.isArray(n)?n:[n]:[]}function Lv(n,e){return Array.isArray(n)?n.includes(e):n===e}function B4(n,e){const t=AP(e);return AP(n).forEach(i=>{Lv(t,i)||t.push(i)}),t}function U4(n,e){return AP(e).filter(t=>!Lv(n,t))}class j4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Jn extends j4{get formDirective(){return null}get path(){return null}}class Vo extends j4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let z4=(()=>{class n extends $4{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(S(Vo,2))};static#t=this.\u0275dir=Z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&hm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ve]})}return n})(),SP=(()=>{class n extends $4{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(S(Jn,10))};static#t=this.\u0275dir=Z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&hm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ve]})}return n})();const Ip="VALID",Uv="INVALID",Ou="PENDING",Ep="DISABLED";function RP(n){return(jv(n)?n.validators:n)||null}function MP(n,e){return(jv(e)?e.asyncValidators:n)||null}function jv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function W4(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function G4(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new M(1002,"")})}class $v{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ip}get invalid(){return this.status===Uv}get pending(){return this.status==Ou}get disabled(){return this.status===Ep}get enabled(){return this.status!==Ep}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(B4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(B4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(U4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(U4(e,this._rawAsyncValidators))}hasValidator(e){return Lv(this._rawValidators,e)}hasAsyncValidator(e){return Lv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ou,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ep,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ip,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ip||this.status===Ou)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ep:Ip}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ou,this._hasOwnPendingAsyncValidator=!0;const t=P4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?Ep:this.errors?Uv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ou)?Ou:this._anyControlsHaveStatus(Uv)?Uv:Ip}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Cve(n){return Array.isArray(n)?TP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Tve(n){return Array.isArray(n)?DP(n):n||null}(this._rawAsyncValidators)}}class wp extends $v{constructor(e,t,r){super(RP(t),MP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){G4(this,0,e),Object.keys(e).forEach(r=>{W4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class q4 extends wp{}const Fu=new $("CallSetDisabledState",{providedIn:"root",factory:()=>zv}),zv="always";function bp(n,e,t=zv){NP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ave(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K4(n,e)})}(n,e),function xve(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sve(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dve(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Wv(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NP(n,e){const t=V4(n);null!==e.validator?n.setValidators(F4(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=L4(n);null!==e.asyncValidator?n.setAsyncValidators(F4(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Gv(e._rawValidators,i),Gv(e._rawAsyncValidators,i)}function qv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=V4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=L4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Gv(e._rawValidators,r),Gv(e._rawAsyncValidators,r),t}function K4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function X4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function J4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tp=class extends $v{constructor(e=null,t,r){super(RP(t),MP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=J4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){X4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){X4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){J4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let LP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),i5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({})}return n})();const BP=new $("NgModelWithFormControlWarning"),zve={provide:Jn,useExisting:Ke(()=>Kv)};let Kv=(()=>{class n extends Jn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Wv(t.control||null,t,!1),function Nve(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Y4(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Wv(r||null,t),(n=>n instanceof Tp)(i)&&(bp(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Q4(n,e){NP(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Pve(n,e){return qv(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NP(this.form,this),this._oldForm&&qv(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(S(kn,10),S(Fo,10),S(Fu,8))};static#t=this.\u0275dir=Z({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Tn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([zve]),Ve,_r]})}return n})();const Gve={provide:Vo,useExisting:Ke(()=>$P)};let $P=(()=>{class n extends Vo{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new wt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function FP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fv?t=s:function Mve(n){return Object.getPrototypeOf(n.constructor)===tl}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function OP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(S(Jn,13),S(kn,10),S(Fo,10),S(ji,10),S(BP,8))};static#n=this.\u0275dir=Z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ht([Gve]),Ve,_r]})}return n})(),aIe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({imports:[i5]})}return n})();class I5 extends $v{constructor(e,t,r){super(RP(t),MP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){G4(this,0,e),e.forEach((r,i)=>{W4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function E5(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lIe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return E5(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new wp(i,s)}record(t,r=null){const i=this._reduceControls(t);return new q4(i,r)}control(t,r,i){let s={};return this.useNonNullable?(E5(r)?s=r:(s.validators=r,s.asyncValidators=i),new Tp(t,{...s,nonNullable:!0})):new Tp(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new I5(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Tp||t instanceof $v?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cIe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:BP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fu,useValue:t.callSetDisabledState??zv}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({imports:[aIe]})}return n})(),uIe=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.router=i}ngOnInit(){this.register=this.formBuilder.group({email:["",[CP.required,CP.email]],password:["",CP.required]})}registerUser(){if(this.register.invalid)return;const{email:t,password:r}=this.register.value;this.auth.register(t,r).then(i=>{this.router.navigate(["/dashboard"])}).catch(i=>console.log(i))}logIn(){if(this.register.invalid)return;const{email:t,password:r}=this.register.value;this.auth.logIn(t,r).then(i=>{this.router.navigate(["/dashboard"])}).catch(i=>console.log(i))}static#e=this.\u0275fac=function(r){return new(r||n)(S(lIe),S(Yx),S(Xn))};static#t=this.\u0275cmp=Ko({type:n,selectors:[["app-login"]],decls:18,vars:3,consts:[[1,"background"],[1,"shape"],["id","loginForm",3,"formGroup"],["for","email"],["type","email","placeholder","Correo","id","email","name","email","formControlName","email"],["for","password"],["type","password","placeholder","Clave","id","password","name","password","formControlName","password"],[3,"disabled","click"],[1,"social"]],template:function(r,i){1&r&&(U(0,"body")(1,"div",0),we(2,"div",1)(3,"div",1),H(),U(4,"form",2)(5,"h3"),Q(6,"Login Here"),H(),U(7,"label",3),Q(8,"Email"),H(),we(9,"input",4),U(10,"label",5),Q(11,"Password"),H(),we(12,"input",6),U(13,"button",7),Tn("click",function(){return i.logIn()}),Q(14,"Log In"),H(),U(15,"button",7),Tn("click",function(){return i.registerUser()}),Q(16," Register "),H(),we(17,"div",8),H()()),2&r&&(bn(4),ac("formGroup",i.register),bn(9),ac("disabled",i.register.invalid),bn(2),ac("disabled",i.register.invalid))},dependencies:[LP,Fv,z4,SP,Kv,$P],styles:["body[_ngcontent-%COMP%]{background-color:#080710;font-family:Poppins,sans-serif;color:#fff}.background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}.shape[_ngcontent-%COMP%]:first-child{background:linear-gradient(#1845ad,#23a2f6);left:-80px;top:-80px}.shape[_ngcontent-%COMP%]:last-child{background:linear-gradient(to right,#ff512f,#f09819);right:-30px;bottom:-80px}form[_ngcontent-%COMP%]{height:520px;width:400px;background-color:gray;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#e5e5e5}button[_ngcontent-%COMP%]{margin-top:50px;width:100%;background-color:#000;color:#080710;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}.social[_ngcontent-%COMP%]{margin-top:30px;display:flex}.social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:red;width:150px;border-radius:3px;padding:5px 10px 10px 5px;background-color:#ffffff45;color:#eaf0fb;text-align:center}.social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#ffffff78}.social[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{margin-left:25px}.social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}"]})}return n})(),dIe=(()=>{class n{constructor(){this.dbName="/cars"}readElements(t){nG(Hx(qx(),this.dbName),s=>{const o=s.val();void 0!==o&&t(o)})}addElement(t){const r=Math.floor((new Date).getTime()/1e3);Wx(Hx(qx(),`${this.dbName}/${r}`),{...t}).catch(s=>console.log(s))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vu(n){return n+.5|0}const Ss=(n,e,t)=>Math.max(Math.min(n,t),e);function Dp(n){return Ss(Vu(2.55*n),0,255)}function Lo(n){return Ss(Vu(255*n),0,255)}function xs(n){return Ss(Vu(n/2.55)/100,0,1)}function w5(n){return Ss(Vu(100*n),0,100)}const Gr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},GP=[..."0123456789ABCDEF"],hIe=n=>GP[15&n],fIe=n=>GP[(240&n)>>4]+GP[15&n],Qv=n=>(240&n)>>4==(15&n);const yIe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b5(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function vIe(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function IIe(n,e,t){const r=b5(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function qP(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=function EIe(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}(t,r,i,u,s),l=60*l+.5),[0|l,c||0,a]}function KP(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Lo)}function QP(n,e,t){return KP(b5,n,e,t)}function C5(n){return(n%360+360)%360}const T5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},D5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Yv;const xIe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,YP=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Lu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Xv(n,e,t){if(n){let r=qP(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,0===e?360:1)),r=QP(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function A5(n,e){return n&&Object.assign(e||{},n)}function S5(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Lo(n[3]))):(e=A5(n,{r:0,g:0,b:0,a:1})).a=Lo(e.a),e}function NIe(n){return"r"===n.charAt(0)?function PIe(n){const e=xIe.exec(n);let r,i,s,t=255;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Dp(o):Ss(255*o,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Dp(r):Ss(r,0,255)),i=255&(e[4]?Dp(i):Ss(i,0,255)),s=255&(e[6]?Dp(s):Ss(s,0,255)),{r,g:i,b:s,a:t}}}(n):function CIe(n){const e=yIe.exec(n);let r,t=255;if(!e)return;e[5]!==r&&(t=e[6]?Dp(+e[5]):Lo(+e[5]));const i=C5(+e[2]),s=+e[3]/100,o=+e[4]/100;return r="hwb"===e[1]?function wIe(n,e,t){return KP(IIe,n,e,t)}(i,s,o):"hsv"===e[1]?function bIe(n,e,t){return KP(vIe,n,e,t)}(i,s,o):QP(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}(n)}class Bu{constructor(e){if(e instanceof Bu)return e;const t=typeof e;let r;"object"===t?r=S5(e):"string"===t&&(r=function gIe(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*Gr[n[1]],g:255&17*Gr[n[2]],b:255&17*Gr[n[3]],a:5===e?17*Gr[n[4]]:255}:(7===e||9===e)&&(t={r:Gr[n[1]]<<4|Gr[n[2]],g:Gr[n[3]]<<4|Gr[n[4]],b:Gr[n[5]]<<4|Gr[n[6]],a:9===e?Gr[n[7]]<<4|Gr[n[8]]:255})),t}(e)||function SIe(n){Yv||(Yv=function AIe(){const n={},e=Object.keys(D5),t=Object.keys(T5);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,T5[s]);s=parseInt(D5[o],16),n[a]=[s>>16&255,s>>8&255,255&s]}return n}(),Yv.transparent=[0,0,0,0]);const e=Yv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||NIe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=A5(this._rgb);return e&&(e.a=xs(e.a)),e}set rgb(e){this._rgb=S5(e)}rgbString(){return this._valid?function RIe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function _Ie(n){var e=(n=>Qv(n.r)&&Qv(n.g)&&Qv(n.b)&&Qv(n.a))(n)?hIe:fIe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function DIe(n){if(!n)return;const e=qP(n),t=e[0],r=w5(e[1]),i=w5(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${xs(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=r.a-i.a,c=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function MIe(n,e,t){const r=Lu(xs(n.r)),i=Lu(xs(n.g)),s=Lu(xs(n.b));return{r:Lo(YP(r+t*(Lu(xs(e.r))-r))),g:Lo(YP(i+t*(Lu(xs(e.g))-i))),b:Lo(YP(s+t*(Lu(xs(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Bu(this.rgb)}alpha(e){return this._rgb.a=Lo(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Vu(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xv(this._rgb,2,e),this}darken(e){return Xv(this._rgb,2,-e),this}saturate(e){return Xv(this._rgb,1,e),this}desaturate(e){return Xv(this._rgb,1,-e),this}rotate(e){return function TIe(n,e){var t=qP(n);t[0]=C5(t[0]+e),t=QP(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function Ps(){}const kIe=(()=>{let n=0;return()=>n++})();function De(n){return null===n||typeof n>"u"}function lt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Ie(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Dt(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function xr(n,e){return Dt(n)?n:e}function he(n,e){return typeof n>"u"?e:n}const x5=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function rt(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function $e(n,e,t,r){let i,s,o;if(lt(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(Ie(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Jv(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Zv(n){if(lt(n))return n.map(Zv);if(Ie(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Zv(n[t[i]]);return e}return n}function P5(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function FIe(n,e,t,r){if(!P5(n))return;const i=e[n],s=t[n];Ie(i)&&Ie(s)?Ap(i,s,r):e[n]=Zv(s)}function Ap(n,e,t){const r=lt(e)?e:[e],i=r.length;if(!Ie(n))return n;const s=(t=t||{}).merger||FIe;let o;for(let a=0;a<i;++a){if(o=r[a],!Ie(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function Sp(n,e){return Ap(n,e,{merger:VIe})}function VIe(n,e,t){if(!P5(n))return;const r=e[n],i=t[n];Ie(r)&&Ie(i)?Sp(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Zv(i))}const R5={"":n=>n,x:n=>n.x,y:n=>n.y};function Bo(n,e){return(R5[e]||(R5[e]=function BIe(n){const e=function LIe(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}(n);return t=>{for(const r of e){if(""===r)break;t=t&&t[r]}return t}}(e)))(n)}function XP(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xp=n=>typeof n<"u",Uo=n=>"function"==typeof n,M5=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},ct=Math.PI,ut=2*ct,jIe=ut+ct,eI=Number.POSITIVE_INFINITY,$Ie=ct/180,Ft=ct/2,rl=ct/4,N5=2*ct/3,jo=Math.log10,$i=Math.sign;function Pp(n,e,t){return Math.abs(n-e)<t}function k5(n){const e=Math.round(n);n=Pp(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(jo(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function Uu(n){return!isNaN(parseFloat(n))&&isFinite(n)}function O5(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ci(n){return n*(ct/180)}function JP(n){return n*(180/ct)}function F5(n){if(!Dt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function V5(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*ct&&(s+=ut),{angle:s,distance:i}}function ZP(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function WIe(n,e){return(n-e+jIe)%ut-ct}function Pr(n){return(n%ut+ut)%ut}function Rp(n,e,t,r){const i=Pr(n),s=Pr(e),o=Pr(t),a=Pr(s-i),l=Pr(o-i),c=Pr(i-s),u=Pr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function on(n,e,t){return Math.max(e,Math.min(t,n))}function Rs(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function eR(n,e,t){t=t||(o=>n[o]<e);let s,r=n.length-1,i=0;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Ms=(n,e,t,r)=>eR(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),qIe=(n,e,t)=>eR(n,t,r=>n[r][e]>=t),L5=["push","pop","shift","splice","unshift"];function B5(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(L5.forEach(s=>{delete n[s]}),delete n._chartjs)}function U5(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const j5=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function $5(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,j5.call(window,()=>{r=!1,n.apply(e,t)}))}}const tR=n=>"start"===n?"left":"end"===n?"right":"center",On=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function z5(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=on(Math.min(Ms(a,l,c).lo,t?r:Ms(e,l,o.getPixelForValue(c)).lo),0,r-1)),s=h?on(Math.max(Ms(a,o.axis,u,!0).hi+1,t?0:Ms(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function H5(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const tI=n=>0===n||1===n,W5=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*ut/t),G5=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ut/t)+1,Mp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Ft),easeOutSine:n=>Math.sin(n*Ft),easeInOutSine:n=>-.5*(Math.cos(ct*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>tI(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>tI(n)?n:W5(n,.075,.3),easeOutElastic:n=>tI(n)?n:G5(n,.075,.3),easeInOutElastic:n=>tI(n)?n:n<.5?.5*W5(2*n,.1125,.45):.5+.5*G5(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Mp.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Mp.easeInBounce(2*n):.5*Mp.easeOutBounce(2*n-1)+.5};function nR(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function q5(n){return nR(n)?n:new Bu(n)}function rR(n){return nR(n)?n:new Bu(n).saturate(.5).darken(.1).hexString()}const JIe=["x","y","borderWidth","radius","tension"],ZIe=["color","borderColor","backgroundColor"],K5=new Map;function Np(n,e,t){return function nEe(n,e){e=e||{};const t=n+JSON.stringify(e);let r=K5.get(t);return r||(r=new Intl.NumberFormat(n,e),K5.set(t,r)),r}(e,t).format(n)}const Q5={values:n=>lt(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=function rEe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=jo(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Np(n,r,l)},logarithmic(n,e,t){if(0===n)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(jo(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Q5.numeric.call(this,n,e,t):""}};var nI={formatters:Q5};const il=Object.create(null),iR=Object.create(null);function kp(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function sR(n,e,t){return"string"==typeof e?Ap(kp(n,e),t):Ap(kp(n,""),e)}class sEe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>rR(i.backgroundColor),this.hoverBorderColor=(r,i)=>rR(i.borderColor),this.hoverColor=(r,i)=>rR(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return sR(this,e,t)}get(e){return kp(this,e)}describe(e,t){return sR(iR,e,t)}override(e,t){return sR(il,e,t)}route(e,t,r,i){const s=kp(this,e),o=kp(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ie(l)?Object.assign({},c,l):he(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var At=new sEe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function eEe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:ZIe},numbers:{type:"number",properties:JIe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function tEe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function iEe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function rI(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function aEe(n,e,t,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=t[l],null==d||lt(d)){if(lt(d))for(c=0,u=d.length;c<u;c++)h=d[c],null!=h&&!lt(h)&&(o=rI(n,i,s,o,h))}else o=rI(n,i,s,o,d);n.restore();const f=s.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function sl(n,e,t){const r=n.currentDevicePixelRatio,i=0!==t?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Y5(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function oR(n,e,t,r){X5(n,e,t,r,null)}function X5(n,e,t,r,i){let s,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*$Ie;if(f&&"object"==typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,r),n.rotate(m),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void n.restore();if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,g,0,0,ut):n.arc(t,r,g,0,ut),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=N5,n.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=N5,n.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+rl)*l,d=Math.cos(m+rl)*(i?i/2-c:l),a=Math.sin(m+rl)*l,h=Math.sin(m+rl)*(i?i/2-c:l),n.arc(t-d,r-a,c,m-ct,m-Ft),n.arc(t+h,r-o,c,m-Ft,m),n.arc(t+d,r+a,c,m,m+Ft),n.arc(t-h,r+o,c,m+Ft,m+ct),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}m+=rl;case"rectRot":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),n.moveTo(t-d,r-a),n.lineTo(t+h,r-o),n.lineTo(t+d,r+a),n.lineTo(t-h,r+o),n.closePath();break;case"crossRot":m+=rl;case"cross":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+h,r-o),n.lineTo(t-h,r+o);break;case"star":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+h,r-o),n.lineTo(t-h,r+o),m+=rl,d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+h,r-o),n.lineTo(t-h,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function Ns(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function iI(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function sI(n){n.restore()}function lEe(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if("middle"===i){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===i!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function cEe(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function dEe(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(t-s.actualBoundingBoxAscent+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function hEe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ol(n,e,t,r,i,s={}){const o=lt(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(n.save(),n.font=i.string,function uEe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),De(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&hEe(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),De(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),dEe(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function Op(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*ct,ct,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ct,Ft,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ft,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-Ft,!0),n.lineTo(t+o.topLeft,r)}const fEe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pEe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gEe(n,e){const t=(""+n).match(fEe);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const mEe=n=>+n||0;function aR(n,e){const t={},r=Ie(e),i=r?Object.keys(e):e,s=Ie(n)?r?o=>he(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=mEe(s(o));return t}function J5(n){return aR(n,{top:"y",right:"x",bottom:"y",left:"x"})}function al(n){return aR(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Fn(n){const e=J5(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Kt(n,e){let t=he((n=n||{}).size,(e=e||At.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=he(n.style,e.style);r&&!(""+r).match(pEe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:he(n.family,e.family),lineHeight:gEe(he(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:he(n.weight,e.weight),string:""};return i.string=function oEe(n){return!n||De(n.size)||De(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function Fp(n,e,t,r){let s,o,a,i=!0;for(s=0,o=n.length;s<o;++s)if(a=n[s],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),i=!1),void 0!==t&&lt(a)&&(a=a[t%a.length],i=!1),void 0!==a))return r&&!i&&(r.cacheable=!1),a}function $o(n,e){return Object.assign(Object.create(n),e)}function lR(n,e=[""],t,r,i=(()=>n[0])){const s=t||n;typeof r>"u"&&(r=r3("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>lR([a,...n],e,s,r)};return new Proxy(o,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>e3(a,l,()=>function TEe(n,e,t,r){let i;for(const s of e)if(i=r3(yEe(s,n),t),typeof i<"u")return cR(n,i)?uR(t,r,n,i):i}(l,e,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>i3(a).includes(l),ownKeys:a=>i3(a),set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ju(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Z5(n,r),setContext:s=>ju(n,s,t,r),override:s=>ju(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,a)=>e3(s,o,()=>function vEe(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return Uo(a)&&o.isScriptable(e)&&(a=function IEe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||r);return a.delete(n),cR(n,l)&&(l=uR(i._scopes,i,n,l)),l}(e,a,n,t)),lt(a)&&a.length&&(a=function EEe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(Ie(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=uR(c,i,n,u);e.push(ju(d,s,o&&o[n],a))}}return e}(e,a,n,o.isIndexable)),cR(e,a)&&(a=ju(a,i,s&&s[e],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,a)=>(n[o]=a,delete s[o],!0)})}function Z5(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Uo(t)?t:()=>t,isIndexable:Uo(r)?r:()=>r}}const yEe=(n,e)=>n?n+XP(e):e,cR=(n,e)=>Ie(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function e3(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function t3(n,e,t){return Uo(n)?n(e,t):n}const wEe=(n,e)=>!0===n?e:"string"==typeof n?Bo(e,n):void 0;function bEe(n,e,t,r,i){for(const s of e){const o=wEe(t,s);if(o){n.add(o);const a=t3(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(!1===o&&typeof r<"u"&&t!==r)return null}return!1}function uR(n,e,t,r){const i=e._rootScopes,s=t3(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let l=n3(a,o,t,s||t,r);return!(null===l||typeof s<"u"&&s!==t&&(l=n3(a,o,s,l,r),null===l))&&lR(Array.from(a),[""],i,s,()=>function CEe(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return lt(i)&&Ie(t)?t:i||{}}(e,t,r))}function n3(n,e,t,r,i){for(;t;)t=bEe(n,e,t,r,i);return t}function r3(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function i3(n){let e=n._keys;return e||(e=n._keys=function DEe(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(n._scopes)),e}function s3(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+t,u=e[c],o[a]={r:i.parse(Bo(u,s),c)};return o}const AEe=Number.EPSILON||1e-14,$u=(n,e)=>e<n.length&&!n[e].skip&&n[e],o3=n=>"x"===n?"y":"x";function SEe(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=ZP(s,i),l=ZP(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function oI(n,e,t){return Math.max(Math.min(n,t),e)}function NEe(n,e,t,r,i){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),"monotone"===e.cubicInterpolationMode)!function REe(n,e="x"){const t=o3(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=$u(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=$u(n,o+1),l){if(c){const u=c[e]-l[e];i[o]=0!==u?(c[t]-l[t])/u:0}s[o]=a?c?$i(i[o-1])!==$i(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}(function xEe(n,e,t){const r=n.length;let i,s,o,a,l,c=$u(n,0);for(let u=0;u<r-1;++u)if(l=c,c=$u(n,u+1),l&&c){if(Pp(e[u],0,AEe)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}})(n,i,s),function PEe(n,e,t="x"){const r=o3(t),i=n.length;let s,o,a,l=$u(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=$u(n,c+1),!a)continue;const u=a[t],d=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}(n,s,e)}(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=SEe(c,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&function MEe(n,e){let t,r,i,s,o,a=Ns(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&Ns(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=oI(i.cp1x,e.left,e.right),i.cp1y=oI(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=oI(i.cp2x,e.left,e.right),i.cp2y=oI(i.cp2y,e.top,e.bottom)))}(n,t)}function dR(){return typeof window<"u"&&typeof document<"u"}function hR(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function aI(n,e,t){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*e.parentNode[t])):r=n,r}const lI=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),OEe=["top","right","bottom","left"];function ll(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=OEe[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const FEe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function cl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=lI(t),s="border-box"===i.boxSizing,o=ll(i,"padding"),a=ll(i,"border","width"),{x:l,y:c,box:u}=function VEe(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a,l,o=!1;if(FEe(i,s,n.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}(n,t),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*t.width/r),y:Math.round((c-h)/p*t.height/r)}}const cI=n=>Math.round(10*n)/10;function a3(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0)}const UEe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};dR()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function l3(n,e){const t=function kEe(n,e){return lI(n).getPropertyValue(e)}(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ul(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function jEe(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:"middle"===r?t<.5?n.y:e.y:"after"===r?t<1?n.y:e.y:t>0?e.y:n.y}}function $Ee(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=ul(n,i,t),a=ul(i,s,t),l=ul(s,e,t),c=ul(o,a,t),u=ul(a,l,t);return ul(c,u,t)}function zu(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function c3(n,e){let t,r;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function u3(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function d3(n){return"angle"===n?{between:Rp,compare:WIe,normalize:Pr}:{between:Rs,compare:(e,t)=>e-t,normalize:e=>e}}function h3({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t==0,style:i}}function f3(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=d3(r),{start:u,end:d,loop:h,style:f}=function WEe(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=d3(r),l=e.length;let h,f,{start:c,end:u,loop:d}=n;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}(n,e,t),p=[];let y,_,v,g=!1,m=null;for(let A=u,B=u;A<=d;++A)_=e[A%o],!_.skip&&(y=c(_[r]),y!==v&&(g=l(y,i,s),null===m&&(g||l(i,v,y)&&0!==a(i,v))&&(m=0===a(y,i)?A:B),null!==m&&(!g||0===a(s,y)||l(s,v,y))&&(p.push(h3({start:m,end:A,loop:h,count:o,style:f})),m=null),B=A,v=y));return null!==m&&p.push(h3({start:m,end:d,loop:h,count:o,style:f})),p}function p3(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=f3(r[i],n.points,e);s.length&&t.push(...s)}return t}function m3(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function YEe(n,e){if(!e)return!1;const t=[],r=function(i,s){return nR(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}class XEe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.duration;t.listeners[i].forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=j5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let l,o=s.length-1,a=!1;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ks=new XEe;const _3="transparent",JEe={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const r=q5(n||_3),i=r.valid&&q5(e||_3);return i&&i.valid?i.mix(r,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class ZEe{constructor(e,t,r,i){const s=t[r];i=Fp([e.to,i,s,e.from]);const o=Fp([e.from,s,i]);this._active=!0,this._fn=e.fn||JEe[e.type||typeof o],this._easing=Mp[e.easing]||Mp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Fp([e.to,t,i,e.from]),this._from=Fp([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<r),!this._active)return this._target[i]=a,void this._notify(!0);t<0?this._target[i]=s:(l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class y3{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ie(e))return;const t=Object.keys(At.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ie(s))return;const o={};for(const a of t)o[a]=s[a];(lt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=function twe(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function ewe(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if("$"===c.charAt(0))continue;if("options"===c){i.push(...this._animateOptions(e,t));continue}const u=t[c];let d=s[c];const h=r.get(c);if(d){if(h&&d.active()){d.update(h,u,a);continue}d.cancel()}h&&h.duration?(s[c]=d=new ZEe(h,e,c,u),i.push(d)):e[c]=u}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(ks.add(this._chart,r),!0):void 0}}function v3(n,e){const t=n&&n.options||{},r=t.reverse,i=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:r?s:i,end:r?i:s}}function I3(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function E3(n,e,t,r={}){const i=n.keys,s="single"===r.mode;let o,a,l,c;if(null!==e){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(r.all)continue;break}c=n.values[l],Dt(c)&&(s||0===e||$i(e)===$i(c))&&(e+=c)}return e}}function w3(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function awe(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function b3(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function C3(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function swe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,r),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:g,[c]:m}=p;h=(p._stacks||(p._stacks={}))[c]=awe(i,u,g),h[a]=m,h._top=b3(h,o,!0,r.type),h._bottom=b3(h,o,!1,r.type),(h._visualValues||(h._visualValues={}))[a]=m}}function fR(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Vp(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][t])return;delete s[r][t],void 0!==s[r]._visualValues&&void 0!==s[r]._visualValues[t]&&delete s[r]._visualValues[t]}}}const pR=n=>"reset"===n||"none"===n,T3=(n,e)=>e?n:Object.assign({},n);let zo=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=w3(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vp(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,g)=>"x"===h?f:"r"===h?g:p,o=r.xAxisID=he(i.xAxisID,fR(t,"x")),a=r.yAxisID=he(i.yAxisID,fR(t,"y")),l=r.rAxisID=he(i.rAxisID,fR(t,"r")),c=r.indexAxis,u=r.iAxisID=s(c,o,a,l),d=r.vAxisID=s(c,a,o,l);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&B5(this._data,this),t._stacked&&Vp(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Ie(r))this._data=function iwe(n){const e=Object.keys(n),t=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],t[r]={x:s,y:n[s]};return t}(r);else if(i!==r){if(i){B5(i,this);const s=this._cachedMeta;Vp(s),s._parsed=[]}r&&Object.isExtensible(r)&&function QIe(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),L5.forEach(t=>{const r="_onData"+XP(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[r]&&a[r](...s)}),o}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=w3(r.vScale,r),r.stack!==i.stack&&(s=!0,Vp(r),r.stack=i.stack),this._resyncElements(t),(s||o!==r._stacked)&&C3(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let d,h,f,c=0===t&&r===s.length||i._sorted,u=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,f=s;else{f=lt(s[t])?this.parseArrayData(i,s,t,r):Ie(s[t])?this.parseObjectData(i,s,t,r):this.parsePrimitiveData(i,s,t,r);const p=()=>null===h[l]||u&&h[l]<u[l];for(d=0;d<r;++d)i._parsed[d+t]=h=f[d],c&&(p()&&(c=!1),u=h);i._sorted=c}a&&C3(this,f)}parsePrimitiveData(t,r,i,s){const{iScale:o,vScale:a}=t,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+i,h[f]={[l]:d||o.parse(u[g],g),[c]:a.parse(r[g],g)};return h}parseArrayData(t,r,i,s){const{xScale:o,yScale:a}=t,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+i,h=r[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(t,r,i,s){const{xScale:o,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(Bo(p,l),f),y:a.parse(Bo(p,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){const o=this._cachedMeta,a=r[t.axis];return E3({keys:I3(this.chart,!0),values:r._stacks[t.axis]._visualValues},a,o.index,{mode:i})}updateRangeFromParsed(t,r,i,s){const o=i[r.axis];let a=null===o?NaN:o;const l=s&&i._stacks[r.axis];s&&l&&(s.values=l,a=E3(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,l=this._getOtherScale(t),c=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:I3(this.chart,!0),values:null})(r,i),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function owe(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}(l);let f,p;function g(){p=s[f];const m=p[l.axis];return!Dt(p[t.axis])||d>m||h<m}for(f=0;f<a&&(g()||(this.updateRangeFromParsed(u,t,p,c),!o));++f);if(o)for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,c);break}return u}getAllParsedValues(t){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][t.axis],Dt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=function rwe(n){let e,t,r,i;return Ie(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:!1===n}}(he(this.options.clip,function nwe(n,e,t){if(!1===t)return!1;const r=v3(n,t),i=v3(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,s=i.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(t,o,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,o))}for(d=0;d<a.length;++d)a[d].draw(t,o)}getStyle(t,r){const i=r?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=function cwe(n,e,t){return $o(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function lwe(n,e){return $o(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){const s="active"===r,o=this._cachedDataOpts,a=t+"-"+r,l=o[a],c=this.enableOptionSharing&&xp(i);if(l)return T3(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(At.elements[t]),m=u.resolveNamedOptions(f,p,()=>this.getContext(i,s,r),h);return m.$shared&&(m.$shared=c,o[a]=Object.freeze(T3(m,c))),m}_resolveAnimations(t,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,l=o[a];if(l)return l;let c;if(!1!==s.options.animation){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,i,r))}const u=new y3(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||pR(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const i=this.resolveDataElementOptions(t,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(t,r,i,s){pR(s)?Object.assign(t,i):this._resolveAnimations(r,s).update(t,i)}updateSharedOptions(t,r,i){t&&!pR(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,s){t.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,i=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,r,i=!0){const s=this._cachedMeta,o=s.data,a=t+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(o),l=t;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,r),i&&this.updateElements(o,t,r,"reset")}updateElements(t,r,i,s){}_removeElements(t,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,r);i._stacked&&Vp(i,s)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,i,s]=t;this[r](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function hwe(n){const e=n.iScale,t=function dwe(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=U5(r.sort((i,s)=>i-s))}return n._cache.$bar}(e,n.type);let i,s,o,a,r=e._length;const l=()=>{32767===o||-32768===o||(xp(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function D3(n,e,t,r){return lt(n)?function gwe(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}(n,e,t,r):e[t.axis]=t.parse(n,r),e}function A3(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,h;for(c=t,u=t+r;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(D3(h,d,s,c));return l}function gR(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function ywe(n,e,t,r){let i=e.borderSkipped;const s={};if(!i)return void(n.borderSkipped=s);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function _we(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}(n);"middle"===i&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(s[S3(u,o,a,l)]=!0,i=c)),s[S3(i,o,a,l)]=!0,n.borderSkipped=s}function S3(n,e,t,r){return r?(n=function vwe(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=x3(n,t,e)):n=x3(n,e,t),n}function x3(n,e,t){return"start"===n?e:"end"===n?t:n}function Iwe(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}let Ewe=(()=>class n extends zo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,s){return A3(t,r,i,s)}parseArrayData(t,r,i,s){return A3(t,r,i,s)}parseObjectData(t,r,i,s){const{iScale:o,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u="x"===o.axis?l:c,d="x"===a.axis?l:c,h=[];let f,p,g,m;for(f=i,p=i+s;f<p;++f)m=r[f],g={},g[o.axis]=o.parse(Bo(m,u),f),h.push(D3(Bo(m,d),g,a,f));return h}updateRangeFromParsed(t,r,i,s){super.updateRangeFromParsed(t,r,i,s);const o=i._custom;o&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(t),a=o._custom,l=gR(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,s){const o="reset"===s,{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s);for(let p=r;p<r+i;p++){const g=this.getParsed(p),m=o||De(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),_=(g._stacks||{})[l.axis],v={horizontal:u,base:m.base,enableBorderRadius:!_||gR(g._custom)||a===_._top||a===_._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(v.options=h||this.resolveDataElementOptions(p,t[p].active?"active":s));const I=v.options||t[p].options;ywe(v,I,_,a),Iwe(v,I,d.ratio),this.updateElement(t[p],p,v,s)}}_getStacks(t,r){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=i.options.stacked,a=[],l=c=>{const u=c.controller.getParsed(r),d=u&&u[c.vScale.axis];if(De(d)||isNaN(d))return!0};for(const c of s)if((void 0===r||!l(c))&&((!1===o||-1===a.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&a.push(c.stack),c.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){const s=this._getStacks(t,i),o=void 0!==r?s.indexOf(r):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,r=this._cachedMeta,i=r.iScale,s=[];let o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const l=t.barThickness;return{min:l||hwe(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(t),u=c._custom,d=gR(u);let g,m,h=c[r.axis],f=0,p=i?this.applyStack(r,c,i):h;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,0!==h&&$i(h)!==$i(u.barEnd)&&(f=0),f+=h);const y=De(o)||d?f:o;let _=r.getPixelForValue(y);if(g=this.chart.getDataVisibility(t)?r.getPixelForValue(f+p):_,m=g-_,Math.abs(m)<a){m=function mwe(n,e,t){return 0!==n?$i(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(m,r,l)*a,h===l&&(_-=m/2);const v=r.getPixelForDecimal(0),I=r.getPixelForDecimal(1),E=Math.min(v,I),b=Math.max(v,I);_=Math.max(Math.min(_,b),E),g=_+m,i&&!d&&(c._stacks[r.axis]._visualValues[s]=r.getValueForPixel(g)-r.getValueForPixel(_))}if(_===r.getPixelForValue(l)){const v=$i(m)*r.getLineWidthForValue(l)/2;_+=v,m-=v}return{size:m,base:_,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){const i=r.scale,s=this.options,o=s.skipNull,a=he(s.maxBarThickness,1/0);let l,c;if(r.grouped){const u=o?this._getStackCount(t):r.stackCount,d="flex"===s.barThickness?function pwe(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:t.barPercentage,start:c}}(t,r,s,u):function fwe(n,e,t,r){const i=t.barThickness;let s,o;return De(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}(t,r,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[r.axis]&&i[o].draw(this._ctx)}})(),wwe=(()=>class n extends zo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,s){const o=super.parsePrimitiveData(t,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,r,i,s){const o=super.parseArrayData(t,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=he(r[i+a][2],this.resolveDataElementOptions(a+i).radius);return o}parseObjectData(t,r,i,s){const o=super.parseObjectData(t,r,i,s);for(let a=0;a<o.length;a++){const l=r[i+a];o[a]._custom=he(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,s){const o="reset"===s,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,s),d=a.axis,h=l.axis;for(let f=r;f<r+i;f++){const p=t[f],g=!o&&this.getParsed(f),m={},y=m[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),_=m[h]=o?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(_),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":s),o&&(m.options.radius=0)),this.updateElement(p,f,m,s)}}resolveDataElementOptions(t,r){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==r&&(s.radius=0),s.radius+=he(i&&i._custom,o),s}})(),mR=(()=>class n extends zo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let a,l,o=c=>+i[c];if(Ie(i[t])){const{key:c="value"}=this._parsing;o=u=>+Bo(i[u],c)}for(a=t,l=t+r;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return ci(this.options.rotation-90)}_getCircumference(){return ci(this.options.circumference)}_getRotationExtents(){let t=ut,r=-ut;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),r=Math.max(r,o+a)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function bwe(n,e,t){let r=1,i=1,s=0,o=0;if(e<ut){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(v,I,E)=>Rp(v,a,l,!0)?1:Math.max(I,I*t,E,E*t),p=(v,I,E)=>Rp(v,a,l,!0)?-1:Math.min(I,I*t,E,E*t),g=f(0,c,d),m=f(Ft,u,h),y=p(ct,c,d),_=p(ct+Ft,u,h);r=(g-y)/2,i=(m-_)/2,s=-(g+y)/2,o=-(m+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(h,d,c),v=Math.max(Math.min((i.width-a)/f,(i.height-a)/p)/2,0),I=x5(this.options.radius,v),b=(I-Math.max(I*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*I,this.offsetY=m*I,s.total=this.calculateTotal(),this.outerRadius=I-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ut)}updateElements(t,r,i,s){const o="reset"===s,a=this.chart,l=a.chartArea,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&a.options.animation.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,s);let v,_=this._getRotation();for(v=0;v<r;++v)_+=this._circumference(v,o);for(v=r;v<r+i;++v){const I=this._circumference(v,o),E=t[v],b={x:d+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+I,circumference:I,outerRadius:g,innerRadius:p};y&&(b.options=m||this.resolveDataElementOptions(v,E.active?"active":s)),_+=I,this.updateElement(E,v,b,s)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let s,i=0;for(s=0;s<r.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?ut*(Math.abs(t)/r):0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],o=Np(this._cachedMeta._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let r=0;const i=this.chart;let s,o,a,l,c;if(!t)for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,l=a.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)c=l.resolveDataElementOptions(s),"inner"!==c.borderAlign&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(he(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Cwe=(()=>class n extends zo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled;let{start:l,count:c}=z5(r,s,a);this._drawStart=l,this._drawCount=c,H5(r)&&(l=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,r,i,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,s),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=Uu(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||"none"===s,v=r+i,I=t.length;let E=r>0&&this.getParsed(r-1);for(let b=0;b<I;++b){const R=t[b],A=_?R:{};if(b<r||b>=v){A.skip=!0;continue}const B=this.getParsed(b),ee=De(B[p]),ce=A[f]=a.getPixelForValue(B[f],b),Ee=A[p]=o||ee?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,B,c):B[p],b);A.skip=isNaN(ce)||isNaN(Ee)||ee,A.stop=b>0&&Math.abs(B[f]-E[f])>y,m&&(A.parsed=B,A.raw=u.data[b]),h&&(A.options=d||this.resolveDataElementOptions(b,R.active?"active":s)),_||this.updateElement(R,b,A,s),E=B}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),P3=(()=>class n extends zo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return r.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],o=Np(this._cachedMeta._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,r,i,s){return s3.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,i=t.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),l=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,r,i,s){const o="reset"===s,a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*ct;let g,p=f;const m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,s,m);for(g=r;g<r+i;g++){const y=t[g];let _=p,v=p+this._computeAngle(g,s,m),I=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,o&&(c.animateScale&&(I=0),c.animateRotate&&(_=v=f));const E={x:d,y:h,innerRadius:0,outerRadius:I,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(g,y.active?"active":s)};this.updateElement(y,g,E,s)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?ci(this.resolveDataElementOptions(t,r).angle||i):0}})();var Twe=Object.freeze({__proto__:null,BarController:Ewe,BubbleController:wwe,DoughnutController:mR,LineController:Cwe,PieController:(()=>class n extends mR{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:P3,RadarController:(()=>class n extends zo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,s){return s3.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:a},t)}this.updateElements(s,0,s.length,t)}updateElements(t,r,i,s){const o=this._cachedMeta.rScale,a="reset"===s;for(let l=r;l<r+i;l++){const c=t[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=o.getPointPositionForValue(l,this.getParsed(l).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,s)}}})(),ScatterController:(()=>class n extends zo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+c+")"}}update(t){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=z5(r,i,s);if(this._drawStart=o,this._drawCount=a,H5(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,_=Uu(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===s;let I=r>0&&this.getParsed(r-1);for(let E=r;E<r+i;++E){const b=t[E],R=this.getParsed(E),A=v?b:{},B=De(R[g]),ee=A[p]=a.getPixelForValue(R[p],E),ce=A[g]=o||B?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[g],E);A.skip=isNaN(ee)||isNaN(ce)||B,A.stop=E>0&&Math.abs(R[p]-I[p])>_,y&&(A.parsed=R,A.raw=u.data[E]),f&&(A.options=h||this.resolveDataElementOptions(E,b.active?"active":s)),v||this.updateElement(b,E,A,s),I=R}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}})()});function dl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _R{static override(e){Object.assign(_R.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return dl()}parse(){return dl()}format(){return dl()}add(){return dl()}diff(){return dl()}startOf(){return dl()}endOf(){return dl()}}var Dwe__date=_R;function Awe(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const l=a._reversePixels?qIe:Ms;if(!r)return l(s,e,t);if(i._sharedOptions){const c=s[0],u="function"==typeof c.getRange&&c.getRange(e);if(u){const d=l(s,e,t-u),h=l(s,e,t+u);return{lo:d.lo,hi:h.hi}}}}return{lo:0,hi:s.length-1}}function Lp(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=Awe(s[a],e,o,i);for(let f=d;f<=h;++f){const p=u[f];p.skip||r(p,c,f)}}}function yR(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||Lp(n,t,e,function(a,l,c){!i&&!Ns(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function vR(n,e,t,r,i,s){return s||n.isPointInArea(e)?"r"!==t||r?function Pwe(n,e,t,r,i,s){let o=[];const a=function Swe(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let l=Number.POSITIVE_INFINITY;return Lp(n,t,e,function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const p=u.getCenterPoint(i);if(!s&&!n.isPointInArea(p)&&!f)return;const m=a(e,p);m<l?(o=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:h})}),o}(n,e,t,r,i,s):function xwe(n,e,t,r){let i=[];return Lp(n,t,e,function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=V5(o,{x:e.x,y:e.y});Rp(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}),i}(n,e,t,i):[]}function R3(n,e,t,r,i){const s=[],o="x"===t?"inXRange":"inYRange";let a=!1;return Lp(n,t,e,(l,c,u)=>{l[o](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Rwe={evaluateInteractionItems:Lp,modes:{index(n,e,t,r){const i=cl(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?yR(n,i,s,r,o):vR(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=cl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?yR(n,i,s,r,o):vR(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point:(n,e,t,r)=>yR(n,cl(e,n),t.axis||"xy",r,t.includeInvisible||!1),nearest:(n,e,t,r)=>vR(n,cl(e,n),t.axis||"xy",t.intersect,r,t.includeInvisible||!1),x:(n,e,t,r)=>R3(n,cl(e,n),"x",t.intersect,r),y:(n,e,t,r)=>R3(n,cl(e,n),"y",t.intersect,r)}};const M3=["left","top","right","bottom"];function Bp(n,e){return n.filter(t=>t.pos===e)}function N3(n,e){return n.filter(t=>-1===M3.indexOf(t.pos)&&t.box.axis===e)}function Up(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function k3(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function O3(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Fwe(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!Ie(i)){t.size&&(n[i]-=t.size);const d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?s.height:s.width),t.size=d.size/d.count,n[i]+=t.size}s.getPadding&&O3(o,s.getPadding());const a=Math.max(0,e.outerWidth-k3(o,n,"left","right")),l=Math.max(0,e.outerHeight-k3(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function Lwe(n,e){const t=e.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function jp(n,e,t,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Lwe(a.horizontal,e));const{same:d,other:h}=Fwe(e,t,a,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&jp(i,e,t,r)||u}function uI(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function F3(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;xp(c.start)&&(o=c.start),l.fullSize?uI(l,i.left,o,t.outerWidth-i.right-i.left,h):uI(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;xp(c.start)&&(s=c.start),l.fullSize?uI(l,s,i.top,h,t.outerHeight-i.bottom-i.top):uI(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Vn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Fn(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=function Owe(n){const e=function Mwe(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(n),t=Up(e.filter(c=>c.box.fullSize),!0),r=Up(Bp(e,"left"),!0),i=Up(Bp(e,"right")),s=Up(Bp(e,"top"),!0),o=Up(Bp(e,"bottom")),a=N3(e,"x"),l=N3(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Bp(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(n.boxes),l=a.vertical,c=a.horizontal;$e(n.boxes,g=>{"function"==typeof g.beforeLayout&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&!1===m.box.options.display?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);O3(h,Fn(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=function kwe(n,e){const t=function Nwe(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!M3.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}(l.concat(c),d);jp(a.fullSize,f,d,p),jp(l,f,d,p),jp(c,f,d,p)&&jp(l,f,d,p),function Vwe(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(f),F3(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,F3(a.rightAndBottom,f,d,p),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},$e(a.chartArea,g=>{const m=g.box;Object.assign(m,n.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class V3{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Bwe extends V3{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dI="$chartjs",Uwe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},L3=n=>null===n||""===n,B3=!!UEe&&{passive:!0};function zwe(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,B3)}function hI(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Wwe(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||hI(a.addedNodes,r),o=o&&!hI(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Gwe(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||hI(a.removedNodes,r),o=o&&!hI(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const $p=new Map;let U3=0;function j3(){const n=window.devicePixelRatio;n!==U3&&(U3=n,$p.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Qwe(n,e,t){const r=n.canvas,i=r&&hR(r);if(!i)return;const s=$5((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;0===c&&0===u||s(c,u)});return o.observe(i),function qwe(n,e){$p.size||window.addEventListener("resize",j3),$p.set(n,e)}(n,s),o}function IR(n,e,t){t&&t.disconnect(),"resize"===e&&function Kwe(n){$p.delete(n),$p.size||window.removeEventListener("resize",j3)}(n)}function Ywe(n,e,t){const r=n.canvas,i=$5(s=>{null!==n.ctx&&t(function Hwe(n,e){const t=Uwe[n.type]||n.type,{x:r,y:i}=cl(n,e);return{type:t,chart:e,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,n))},n);return function $we(n,e,t){n&&n.addEventListener(e,t,B3)}(r,e,i),i}class Xwe extends V3{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function jwe(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[dI]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",L3(i)){const s=l3(n,"width");void 0!==s&&(n.width=s)}if(L3(r))if(""===n.style.height)n.height=n.width/(e||2);else{const s=l3(n,"height");void 0!==s&&(n.height=s)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[dI])return!1;const r=t[dI].initial;["height","width"].forEach(s=>{const o=r[s];De(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[dI],!0}addEventListener(e,t,r){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:Wwe,detach:Gwe,resize:Qwe}[t]||Ywe)(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];i&&(({attach:IR,detach:IR,resize:IR}[t]||zwe)(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function BEe(n,e,t,r){const i=lI(n),s=ll(i,"margin"),o=aI(i.maxWidth,n,"clientWidth")||eI,a=aI(i.maxHeight,n,"clientHeight")||eI,l=function LEe(n,e,t){let r,i;if(void 0===e||void 0===t){const s=hR(n);if(s){const o=s.getBoundingClientRect(),a=lI(s),l=ll(a,"border","width"),c=ll(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=aI(a.maxWidth,s,"clientWidth"),i=aI(a.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:r||eI,maxHeight:i||eI}}(n,e,t);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const h=ll(i,"border","width"),f=ll(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=cI(Math.min(c,o,l.maxWidth)),u=cI(Math.min(u,a,l.maxHeight)),c&&!u&&(u=cI(c/2)),(void 0!==e||void 0!==t)&&r&&l.height&&u>l.height&&(u=l.height,c=cI(Math.floor(u*r))),{width:c,height:u}}(e,t,r,i)}isAttached(e){const t=hR(e);return!(!t||!t.isConnected)}}class Os{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Uu(this.x)&&Uu(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function fI(n,e,t,r,i){const s=he(r,0),o=Math.min(he(i,n.length),n.length);let l,c,u,a=0;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}const $3=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,z3=(n,e)=>Math.min(e||n,n);function H3(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function obe(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let c,l=n.getPixelForTick(i);if(!(t&&(c=1===r?Math.max(l-s,o-l):0===e?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function zp(n){return n.drawTicks?n.tickLength:0}function W3(n,e){if(!n.display)return 0;const t=Kt(n.font,e),r=Fn(n.padding);return(lt(n.text)?n.text.length:1)*t.lineHeight+r.height}function ube(n,e,t){let r=tR(n);return(t&&"right"!==e||!t&&"right"===e)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class hl extends Os{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=xr(e,Number.POSITIVE_INFINITY),t=xr(t,Number.NEGATIVE_INFINITY),r=xr(r,Number.POSITIVE_INFINITY),i=xr(i,Number.NEGATIVE_INFINITY),{min:xr(e,r),max:xr(t,i),minDefined:Dt(e),maxDefined:Dt(t)}}getMinMax(e){let o,{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:xr(t,xr(r,t)),max:xr(r,xr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function _Ee(n,e,t){const{min:r,max:i}=n,s=x5(e,(i-r)/2),o=(a,l)=>t&&0===a?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?H3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function Zwe(n,e){const t=n.options.ticks,r=function ebe(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?function nbe(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function rbe(n,e,t,r){let o,i=0,s=t[0];for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}(e,c,s,o/i),c;const u=function tbe(n,e,t){const r=function ibe(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}(n),i=e.length/t;if(!r)return Math.max(i,1);const s=function zIe(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r==0&&(e.push(r),e.push(n/r));return t===(0|t)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}(s,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(fI(e,c,u,De(f)?0:a-f,a),d=0,h=o-1;d<h;d++)fI(e,c,u,s[d],s[d+1]);return fI(e,c,u,l,De(f)?e.length:l+f),c}return fI(e,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,e=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=rt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=z3(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a,l,c,o=i;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=on(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-zp(e.grid)-t.padding-W3(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=JP(Math.min(Math.asin(on((u.highest.height+6)/a,-1,1)),Math.asin(on(l/c,-1,1))-Math.asin(on(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=W3(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=zp(s)+l):(e.height=this.maxHeight,e.width=zp(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=2*r.padding,p=ci(this.labelRotation),g=Math.cos(p),m=Math.sin(p);a?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:m*d.width+g*h.height)+f):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:g*d.width+m*h.height)+f),this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*t.height):(h=r*e.height,f=i*t.width):"start"===s?f=t.width:"end"===s?h=e.width:"inner"!==s&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;"start"===s?(u=0,d=e.height):"end"===s&&(u=t.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)De(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=H3(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/z3(t,r));let d,h,f,p,g,m,y,_,v,I,E,c=0,u=0;for(d=0;d<t;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=s[m]=s[m]||{data:{},gc:[]},_=g.lineHeight,v=I=0,De(p)||lt(p)){if(lt(p))for(h=0,f=p.length;h<f;++h)E=p[h],!De(E)&&!lt(E)&&(v=rI(i,y.data,y.gc,v,E),I+=_)}else v=rI(i,y.data,y.gc,v,p),I=_;o.push(v),a.push(I),c=Math.max(v,c),u=Math.max(I,u)}!function abe(n,e){$e(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}(s,t);const b=o.indexOf(c),R=a.indexOf(u),A=B=>({width:o[B]||0,height:a[B]||0});return{first:A(0),last:A(t-1),widest:A(b),highest:A(R),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function GIe(n){return on(n,-32768,32767)}(this._alignToPixels?sl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function cbe(n,e,t){return $o(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function lbe(n,e){return $o(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ci(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=zp(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(mt){return sl(r,mt,g)};let _,v,I,E,b,R,A,B,ee,ce,Ee,In;if("top"===o)_=y(this.bottom),R=this.bottom-h,B=_-m,ce=y(e.top)+m,In=e.bottom;else if("bottom"===o)_=y(this.top),ce=e.top,In=y(e.bottom)-m,R=_+m,B=this.top+h;else if("left"===o)_=y(this.right),b=this.right-h,A=_-m,ee=y(e.left)+m,Ee=e.right;else if("right"===o)_=y(this.left),ee=e.left,Ee=y(e.right)-m,b=_+m,A=this.left+h;else if("x"===t){if("center"===o)_=y((e.top+e.bottom)/2+.5);else if(Ie(o)){const mt=Object.keys(o)[0];_=y(this.chart.scales[mt].getPixelForValue(o[mt]))}ce=e.top,In=e.bottom,R=_+m,B=R+h}else if("y"===t){if("center"===o)_=y((e.left+e.right)/2);else if(Ie(o)){const mt=Object.keys(o)[0];_=y(this.chart.scales[mt].getPixelForValue(o[mt]))}b=_-m,A=b-h,ee=e.left,Ee=e.right}const Rr=he(i.ticks.maxTicksLimit,d),We=Math.max(1,Math.ceil(d/Rr));for(v=0;v<d;v+=We){const mt=this.getContext(v),Vt=s.setContext(mt),ui=a.setContext(mt),Ln=Vt.lineWidth,Wu=Vt.color,TI=ui.dash||[],Gu=ui.dashOffset,qp=Vt.tickWidth,pl=Vt.tickColor,Kp=Vt.tickBorderDash||[],gl=Vt.tickBorderDashOffset;I=obe(this,v,l),void 0!==I&&(E=sl(r,I,Ln),c?b=A=ee=Ee=E:R=B=ce=In=E,f.push({tx1:b,ty1:R,tx2:A,ty2:B,x1:ee,y1:ce,x2:Ee,y2:In,width:Ln,color:Wu,borderDash:TI,borderDashOffset:Gu,tickWidth:qp,tickColor:pl,tickBorderDash:Kp,tickBorderDashOffset:gl}))}return this._ticksLength=d,this._borderValue=_,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=zp(r.grid),f=h+u,p=d?-u:f,g=-ci(this.labelRotation),m=[];let y,_,v,I,E,b,R,A,B,ee,ce,Ee,In="middle";if("top"===i)b=this.bottom-p,R=this._getXAxisLabelAlignment();else if("bottom"===i)b=this.top+p,R=this._getXAxisLabelAlignment();else if("left"===i){const We=this._getYAxisLabelAlignment(h);R=We.textAlign,E=We.x}else if("right"===i){const We=this._getYAxisLabelAlignment(h);R=We.textAlign,E=We.x}else if("x"===t){if("center"===i)b=(e.top+e.bottom)/2+f;else if(Ie(i)){const We=Object.keys(i)[0];b=this.chart.scales[We].getPixelForValue(i[We])+f}R=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)E=(e.left+e.right)/2-f;else if(Ie(i)){const We=Object.keys(i)[0];E=this.chart.scales[We].getPixelForValue(i[We])}R=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===l?In="top":"end"===l&&(In="bottom"));const Rr=this._getLabelSizes();for(y=0,_=a.length;y<_;++y){v=a[y],I=v.label;const We=s.setContext(this.getContext(y));A=this.getPixelForTick(y)+s.labelOffset,B=this._resolveTickFontOptions(y),ee=B.lineHeight,ce=lt(I)?I.length:1;const mt=ce/2,Vt=We.color,ui=We.textStrokeColor,Ln=We.textStrokeWidth;let TI,Wu=R;if(o?(E=A,"inner"===R&&(Wu=y===_-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),Ee="top"===i?"near"===c||0!==g?-ce*ee+ee/2:"center"===c?-Rr.highest.height/2-mt*ee+ee:ee/2-Rr.highest.height:"near"===c||0!==g?ee/2:"center"===c?Rr.highest.height/2-mt*ee:Rr.highest.height-ce*ee,d&&(Ee*=-1),0!==g&&!We.showLabelBackdrop&&(E+=ee/2*Math.sin(g))):(b=A,Ee=(1-ce)*ee/2),We.showLabelBackdrop){const Gu=Fn(We.backdropPadding),qp=Rr.heights[y],pl=Rr.widths[y];let Kp=Ee-Gu.top,gl=0-Gu.left;switch(In){case"middle":Kp-=qp/2;break;case"bottom":Kp-=qp}switch(R){case"center":gl-=pl/2;break;case"right":gl-=pl;break;case"inner":y===_-1?gl-=pl:y>0&&(gl-=pl/2)}TI={left:gl,top:Kp,width:pl+Gu.width,height:qp+Gu.height,color:We.backdropColor}}m.push({label:I,font:B,textOffset:Ee,options:{rotation:g,color:Vt,strokeColor:ui,strokeWidth:Ln,textAlign:Wu,textBaseline:In,translation:[E,b],backdrop:TI}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ci(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=e+s,l=this._getLabelSizes().widest.width;let c,u;return"left"===t?i?(u=this.right+s,"near"===r?c="left":"center"===r?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,"near"===r?c="right":"center"===r?(c="center",u-=l/2):(c="left",u=this.left)):"right"===t?i?(u=this.left+s,"near"===r?c="right":"center"===r?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,"near"===r?c="left":"center"===r?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const l=i[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=sl(e,this.left,o)-o/2,u=sl(e,this.right,a)+a/2,d=h=l):(d=sl(e,this.top,o)-o/2,h=sl(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&iI(r,i);const s=this.getLabelItems(e);for(const o of s)ol(r,o.label,0,o.textOffset,o.font,o.options);i&&sI(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Kt(r.font),o=Fn(r.padding),a=r.align;let l=s.lineHeight/2;"bottom"===t||"center"===t||Ie(t)?(l+=o.bottom,lt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=function dbe(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h,f,p,d=0;const g=o-i,m=a-s;if(n.isHorizontal()){if(f=On(r,s,a),Ie(t)){const y=Object.keys(t)[0];p=u[y].getPixelForValue(t[y])+g-e}else p="center"===t?(c.bottom+c.top)/2+g-e:$3(n,t,e);h=a-s}else{if(Ie(t)){const y=Object.keys(t)[0];f=u[y].getPixelForValue(t[y])-m+e}else f="center"===t?(c.left+c.right)/2-m+e:$3(n,t,e);p=On(r,o,i),d="left"===t?-Ft:Ft}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}(this,l,t,a);ol(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:ube(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=he(e.grid&&e.grid.z,-1),i=he(e.border&&e.border.z,0);return this._isVisible()&&this.draw===hl.prototype.draw?[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){return Kt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pI{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function pbe(n){return"id"in n&&"defaults"in n})(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function hbe(n,e,t){const r=Ap(Object.create(null),[t?At.get(t):{},At.get(e),n.defaults]);At.set(e,r),n.defaultRoutes&&function fbe(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");At.route(s,i,l,a)})}(e,n.defaultRoutes),n.descriptors&&At.describe(e,n.descriptors)}(e,o,r),this.override&&At.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in At[i]&&(delete At[i][r],this.override&&delete il[r])}}class gbe{constructor(){this.controllers=new pI(zo,"datasets",!0),this.elements=new pI(Os,"elements"),this.plugins=new pI(Object,"plugins"),this.scales=new pI(hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):$e(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=XP(e);rt(r["before"+i],[],r),t[e](r),rt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var zi=new gbe;class mbe{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin;if(!1===rt(o[r],[t,i,s.options],o)&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=he(r.options&&r.options.plugins,{}),s=function _be(n){const e={},t=[],r=Object.keys(zi.plugins.items);for(let s=0;s<r.length;s++)t.push(zi.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(r);return!1!==i||t?function vbe(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=ybe(r[l],i);null!==c&&s.push({plugin:a,options:Ibe(n.config,{plugin:a,local:t[l]},c,o)})}return s}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ybe(n,e){return e||!1!==n?!0===n?{}:n:null}function Ibe(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ER(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(At.datasets[n]||{}).indexAxis||"x"}function G3(n){if("x"===n||"y"===n||"r"===n)return n}function bbe(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function wR(n,...e){if(G3(n))return n;for(const t of e){const r=t.axis||bbe(t.position)||n.length>1&&G3(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function q3(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function K3(n){const e=n.options||(n.options={});e.plugins=he(e.plugins,{}),e.scales=function Tbe(n,e){const t=il[n.type]||{scales:{}},r=e.scales||{},i=ER(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ie(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=wR(o,a,function Cbe(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return q3(n,"x",t[0])||q3(n,"y",t[0])}return{}}(o,n),At.scales[a.type]),c=function wbe(n,e){return n===e?"_index_":"_value_"}(l,i),u=t.scales||{};s[o]=Sp(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||ER(a,e),u=(il[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=function Ebe(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Sp(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Sp(a,[At.scales[a.type],At.scale])}),s}(n,e)}function Q3(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Y3=new Map,X3=new Set;function gI(n,e){let t=Y3.get(n);return t||(t=e(),Y3.set(n,t),X3.add(t)),t}const Hp=(n,e,t)=>{const r=Bo(e,t);void 0!==r&&n.add(r)};class Abe{constructor(e){this._config=function Dbe(n){return(n=n||{}).data=Q3(n.data),K3(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Q3(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),K3(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gI(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return gI(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return gI(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return gI(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>Hp(l,e,d))),u.forEach(d=>Hp(l,i,d)),u.forEach(d=>Hp(l,il[s]||{},d)),u.forEach(d=>Hp(l,At,d)),u.forEach(d=>Hp(l,iR,d))});const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),X3.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,il[t]||{},At.datasets[t]||{},{type:t},At,iR]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=J3(this._resolverCache,e,i);let l=o;(function xbe(n,e){const{isScriptable:t,isIndexable:r}=Z5(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(Uo(a)||Sbe(a))||o&&lt(a))return!0}return!1})(o,t)&&(s.$shared=!1,l=ju(o,r=Uo(r)?r():r,this.createResolver(e,r,a)));for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=J3(this._resolverCache,e,r);return Ie(t)?ju(s,t,void 0,i):s}}function J3(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:lR(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const Sbe=n=>Ie(n)&&Object.getOwnPropertyNames(n).some(e=>Uo(n[e])),Rbe=["top","bottom","left","right","chartArea"];function Z3(n,e){return"top"===n||"bottom"===n||-1===Rbe.indexOf(n)&&"x"===e}function eq(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function tq(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),rt(t&&t.onComplete,[n],e)}function Mbe(n){const e=n.chart,t=e.options.animation;rt(t&&t.onProgress,[n],e)}function nq(n){return dR()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const mI={},rq=n=>{const e=nq(n);return Object.values(mI).filter(t=>t.canvas===e).pop()};function Nbe(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function _I(n,e,t){return n.options.clip?n[t]:e[t]}let Fs=(()=>class n{static defaults=At;static instances=mI;static overrides=il;static registry=zi;static version="4.4.2";static getChart=rq;static register(...t){zi.add(...t),iq()}static unregister(...t){zi.remove(...t),iq()}constructor(t,r){const i=this.config=new Abe(r),s=nq(t),o=rq(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Jwe(n){return!dR()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Bwe:Xwe}(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;this.id=kIe(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mbe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function YIe(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],mI[this.id]=this,l&&c?(ks.listen(this,"complete",tq),ks.listen(this,"progress",Mbe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return De(t)?r&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return zi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y5(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(t,r){ks.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,r,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,a3(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),rt(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){$e(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,r=t.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const l=r[a],c=wR(a,l),u="r"===c,d="x"===c;return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),$e(o,a=>{const l=a.options,c=l.id,u=wR(c,l),d=he(l.type,a.dtype);(void 0===l.position||Z3(l.position,u)!==Z3(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;c in i&&i[c].type===d?h=i[c]:(h=new(zi.getScale(d))({id:c,type:d,ctx:this.ctx,chart:this}),i[h.id]=h),h.init(l,t)}),$e(s,(a,l)=>{a||delete i[l]}),$e(i,a=>{Vn.configure(this,a,a.options),Vn.addBox(this,a)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(eq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,s)=>{0===r.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||ER(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=zi.getController(l),{datasetElementType:u,dataElementType:d}=At.datasets[l];Object.assign(c,{dataElementType:zi.getElement(d),datasetElementType:u&&zi.getElement(u)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){$e(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&-1===o.indexOf(h);h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||$e(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(eq("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){$e(this.scales,t=>{Vn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!M5(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r)Nbe(t,s,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!M5(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Vn.update(this,this.width,this.height,t);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],$e(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Uo(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),tq({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,i=t._clip,s=!i.disabled,o=function Obe(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:_I(t,e,"left"),right:_I(t,e,"right"),top:_I(r,e,"top"),bottom:_I(r,e,"bottom")}:e}(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&iI(r,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),t.controller.draw(),s&&sI(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Ns(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,s){const o=Rwe.modes[r];return"function"==typeof o?o(this,t,i,s):[]}getDatasetMeta(t){const r=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$o(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!r.hidden}setDatasetVisibility(t,r){this.getDatasetMeta(t).hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);xp(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),ks.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Y5(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete mI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),t[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};$e(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(r.removeEventListener(this,c,u),delete t[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){$e(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},$e(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){const s=i?"set":"remove";let o,a,l,c;for("dataset"===r&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Jv(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(r=>r.plugin.id===t).length}_updateHoverStyles(t,r,i){const s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,t),l=i?t:o(t,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,r){const i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const o=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,r,i){const{_active:s=[],options:o}=this,l=this._getActiveElements(t,s,i,r),c=function UIe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),u=function kbe(n,e,t,r){return t&&"mouseout"!==n.type?r?e:n:null}(t,this._lastEvent,i,c);i&&(this._lastEvent=null,rt(o.onHover,[t,l,this],this),c&&rt(o.onClick,[t,l,this],this));const d=!Jv(l,s);return(d||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,d}_getActiveElements(t,r,i,s){if("mouseout"===t.type)return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}})();function iq(){return $e(Fs.instances,n=>n._plugins.invalidate())}function Hu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function yI(n,e,t,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+t-c,0),h=u>0?u+r+t+c:0;let f=0;const p=i-l;if(r){const Vt=((u>0?u-r:0)+(d>0?d-r:0))/2;f=(p-(0!==Vt?p*Vt/(Vt+r):p))/2}const m=(p-Math.max(.001,p*d-t/ct)/d)/2,y=l+m+f,_=i-m-f,{outerStart:v,outerEnd:I,innerStart:E,innerEnd:b}=function Lbe(n,e,t,r){const i=function Vbe(n){return aR(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(t-Math.min(s,l))*r/2;return on(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:on(i.innerStart,0,o),innerEnd:on(i.innerEnd,0,o)}}(e,h,d,_-y),R=d-v,A=d-I,B=y+v/R,ee=_-I/A,ce=h+E,Ee=h+b,In=y+E/ce,Rr=_-b/Ee;if(n.beginPath(),s){const We=(B+ee)/2;if(n.arc(o,a,d,B,We),n.arc(o,a,d,We,ee),I>0){const Ln=Hu(A,ee,o,a);n.arc(Ln.x,Ln.y,I,ee,_+Ft)}const mt=Hu(Ee,_,o,a);if(n.lineTo(mt.x,mt.y),b>0){const Ln=Hu(Ee,Rr,o,a);n.arc(Ln.x,Ln.y,b,_+Ft,Rr+Math.PI)}const Vt=(_-b/h+(y+E/h))/2;if(n.arc(o,a,h,_-b/h,Vt,!0),n.arc(o,a,h,Vt,y+E/h,!0),E>0){const Ln=Hu(ce,In,o,a);n.arc(Ln.x,Ln.y,E,In+Math.PI,y-Ft)}const ui=Hu(R,y,o,a);if(n.lineTo(ui.x,ui.y),v>0){const Ln=Hu(R,B,o,a);n.arc(Ln.x,Ln.y,v,y-Ft,B)}}else{n.moveTo(o,a);const We=Math.cos(B)*d+o,mt=Math.sin(B)*d+a;n.lineTo(We,mt);const Vt=Math.cos(ee)*d+o,ui=Math.sin(ee)*d+a;n.lineTo(Vt,ui)}n.closePath()}function sq(n,e,t=e){n.lineCap=he(t.borderCapStyle,e.borderCapStyle),n.setLineDash(he(t.borderDash,e.borderDash)),n.lineDashOffset=he(t.borderDashOffset,e.borderDashOffset),n.lineJoin=he(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=he(t.borderWidth,e.borderWidth),n.strokeStyle=he(t.borderColor,e.borderColor)}function $be(n,e,t){n.lineTo(t.x,t.y)}function oq(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a);return{count:r,start:l,loop:e.loop,ilen:c<l&&!(i<o&&s<o||i>a&&s>a)?r+c-l:c-l}}function Hbe(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=oq(i,t,r),u=function zbe(n){return n.stepped?lEe:n.tension||"monotone"===n.cubicInterpolationMode?cEe:$be}(s);let f,p,g,{move:d=!0,reverse:h}=r||{};for(f=0;f<=c;++f)p=i[(a+(h?c-f:f))%o],!p.skip&&(d?(n.moveTo(p.x,p.y),d=!1):u(n,g,p,h,s.stepped),g=p);return l&&(p=i[(a+(h?c:0))%o],u(n,g,p,h,s.stepped)),!!l}function Wbe(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=oq(i,t,r),{move:l=!0,reverse:c}=r||{};let h,f,p,g,m,y,u=0,d=0;const _=I=>(o+(c?a-I:I))%s,v=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(f=i[_(0)],n.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[_(h)],f.skip)continue;const I=f.x,E=f.y,b=0|I;b===p?(E<g?g=E:E>m&&(m=E),u=(d*u+I)/++d):(v(),n.lineTo(I,E),p=b,d=0,g=m=E),y=E}v()}function bR(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?Hbe:Wbe}const Qbe="function"==typeof Path2D;let vI=(()=>class n extends Os{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(NEe(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function KEe(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=function GEe(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}(t,i,s,r);return function g3(n,e,t,r){return r&&r.setContext&&t?function QEe(n,e,t,r){const i=n._chart.getContext(),s=m3(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,d=e[0].start,h=d;function f(p,g,m,y){const _=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=_;for(;t[g%l].skip;)g+=_;p%l!=g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(const p of e){d=a?d:p.start;let m,g=t[d%l];for(h=d+1;h<=p.end;h++){const y=t[h%l];m=m3(r.setContext($o(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),YEe(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}(n,e,t,r):e}(n,!0===r?[{start:o,end:a,loop:s}]:function qEe(n,e,t,r){const i=n.length,s=[];let l,o=e,a=n[e];for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s.push({start:e%i,end:(l-1)%i,loop:r=!1}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return null!==o&&s.push({start:e%i,end:o%i,loop:r}),s}(t,o,a<o?a+i:a,!!n._fullLoop&&0===o&&a===i-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,r){const i=this.options,s=t[r],o=this.points,a=p3(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],c=function Gbe(n){return n.stepped?jEe:n.tension||"monotone"===n.cubicInterpolationMode?$Ee:ul}(i);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=o[h],g=o[f];if(p===g){l.push(p);continue}const y=c(p,g,Math.abs((s-p[r])/(g[r]-p[r])),i.stepped);y[r]=t[r],l.push(y)}return 1===l.length?l[0]:l}pathSegment(t,r,i){return bR(this)(t,this,r,i)}path(t,r,i){const s=this.segments,o=bR(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const l of s)a&=o(t,this,l,{start:r,end:r+i-1});return!!a}draw(t,r,i,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Ybe(n,e,t,r){Qbe&&!e.options.segment?function qbe(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),sq(n,e.options),n.stroke(i)}(n,e,t,r):function Kbe(n,e,t,r){const{segments:i,options:s}=e,o=bR(e);for(const a of i)sq(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}(n,e,t,r)}(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function aq(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}let Xbe=(()=>class n extends Os{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return aq(this,t,"x",r)}inYRange(t,r){return aq(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){let r=(t=t||this.options||{}).radius||0;return r=Math.max(r,r&&t.hoverRadius||0),2*(r+(r&&t.borderWidth||0))}draw(t,r){const i=this.options;this.skip||i.radius<.1||!Ns(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,oR(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function lq(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return n.horizontal?(d=o/2,a=Math.min(t,i),l=Math.max(t,i),c=r-d,u=r+d):(d=s/2,a=t-d,l=t+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Ho(n,e,t,r){return n?0:on(e,t,r)}function CR(n,e,t,r){const i=null===e,s=null===t,a=n&&!(i&&s)&&lq(n,r);return a&&(i||Rs(e,a.left,a.right))&&(s||Rs(t,a.top,a.bottom))}function nCe(n,e){n.rect(e.x,e.y,e.w,e.h)}function TR(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-r),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-i),radius:n.radius}}var iCe=Object.freeze({__proto__:null,ArcElement:class jbe extends Os{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=V5(i,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,p=he(d,l-a)>=ut||Rp(s,a,l),g=Rs(o,c+h,u+h);return p&&g}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+s)/2,d=(o+a+c+l)/2;return{x:t+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>ut?Math.floor(r/ut):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const c=i*(1-Math.sin(Math.min(ct,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function Bbe(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){yI(n,e,t,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%ut||ut))}yI(n,e,t,r,l,i),n.fill()}(e,this,c,s,o),function Ube(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f="inner"===l.borderAlign;if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=h,f?(n.lineWidth=2*c,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let p=e.endAngle;if(s){yI(n,e,t,r,p,i);for(let g=0;g<s;++g)n.stroke();isNaN(a)||(p=o+(a%ut||ut))}f&&function Fbe(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;n.beginPath(),n.arc(s,o,a,r-c,t+c),l>i?(c=i/l,n.arc(s,o,l,t+c,r-c,!0)):n.arc(s,o,i,t+Ft,r-Ft),n.closePath(),n.clip()}(n,e,p),s||(yI(n,e,t,r,p,i),n.stroke())}(e,this,c,s,o),e.restore()}},BarElement:class rCe extends Os{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=function eCe(n){const e=lq(n),t=e.right-e.left,r=e.bottom-e.top,i=function Jbe(n,e,t){const i=n.borderSkipped,s=J5(n.options.borderWidth);return{t:Ho(i.top,s.top,0,t),r:Ho(i.right,s.right,0,e),b:Ho(i.bottom,s.bottom,0,t),l:Ho(i.left,s.left,0,e)}}(n,t/2,r/2),s=function Zbe(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=al(i),o=Math.min(e,t),a=n.borderSkipped,l=r||Ie(i);return{topLeft:Ho(!l||a.top||a.left,s.topLeft,0,o),topRight:Ho(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ho(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ho(!l||a.bottom||a.right,s.bottomRight,0,o)}}(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),a=function tCe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?Op:nCe;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,TR(o,t,s)),e.clip(),a(e,TR(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,TR(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return CR(this,e,t,r)}inXRange(e,t){return CR(this,e,null,t)}inYRange(e,t){return CR(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:vI,PointElement:Xbe});const DR=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cq=DR.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function uq(n){return DR[n%DR.length]}function dq(n){return cq[n%cq.length]}function hq(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var uCe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i;if(!t.forceOverride&&(hq(r)||function cCe(n){return n&&(n.borderColor||n.backgroundColor)}(i)||s&&hq(s)))return;const o=function lCe(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof mR?e=function oCe(n,e){return n.backgroundColor=n.data.map(()=>uq(e++)),e}(t,e):i instanceof P3?e=function aCe(n,e){return n.backgroundColor=n.data.map(()=>dq(e++)),e}(t,e):i&&(e=function sCe(n,e){return n.borderColor=uq(e),n.backgroundColor=dq(e),++e}(t,e))}}(n);r.forEach(o)}};function fq(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function pq(n){n.data.datasets.forEach(e=>{fq(e)})}var pCe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void pq(n);const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(s),c=o||i.data;if("y"===Fp([a,n.options.indexAxis])||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if("linear"!==u.type&&"time"!==u.type||n.options.parsing)return;let p,{start:d,count:h}=function fCe(n,e){const t=e.length;let i,r=0;const{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=on(Ms(e,s.axis,o).lo,0,t-1)),i=c?on(Ms(e,s.axis,a).hi+1,r,t)-r:t-r,{start:r,count:i}}(l,c);if(h<=(t.threshold||4*r))fq(i);else{switch(De(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}})),t.algorithm){case"lttb":p=function dCe(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(s-2);let l=0;const c=e+t-1;let d,h,f,p,g,u=e;for(o[l++]=n[u],d=0;d<s-2;d++){let _,m=0,y=0;const v=Math.floor((d+1)*a)+1+e,I=Math.min(Math.floor((d+2)*a)+1,t)+e,E=I-v;for(_=v;_<I;_++)m+=n[_].x,y+=n[_].y;m/=E,y/=E;const b=Math.floor(d*a)+1+e,R=Math.min(Math.floor((d+1)*a)+1,t)+e,{x:A,y:B}=n[u];for(f=p=-1,_=b;_<R;_++)p=.5*Math.abs((A-m)*(n[_].y-B)-(A-n[_].x)*(y-B)),p>f&&(f=p,h=n[_],g=_);o[l++]=h,u=g}return o[l++]=n[c],o}(c,d,h,r,t);break;case"min-max":p=function hCe(n,e,t,r){let o,a,l,c,u,d,h,f,p,g,i=0,s=0;const m=[],_=n[e].x,I=n[e+t-1].x-_;for(o=e;o<e+t;++o){a=n[o],l=(a.x-_)/I*r,c=a.y;const E=0|l;if(E===u)c<p?(p=c,d=o):c>g&&(g=c,h=o),i=(s*i+a.x)/++s;else{const b=o-1;if(!De(d)&&!De(h)){const R=Math.min(d,h),A=Math.max(d,h);R!==f&&R!==b&&m.push({...n[R],x:i}),A!==f&&A!==b&&m.push({...n[A],x:i})}o>0&&b!==f&&m.push(n[b]),m.push(a),u=E,s=0,p=g=c,d=h=f=o}}return m}(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p}})},destroy(n){pq(n)}};function AR(n,e,t,r){if(r)return;let i=e[n],s=t[n];return"angle"===n&&(i=Pr(i),s=Pr(s)),{property:n,start:i,end:s}}function SR(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function gq(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function mq(n,e){let t=[],r=!1;return lt(n)?(r=!0,t=n):t=function mCe(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=SR(o,a,i);const l=i[o],c=i[a];null!==r?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):null!==t&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}(n,e),t.length?new vI({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function _q(n){return n&&!1!==n.fill}function _Ce(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!Dt(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function yCe(n,e,t){const r=function wCe(n){const e=n.options,t=e.fill;let r=he(t&&t.target,t);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(Ie(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return Dt(i)&&Math.floor(i)===i?function vCe(n,e,t,r){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=r)&&t}(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function TCe(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:a,point:l}=DCe(s,e,"x");if(!(!l||o&&a))if(o)r.unshift(l);else if(n.push(l),!a)break}n.push(...r)}function DCe(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][t],h=o[u.end][t];if(Rs(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:r}}class yq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return e.arc(i,s,o,(t=t||{start:0,end:ut}).end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function xR(n,e,t){const r=function ACe(n){const{chart:e,fill:t,line:r}=n;if(Dt(t))return function SCe(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function bCe(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=function CCe(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);a.push(mq({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)TCe(i,o[u],a)}return new vI({points:i,options:{}})}(n);if("shape"===t)return!0;const i=function xCe(n){return(n.scale||{}).getPointPositionForValue?function RCe(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function ECe(n,e,t){let r;return r="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Ie(n)?n.value:e.getBaseValue(),r}(t,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new yq({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}(n):function PCe(n){const{scale:e={},fill:t}=n,r=function ICe(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Ie(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(Dt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof yq?i:mq(i,r)}(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&i.points.length&&(iI(n,t),function MCe(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:a}=e,l=t._loop?"angle":e.axis;n.save(),"x"===l&&s!==i&&(vq(n,r,o.top),Iq(n,{line:t,target:r,color:i,scale:a,property:l}),n.restore(),n.save(),vq(n,r,o.bottom)),Iq(n,{line:t,target:r,color:s,scale:a,property:l}),n.restore()}(n,{line:i,target:r,above:u,below:d,area:t,scale:s,axis:o}),sI(n))}function vq(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],d=i[SR(l,c,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Iq(n,e){const{line:t,target:r,property:i,color:s,scale:o}=e,a=function gCe(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=SR(l,c,i);const u=AR(t,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=p3(e,u);for(const h of d){const f=AR(t,s[h.start],s[h.end],h.loop),p=f3(a,i,f);for(const g of p)o.push({source:g,target:h,start:{[t]:gq(u,f,"start",Math.max)},end:{[t]:gq(u,f,"end",Math.min)}})}}return o}(t,r,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=s}={}}=l,f=!0!==r;n.save(),n.fillStyle=h,NCe(n,o,f&&AR(i,u,d)),n.beginPath();const p=!!t.pathSegment(n,l);let g;if(f){p?n.closePath():Eq(n,r,d,i);const m=!!r.pathSegment(n,c,{move:p,reverse:!0});g=p&&m,g||Eq(n,r,u,i)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function NCe(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=t||{};"x"===s&&(n.beginPath(),n.rect(o,r,a-o,i-r),n.clip())}function Eq(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var kCe={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof vI&&(l={visible:n.isDatasetVisible(o),index:o,fill:yCe(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],l&&!1!==l.fill&&(l.fill=_Ce(i,o,t.propagate))},beforeDraw(n,e,t){const r="beforeDraw"===t.drawTime,i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&xR(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;_q(s)&&xR(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!_q(r)||"beforeDatasetDraw"!==t.drawTime||xR(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wq=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}};class bq extends Os{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=rt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=Kt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=wq(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{const m=r+t/2+s.measureText(p.text).width;(0===g||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{const{itemWidth:_,itemHeight:v}=function FCe(n,e,t,r,i){const s=function VCe(n,e,t,r){let i=n.text;return i&&"string"!=typeof i&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}(r,n,e,t),o=function LCe(n,e,t){let r=n;return"string"!=typeof e.text&&(r=Cq(e,t)),r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(r,t,s,m,i);y>0&&f+v+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:_,height:v},h=Math.max(h,_),f+=v+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=zu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=On(r,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=On(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=On(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=On(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;iI(e,this),this._draw(),sI(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=At.color,l=zu(e.rtl,this.left,this.width),c=Kt(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=wq(o,d),v=this.isHorizontal(),I=this._computeTitleHeight();f=v?{x:On(s,this.left+u,this.right-r[0]),y:this.top+u+I,line:0}:{x:this.left+u,y:On(s,this.top+I+u,this.bottom-t[0].height),line:0},c3(this.ctx,e.textDirection);const E=m+u;this.legendItems.forEach((b,R)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const A=i.measureText(b.text).width,B=l.textAlign(b.textAlign||(b.textAlign=o.textAlign)),ee=p+h+A;let ce=f.x,Ee=f.y;l.setWidth(this.width),v?R>0&&ce+ee+u>this.right&&(Ee=f.y+=E,f.line++,ce=f.x=On(s,this.left+u,this.right-r[f.line])):R>0&&Ee+E>this.bottom&&(ce=f.x=ce+t[f.line].width+u,f.line++,Ee=f.y=On(s,this.top+I+u,this.bottom-t[f.line].height)),function(b,R,A){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const B=he(A.lineWidth,1);if(i.fillStyle=he(A.fillStyle,a),i.lineCap=he(A.lineCap,"butt"),i.lineDashOffset=he(A.lineDashOffset,0),i.lineJoin=he(A.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=he(A.strokeStyle,a),i.setLineDash(he(A.lineDash,[])),o.usePointStyle){const ee={radius:g*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:B},ce=l.xPlus(b,p/2);X5(i,ee,ce,R+h,o.pointStyleWidth&&p)}else{const ee=R+Math.max((d-g)/2,0),ce=l.leftForLtr(b,p),Ee=al(A.borderRadius);i.beginPath(),Object.values(Ee).some(In=>0!==In)?Op(i,{x:ce,y:ee,w:p,h:g,radius:Ee}):i.rect(ce,ee,p,g),i.fill(),0!==B&&i.stroke()}i.restore()}(l.x(ce),Ee,b),ce=((n,e,t,r)=>n===(r?"left":"right")?t:"center"===n?(e+t)/2:e)(B,ce+p+h,v?ce+ee:this.right,e.rtl),function(b,R,A){ol(i,A.text,b,R+m/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})}(l.x(ce),Ee,b),v?f.x+=ee+u:f.y+="string"!=typeof b.text?Cq(b,c.lineHeight)+u:E}),u3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Kt(t.font),i=Fn(t.padding);if(!t.display)return;const s=zu(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=i.top+r.size/2;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=On(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+On(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=On(a,d,d+h);o.textAlign=s.textAlign(tR(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,ol(o,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=Kt(e.font),r=Fn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Rs(e,this.left,this.right)&&Rs(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Rs(e,i.left,i.left+i.width)&&Rs(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function BCe(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(i,r);i&&!s&&rt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&rt(t.onHover,[e,r,this],this)}else r&&rt(t.onClick,[e,r,this],this)}}function Cq(n,e){return e*(n.text?n.text.length:0)}var UCe={id:"legend",_element:bq,start(n,e,t){const r=n.legend=new bq({ctx:n.ctx,options:t,chart:n});Vn.configure(n,r,t),Vn.addBox(n,r)},stop(n){Vn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Vn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Fn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class PR extends Os{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=lt(r.text)?r.text.length:1;this._padding=Fn(r.padding);const s=i*Kt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let c,u,d,l=0;return this.isHorizontal()?(u=On(a,r,s),d=t+e,c=s-r):("left"===o.position?(u=r+e,d=On(a,i,t),l=-.5*ct):(u=s-e,d=On(a,t,i),l=.5*ct),c=i-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Kt(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ol(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:tR(t.align),textBaseline:"middle",translation:[o,a]})}}var $Ce={id:"title",_element:PR,start(n,e,t){!function jCe(n,e){const t=new PR({ctx:n.ctx,options:e,chart:n});Vn.configure(n,t,e),Vn.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Vn.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Vn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const II=new WeakMap;var zCe={id:"subtitle",start(n,e,t){const r=new PR({ctx:n.ctx,options:t,chart:n});Vn.configure(n,r,t),Vn.addBox(n,r),II.set(n,r)},stop(n){Vn.removeBox(n,II.get(n)),II.delete(n)},beforeUpdate(n,e,t){const r=II.get(n);Vn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wp={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let s,o,a,t=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const u=ZP(e,l.getCenterPoint());u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Hi(n,e){return e&&(lt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Vs(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function HCe(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Tq(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=Kt(e.bodyFont),c=Kt(e.titleFont),u=Kt(e.footerFont),d=s.length,h=i.length,f=r.length,p=Fn(e.padding);let g=p.height,m=0,y=r.reduce((I,E)=>I+E.before.length+E.lines.length+E.after.length,0);y+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y&&(g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing),h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const v=function(I){m=Math.max(m,t.measureText(I).width+_)};return t.save(),t.font=c.string,$e(n.title,v),t.font=l.string,$e(n.beforeBody.concat(n.afterBody),v),_=e.displayColors?o+2+e.boxPadding:0,$e(r,I=>{$e(I.before,v),$e(I.lines,v),$e(I.after,v)}),_=0,t.font=u.string,$e(n.footer,v),t.restore(),m+=p.width,{width:m,height:g}}function qCe(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function GCe(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if("left"===n&&i+s+o>e.width||"right"===n&&i-s-o<0)return!0}(c,n,e,t)&&(c="center"),c}function Dq(n,e,t){const r=t.yAlign||e.yAlign||function WCe(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||qCe(n,e,t,r),yAlign:r}}function Aq(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=al(o);let p=function KCe(n,e){let{x:t,width:r}=n;return"right"===e?t-=r:"center"===e&&(t-=r/2),t}(e,a);const g=function QCe(n,e,t){let{y:r,height:i}=n;return"top"===e?r+=t:r-="bottom"===e?i+t:i/2,r}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,h)+i:"right"===a&&(p+=Math.max(d,f)+i),{x:on(p,0,r.width-e.width),y:on(g,0,r.height-e.height)}}function EI(n,e,t){const r=Fn(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-r.right:n.x+r.left}function Sq(n){return Hi([],Vs(n))}function xq(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Pq={beforeTitle:Ps,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ps,beforeBody:Ps,beforeLabel:Ps,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return De(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ps,afterBody:Ps,beforeFooter:Ps,footer:Ps,afterFooter:Ps};function hr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Pq[e].call(t,r):i}let Rq=(()=>class n extends Os{static positioners=Wp;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new y3(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function YCe(n,e,t){return $o(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:i}=r,s=hr(i,"beforeTitle",this,t),o=hr(i,"title",this,t),a=hr(i,"afterTitle",this,t);let l=[];return l=Hi(l,Vs(s)),l=Hi(l,Vs(o)),l=Hi(l,Vs(a)),l}getBeforeBody(t,r){return Sq(hr(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:i}=r,s=[];return $e(t,o=>{const a={before:[],lines:[],after:[]},l=xq(i,o);Hi(a.before,Vs(hr(l,"beforeLabel",this,o))),Hi(a.lines,hr(l,"label",this,o)),Hi(a.after,Vs(hr(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,r){return Sq(hr(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:i}=r,s=hr(i,"beforeFooter",this,t),o=hr(i,"footer",this,t),a=hr(i,"afterFooter",this,t);let l=[];return l=Hi(l,Vs(s)),l=Hi(l,Vs(o)),l=Hi(l,Vs(a)),l}_createItems(t){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let c,u,l=[];for(c=0,u=r.length;c<u;++c)l.push(HCe(this.chart,r[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,i))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,i))),$e(l,d=>{const h=xq(t.callbacks,d);s.push(hr(h,"labelColor",this,d)),o.push(hr(h,"labelPointStyle",this,d)),a.push(hr(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(s.length){const l=Wp[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=Tq(this,i),u=Object.assign({},l,c),d=Dq(this.chart,i,u),h=Aq(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,s){const o=this.getCaretPosition(t,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(t,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=al(l),{x:f,y:p}=t,{width:g,height:m}=r;let y,_,v,I,E,b;return"center"===o?(E=p+m/2,"left"===s?(y=f,_=y-a,I=E+a,b=E-a):(y=f+g,_=y+a,I=E-a,b=E+a),v=y):(_="left"===s?f+Math.max(c,d)+a:"right"===s?f+g-Math.max(u,h)-a:this.caretX,"top"===o?(I=p,E=I-a,y=_-a,v=_+a):(I=p+m,E=I+a,y=_+a,v=_-a),b=I),{x1:y,x2:_,x3:v,y1:I,y2:E,y3:b}}drawTitle(t,r,i){const s=this.title,o=s.length;let a,l,c;if(o){const u=zu(i.rtl,this.x,this.width);for(t.x=EI(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Kt(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===o&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,r,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=o,d=Kt(o.bodyFont),h=EI(this,"left",o),f=s.x(h),g=r.y+(c<d.lineHeight?(d.lineHeight-c)/2:0);if(o.usePointStyle){const m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,_=g+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,oR(t,m,y,_),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,oR(t,m,y,_)}else{t.lineWidth=Ie(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),_=al(a.borderRadius);Object.values(_).some(v=>0!==v)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Op(t,{x:m,y:g,w:u,h:c,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Op(t,{x:y,y:g+1,w:u-2,h:c-2,radius:_}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(m,g,u,c),t.strokeRect(m,g,u,c),t.fillStyle=a.backgroundColor,t.fillRect(y,g+1,u-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,h=Kt(i.bodyFont);let f=h.lineHeight,p=0;const g=zu(i.rtl,this.x,this.width),m=function(B){r.fillText(B,g.x(t.x+p),t.y+f/2),t.y+=f+o},y=g.textAlign(a);let _,v,I,E,b,R,A;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,t.x=EI(this,y,i),r.fillStyle=i.bodyColor,$e(this.beforeBody,m),p=l&&"right"!==y?"center"===a?u/2+d:u+2+d:0,E=0,R=s.length;E<R;++E){for(_=s[E],v=this.labelTextColors[E],r.fillStyle=v,$e(_.before,m),I=_.lines,l&&I.length&&(this._drawColorBox(r,t,E,g,i),f=Math.max(h.lineHeight,c)),b=0,A=I.length;b<A;++b)m(I[b]),f=h.lineHeight;$e(_.after,m)}p=0,f=h.lineHeight,$e(this.afterBody,m),t.y-=o}drawFooter(t,r,i){const s=this.footer,o=s.length;let a,l;if(o){const c=zu(i.rtl,this.x,this.width);for(t.x=EI(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Kt(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=al(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+h,c),"top"===a&&this.drawCaret(t,r,i,s),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),"center"===a&&"right"===o&&this.drawCaret(t,r,i,s),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),"bottom"===a&&this.drawCaret(t,r,i,s),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),"center"===a&&"left"===o&&this.drawCaret(t,r,i,s),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Wp[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Tq(this,t),c=Object.assign({},a,this._size),u=Dq(r,t,c),d=Aq(t,c,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Fn(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,r),c3(t,r.textDirection),o.y+=a.top,this.drawTitle(o,t,r),this.drawBody(o,t,r),this.drawFooter(o,t,r),u3(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const i=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!Jv(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(t,o,r,i),l=this._positionChanged(a,t),c=r||!Jv(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,i,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&void 0!==this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index));const a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,r){const{caretX:i,caretY:s,options:o}=this,a=Wp[o.position].call(this,t,r);return!1!==a&&(i!==a.x||s!==a.y)}})();var XCe={id:"tooltip",_element:Rq,positioners:Wp,afterInit(n,e,t){t&&(n.tooltip=new Rq({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JCe=Object.freeze({__proto__:null,Colors:uCe,Decimation:pCe,Filler:kCe,Legend:UCe,SubTitle:zCe,Title:$Ce,Tooltip:XCe});function Mq(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}let nTe=(()=>class n extends hl{static id="category";static defaults={ticks:{callback:Mq}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(De(t))return null;const i=this.getLabels();return((n,e)=>null===n?null:on(Math.round(n),0,e))(r=isFinite(r)&&i[r]===t?r:function eTe(n,e,t,r){const i=n.indexOf(e);return-1===i?((n,e,t,r)=>("string"==typeof e?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,r):i!==n.lastIndexOf(e)?t:i}(i,t,he(r,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=0===t&&r===o.length-1?o:o.slice(t,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)s.push({value:a});return s}getLabelForValue(t){return Mq.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function Nq(n,e,{horizontal:t,minRotation:r}){const i=ci(r),s=(t?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+n).length)}class wI extends hl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return De(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=t?i:l,a=l=>s=r?s:l;if(e){const l=$i(i),c=$i(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=0===s?1:Math.abs(.05*s);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:t,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o=function rTe(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=n,f=s||1,p=u-1,{min:g,max:m}=e,y=!De(o),_=!De(a),v=!De(c),I=(m-g)/(d+1);let b,R,A,B,E=k5((m-g)/p/f)*f;if(E<1e-14&&!y&&!_)return[{value:g},{value:m}];B=Math.ceil(m/E)-Math.floor(g/E),B>p&&(E=k5(B*E/p/f)*f),De(l)||(b=Math.pow(10,l),E=Math.ceil(E*b)/b),"ticks"===i?(R=Math.floor(g/E)*E,A=Math.ceil(m/E)*E):(R=g,A=m),y&&_&&s&&function HIe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((a-o)/s,E/1e3)?(B=Math.round(Math.min((a-o)/E,u)),E=(a-o)/B,R=o,A=a):v?(R=y?o:R,A=_?a:A,B=c-1,E=(A-R)/B):(B=(A-R)/E,B=Pp(B,Math.round(B),E/1e3)?Math.round(B):Math.ceil(B));const ee=Math.max(F5(E),F5(R));b=Math.pow(10,De(l)?ee:l),R=Math.round(R*b)/b,A=Math.round(A*b)/b;let ce=0;for(y&&(h&&R!==o?(t.push({value:o}),R<o&&ce++,Pp(Math.round((R+ce*E)*b)/b,o,Nq(o,I,n))&&ce++):R<o&&ce++);ce<B;++ce){const Ee=Math.round((R+ce*E)*b)/b;if(_&&Ee>a)break;t.push({value:Ee})}return _&&h&&A!==a?t.length&&Pp(t[t.length-1].value,a,Nq(a,I,n))?t[t.length-1].value=a:t.push({value:a}):(!_||A===a)&&t.push({value:A}),t}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&O5(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Np(e,this.chart.options.locale,this.options.ticks.format)}}const Gp=n=>Math.floor(jo(n)),fl=(n,e)=>Math.pow(10,Gp(n)+e);function kq(n){return n/Math.pow(10,Gp(n))==1}function Oq(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function RR(n){const e=n.ticks;if(e.display&&n.display){const t=Fn(e.backdropPadding);return he(e.font&&e.font.size,At.font.size)+t.height}return 0}function lTe(n,e,t){return t=lt(t)?t:[t],{w:aEe(n,e.string,t),h:t.length*e.lineHeight}}function Fq(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function uTe(n,e,t,r,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function dTe(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=t,l=n.getPointPosition(e,r+i+o,s),c=Math.round(JP(Pr(l.angle+Ft))),u=function mTe(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(l.y,a.h,c),d=function pTe(n){return 0===n||180===n?"center":n<180?"left":"right"}(c),h=function gTe(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function hTe(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:s}=n;return!(Ns({x:t,y:r},e)||Ns({x:t,y:s},e)||Ns({x:i,y:r},e)||Ns({x:i,y:s},e))}function _Te(n,e,t){const{left:r,top:i,right:s,bottom:o}=t,{backdropColor:a}=e;if(!De(a)){const l=al(e.borderRadius),c=Fn(e.backdropPadding);n.fillStyle=a;const u=r-c.left,d=i-c.top,h=s-r+c.width,f=o-i+c.height;Object.values(l).some(p=>0!==p)?(n.beginPath(),Op(n,{x:u,y:d,w:h,h:f,radius:l}),n.fill()):n.fillRect(u,d,h,f)}}function Vq(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,ut);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}const bI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fr=Object.keys(bI);function Lq(n,e){return n-e}function Bq(n,e){if(De(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof r&&(o=r(o)),Dt(o)||(o="string"==typeof r?t.parse(o,r):t.parse(o)),null===o?null:(i&&(o="week"!==i||!Uu(s)&&!0!==s?t.startOf(o,i):t.startOf(o,"isoWeek",s)),+o)}function Uq(n,e,t,r){const i=fr.length;for(let s=fr.indexOf(n);s<i-1;++s){const o=bI[fr[s]];if(o.common&&Math.ceil((t-e)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=r)return fr[s]}return fr[i-1]}function jq(n,e,t){if(t){if(t.length){const{lo:r,hi:i}=eR(t,e);n[t[r]>=e?t[r]:t[i]]=!0}}else n[e]=!0}function $q(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&t?function CTe(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}(n,r,i,t):r}let MR=(()=>class n extends hl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const i=t.time||(t.time={}),s=this._adapter=new Dwe__date(t.adapters.date);s.init(r),Sp(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return void 0===t?null:Bq(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&c(this.getMinMax(!1))),s=Dt(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=Dt(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){const t=this.options,r=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=function KIe(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}(s,o,this.max);return this._unit=r.unit||(i.autoSkip?Uq(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):function wTe(n,e,t,r,i){for(let s=fr.length-1;s>=fr.indexOf(t);s--){const o=fr[s];if(bI[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return fr[t?fr.indexOf(t):0]}(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function bTe(n){for(let e=fr.indexOf(n)+1,t=fr.length;e<t;++e)if(bI[fr[e]].common)return fr[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&l.reverse(),$q(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,r=0,i=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),r=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),i=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;r=on(r,0,a),i=on(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||Uq(o.minUnit,r,i,this._getLabelCapacity(r)),l=he(s.ticks.stepSize,1),c="week"===a&&o.isoWeekday,u=Uu(c)||!0===c,d={};let f,p,h=r;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":a),t.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);const g="data"===s.ticks.source&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,l,a),p++)jq(d,f,g);return(f===i||"ticks"===s.bounds||1===p)&&jq(d,f,g),Object.keys(d).sort(Lq).map(m=>+m)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(t,r){return this._adapter.format(t,r||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return rt(a,[t,r,i],this);const l=o.time.displayFormats,c=this._unit,u=this._majorUnit,h=u&&l[u],f=i[r];return this._adapter.format(t,s||(u&&h&&f&&f.major?h:c&&l[c]))}generateTickLabels(t){let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,i=this.ctx.measureText(t).width,s=ci(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(t){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(t,0,$q(this,[t],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let r,i,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,i;if(t.length)return t;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)t.push(Bq(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return U5(t.sort(Lq))}})();function CI(n,e,t){let s,o,a,l,r=0,i=n.length-1;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Ms(n,"pos",e)),({pos:s,time:a}=n[r]),({pos:o,time:l}=n[i])):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Ms(n,"time",e)),({time:s,pos:a}=n[r]),({time:o,pos:l}=n[i]));const c=o-s;return c?a+(l-a)*(e-s)/c:a}var DTe=Object.freeze({__proto__:null,CategoryScale:nTe,LinearScale:class iTe extends wI{static id="linear";static defaults={ticks:{callback:nI.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Dt(e)?e:0,this.max=Dt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ci(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},LogarithmicScale:class aTe extends hl{static id="logarithmic";static defaults={ticks:{callback:nI.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=wI.prototype.parse.apply(this,[e,t]);if(0!==r)return Dt(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Dt(e)?Math.max(0,e):null,this.max=Dt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Dt(this._userMin)&&(this.min=e===fl(this.min,0)?fl(this.min,-1):fl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(fl(r,-1)),o(fl(i,1)))),r<=0&&s(fl(i,-1)),i<=0&&o(fl(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function oTe(n,{min:e,max:t}){e=xr(n.min,e);const r=[],i=Gp(e);let s=function sTe(n,e){let r=Gp(e-n);for(;Oq(n,e,r)>10;)r++;for(;Oq(n,e,r)<10;)r--;return Math.min(r,Gp(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=xr(n.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<t;)r.push({value:h,major:kq(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const f=xr(n.max,h);return r.push({value:f,major:kq(f),significand:d}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&O5(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":Np(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=jo(e),this._valueRange=jo(this.max)-jo(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(jo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class ETe extends wI{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nI.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fn(RR(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Dt(e)&&!isNaN(e)?e:0,this.max=Dt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/RR(this.options))}generateTickLabels(e){wI.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=rt(this.options.pointLabels.callback,[t,r],this);return i||0===i?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function cTe(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?ct/s:0;for(let l=0;l<s;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),d=Kt(c.font),h=lTe(n.ctx,d,n._pointLabels[l]);r[l]=h;const f=Pr(n.getIndexAngle(l)+a),p=Math.round(JP(f));uTe(t,e,f,Fq(p,u.x,h.w,0,180),Fq(p,u.y,h.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function fTe(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:RR(s)/2,additionalAngle:o?ct/i:0};let c;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];const d=dTe(n,u,l);r.push(d),"auto"===a&&(d.visible=hTe(d,c),d.visible&&(c=d))}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return Pr(e*(ut/(this._pointLabels.length||1))+ci(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(De(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(De(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function ITe(n,e,t){return $o(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-Ft+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Vq(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&function yTe(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(n.getPointLabelContext(i));_Te(t,o,s);const a=Kt(o.font),{x:l,y:c,textAlign:u}=s;ol(t,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach((u,d)=>{if(0!==d||0===d&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),p=s.setContext(h);!function vTe(n,e,t,r,i){const s=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),Vq(n,t,o,r),s.closePath(),s.stroke(),s.restore())}(this,f,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&this.min>=0&&!t.reverse)return;const c=r.setContext(this.getContext(l)),u=Kt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Fn(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}ol(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},TimeScale:MR,TimeSeriesScale:class TTe extends MR{static id="timeseries";static defaults=MR.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=CI(t,this.min),this._tableRange=CI(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||1===r.length)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(CI(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return CI(this._table,r*this._tableRange+this._minPos,!0)}}});Fs.register(Twe,iCe,JCe,DTe);let STe=(()=>{class n{constructor(){this.indices=[]}ngOnInit(){this.updateChart()}ngOnChanges(t){console.log("Indices",this.indices),console.log("Data",this.Incurrent),this.indices=this.Involtage.map((r,i)=>i+1),this.updateChart()}updateChart(){this.current?.destroy(),this.voltage?.destroy(),this.power?.destroy(),this.rpms?.destroy(),this.speed?.destroy(),this.distanceKm?.destroy(),this.distanceM?.destroy(),this.current=new Fs("current",{type:"line",data:{labels:this.indices,datasets:[{label:"Current",data:this.Incurrent,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.voltage=new Fs("voltage",{type:"line",data:{labels:this.indices,datasets:[{label:"Voltage",data:this.Involtage,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.rpms=new Fs("rpms",{type:"line",data:{labels:this.indices,datasets:[{label:"RPMs",data:this.InRPM,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.power=new Fs("power",{type:"line",data:{labels:this.indices,datasets:[{label:"Power",data:this.Inpower,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.speed=new Fs("speed",{type:"line",data:{labels:this.indices,datasets:[{label:"Speed",data:this.Inspeed,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.distanceKm=new Fs("distanceKm",{type:"line",data:{labels:this.indices,datasets:[{label:"Distance (Km)",data:this.IndistanceKm,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}}),this.distanceM=new Fs("distanceM",{type:"line",data:{labels:this.indices,datasets:[{label:"Distance (m)",data:this.IndistanceMetters,fill:!0,borderColor:"rgb(75, 192, 192)",tension:.1}]}})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ko({type:n,selectors:[["app-line-cart"]],inputs:{Incurrent:"Incurrent",Involtage:"Involtage",Intime:"Intime",InRPM:"InRPM",Indate:"Indate",IndistanceKm:"IndistanceKm",IndistanceMetters:"IndistanceMetters",Inpower:"Inpower",Inspeed:"Inspeed"},features:[_r],decls:21,vars:7,consts:[["id","current"],["id","voltage"],["id","power"],["id","rpms"],["id","speed"],["id","distanceKm"],["id","distanceM"]],template:function(r,i){1&r&&(U(0,"div")(1,"canvas",0),Q(2),H()(),U(3,"div")(4,"canvas",1),Q(5),H()(),U(6,"div")(7,"canvas",2),Q(8),H()(),U(9,"div")(10,"canvas",3),Q(11),H()(),U(12,"div")(13,"canvas",4),Q(14),H()(),U(15,"div")(16,"canvas",5),Q(17),H()(),U(18,"div")(19,"canvas",6),Q(20),H()()),2&r&&(bn(2),ns(i.current),bn(3),ns(i.voltage),bn(3),ns(i.power),bn(3),ns(i.rpms),bn(3),ns(i.speed),bn(3),ns(i.distanceKm),bn(3),ns(i.distanceM))},styles:["div[_ngcontent-%COMP%]{padding:20px}"]})}return n})(),xTe=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.db=i,this.dataGroup={time:[],current:[],date:[],distanceKm:[],distanceMetters:[],power:[],RPM:[],speed:[],voltage:[]},i.readElements(s=>this.graficar(s))}logOut(){this.auth.logOut().then(()=>this.router.navigate(["/login"])).catch(t=>console.log(t))}addElement(){const t={date:(new Date).toLocaleDateString(),time:Math.floor((new Date).getTime()/1e3).toString(),voltage:(50*Math.random()).toString(),current:Math.random().toString(),power:(10*Math.random()).toString(),RPM:(60*Math.random()).toString(),speed:(50*Math.random()).toString(),distanceMetters:(500*Math.random()).toString(),distanceKm:Math.random().toString()};this.db.addElement(t)}graficar(t){this.extractData(t)}extractData(t){const r={time:[],RPM:[],current:[],date:[],distanceKm:[],distanceMetters:[],power:[],speed:[],voltage:[]};for(const i in t)if(t.hasOwnProperty(i)){const s=t[i];r.time.push(Number(i)),r.RPM.push(parseFloat(s.RPM)),r.current.push(parseFloat(s.current)),r.date.push(s.date),r.distanceKm.push(parseFloat(s.distanceKm)),r.distanceMetters.push(parseFloat(s.distanceMetters)),r.power.push(parseFloat(s.power)),r.speed.push(parseFloat(s.speed)),r.voltage.push(parseFloat(s.voltage))}this.dataGroup.time=r.time,this.dataGroup.RPM=r.RPM,this.dataGroup.current=r.current,this.dataGroup.date=r.date,this.dataGroup.distanceKm=r.distanceKm,this.dataGroup.distanceMetters=r.distanceMetters,this.dataGroup.power=r.power,this.dataGroup.speed=r.speed,this.dataGroup.voltage=r.voltage,console.log(this.dataGroup)}static#e=this.\u0275fac=function(r){return new(r||n)(S(Yx),S(Xn),S(dIe))};static#t=this.\u0275cmp=Ko({type:n,selectors:[["app-dashboard"]],decls:71,vars:13,consts:[[1,"container"],[1,"navigation"],[1,"icon"],[1,"title"],[3,"click"],[1,"main"],[1,"topbar"],[1,"toggle"],[1,"search"],[1,"cardHeader"],[1,"user"],["src","../../assets/images/phoenixLogo.png"],[1,"cardBox"],[1,"card"],[1,"cardName"],[1,"numbers"],[1,"iconBx"],[1,"details"],[1,"recentOrders"],[3,"Incurrent","Indate","IndistanceKm","IndistanceMetters","Inpower","InRPM","Inspeed","Intime","Involtage"]],template:function(r,i){1&r&&(U(0,"body")(1,"div",0)(2,"div",1)(3,"ul")(4,"li")(5,"a"),we(6,"span",2),U(7,"span",3),Q(8,"Hamilton"),H()()(),U(9,"li")(10,"a"),we(11,"span",2),U(12,"span",3),Q(13,"Help"),H()()(),U(14,"li")(15,"a"),we(16,"span",2),U(17,"span",3),Q(18,"Password"),H()()(),U(19,"li")(20,"a",4),Tn("click",function(){return i.logOut()}),we(21,"span",2),U(22,"span",3),Q(23,"Sign Out"),H()()()()(),U(24,"div",5)(25,"div",6),we(26,"div",7),U(27,"div",8)(28,"div",9)(29,"h1"),Q(30,"Estadisticas del Vehiculo"),H()()(),U(31,"button",4),Tn("click",function(){return i.addElement()}),Q(32,"Adicionar"),H(),U(33,"div",10),we(34,"img",11),H()(),U(35,"div",12)(36,"div",13)(37,"div")(38,"div",14),Q(39,"Corriente (A)"),H(),U(40,"div",15),Q(41),H()(),we(42,"div",16),H(),U(43,"div",13)(44,"div")(45,"div",14),Q(46,"Voltaje (V)"),H(),U(47,"div",15),Q(48),H()(),we(49,"div",16),H(),U(50,"div",13)(51,"div")(52,"div",14),Q(53,"Potencia (W)"),H(),U(54,"div",15),Q(55),H()(),we(56,"div",16),H(),U(57,"div",13)(58,"div")(59,"div",14),Q(60,"RPMs"),H(),U(61,"div",15),Q(62),H()(),we(63,"div",16),H()(),U(64,"div",17)(65,"div",18)(66,"div",9)(67,"h2"),Q(68,"Graficas"),H()(),U(69,"div"),we(70,"app-line-cart",19),H()()()()()()),2&r&&(bn(41),ia(" ",i.dataGroup.current[i.dataGroup.current.length-1]," "),bn(7),ia(" ",i.dataGroup.voltage[i.dataGroup.voltage.length-1]," "),bn(7),ia(" ",i.dataGroup.power[i.dataGroup.power.length-1]," "),bn(7),ia(" ",i.dataGroup.RPM[i.dataGroup.RPM.length-1]," "),bn(8),ac("Incurrent",i.dataGroup.current)("Indate",i.dataGroup.date)("IndistanceKm",i.dataGroup.distanceKm)("IndistanceMetters",i.dataGroup.distanceMetters)("Inpower",i.dataGroup.power)("InRPM",i.dataGroup.RPM)("Inspeed",i.dataGroup.speed)("Intime",i.dataGroup.time)("Involtage",i.dataGroup.voltage))},dependencies:[STe],styles:['*[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{min-height:100vh;overflow-x:hidden;font-family:Ubuntu,sans-serif}.container[_ngcontent-%COMP%]{position:relative;width:100%}.navigation[_ngcontent-%COMP%]{position:fixed;width:300px;height:100%;background:#2a2185;border-left:10px solid #2a2185;transition:.5s;overflow:hidden}.navigation.active[_ngcontent-%COMP%]{width:80px}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;width:100%;list-style:none;border-top-left-radius:30px;border-bottom-left-radius:30px}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.hovered[_ngcontent-%COMP%]{background-color:#fff}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){margin-bottom:40px;pointer-events:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;width:100%;display:flex;text-decoration:none;color:#fff}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.hovered[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2a2185}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;display:block;min-width:60px;height:60px;line-height:75px;text-align:center}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.75rem}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;display:block;padding:0 10px;height:60px;line-height:60px;text-align:start;white-space:nowrap}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:before, .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.hovered[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:-50px;width:50px;height:50px;background-color:transparent;border-radius:50%;box-shadow:35px 35px 0 10px #fff;pointer-events:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:after, .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.hovered[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;bottom:-50px;width:50px;height:50px;background-color:transparent;border-radius:50%;box-shadow:35px -35px 0 10px #fff;pointer-events:none}.main[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 300px);left:300px;min-height:100vh;background:#fff;transition:.5s}.main.active[_ngcontent-%COMP%]{width:calc(100% - 80px);left:80px}.topbar[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;justify-content:space-between;align-items:center;padding:0 10px}.toggle[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;display:flex;justify-content:center;align-items:center;font-size:2.5rem;cursor:pointer}.search[_ngcontent-%COMP%]{position:relative;width:400px;margin:0 10px}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;width:100%}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:40px;padding:5px 20px 5px 35px;font-size:18px;outline:none;border:1px solid #999}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:10px;font-size:1.2rem}.user[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;border-radius:50%;overflow:hidden;cursor:pointer}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.cardBox[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px;display:grid;grid-template-columns:repeat(4,1fr);grid-gap:30px}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:30px;border-radius:20px;display:flex;justify-content:space-between;cursor:pointer;box-shadow:0 7px 25px #00000014}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]{position:relative;font-weight:500;font-size:2.5rem;color:#2a2185}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cardName[_ngcontent-%COMP%]{color:#999;font-size:1.1rem;margin-top:5px}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .iconBx[_ngcontent-%COMP%]{font-size:3.5rem;color:#999}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{background:#2a2185}.cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .numbers[_ngcontent-%COMP%], .cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .cardName[_ngcontent-%COMP%], .cardBox[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .iconBx[_ngcontent-%COMP%]{color:#fff}.details[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px;display:grid;grid-template-columns:2fr 1fr;grid-gap:30px}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]{position:relative;display:grid;min-height:500px;background:#fff;padding:20px;box-shadow:0 7px 25px #00000014;border-radius:20px}.details[_ngcontent-%COMP%]   .cardHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.cardHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:#2a2185}.cardHeader[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;padding:5px 10px;background:#2a2185;text-decoration:none;color:#fff;border-radius:6px}.details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}.details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#222;border-bottom:1px solid rgba(0,0,0,.1)}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#2a2185;color:#fff}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:end}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:end}.details[_ngcontent-%COMP%]   .recentOrders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:center}.status.delivered[_ngcontent-%COMP%]{padding:2px 4px;background:#8de02c;color:#fff;border-radius:4px;font-size:14px;font-weight:500}.status.pending[_ngcontent-%COMP%]{padding:2px 4px;background:#e9b10a;color:#fff;border-radius:4px;font-size:14px;font-weight:500}.status.return[_ngcontent-%COMP%]{padding:2px 4px;background:#f00;color:#fff;border-radius:4px;font-size:14px;font-weight:500}.status.inProgress[_ngcontent-%COMP%]{padding:2px 4px;background:#1795ce;color:#fff;border-radius:4px;font-size:14px;font-weight:500}.recentCustomers[_ngcontent-%COMP%]{position:relative;display:grid;min-height:500px;padding:20px;background:#fff;box-shadow:0 7px 25px #00000014;border-radius:20px}.recentCustomers[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;border-radius:50px;overflow:hidden}.recentCustomers[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.recentCustomers[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px}.recentCustomers[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:1.2rem}.recentCustomers[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#999}.recentCustomers[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#2a2185;color:#fff}.recentCustomers[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}@media (max-width: 991px){.navigation[_ngcontent-%COMP%]{left:-300px}.navigation.active[_ngcontent-%COMP%]{width:300px;left:0}.main[_ngcontent-%COMP%]{width:100%;left:0}.main.active[_ngcontent-%COMP%]{left:300px}.cardBox[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.details[_ngcontent-%COMP%]{grid-template-columns:1fr}.recentOrders[_ngcontent-%COMP%]{overflow-x:auto}.status.inProgress[_ngcontent-%COMP%]{white-space:nowrap}}@media (max-width: 480px){.cardBox[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.cardHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.user[_ngcontent-%COMP%]{min-width:40px}.navigation[_ngcontent-%COMP%]{width:100%;left:-100%;z-index:1000}.navigation.active[_ngcontent-%COMP%]{width:100%;left:0}.toggle[_ngcontent-%COMP%]{z-index:10001}.main.active[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{color:#fff;position:fixed;right:0;left:initial}}']})}return n})(),PTe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ko({type:n,selectors:[["app-general"]],decls:91,vars:0,consts:[["id","header"],["src","/src/images/imagen_2024-02-19_224732403-removebg-preview.png","width","320","height","311"],["href","/login"],["src","../../images/bandera-de-acabado.png","width","40","height","41","alt",""],[1,"image"],["id","main"],[1,"major","container","medium"],["src","../../images/Aesthetic Photo Collage Moodboard Neutral Feminine Style.png","width","1000","height","700","alt",""],[1,"box","alt","container"],[1,"feature","left"],["href","#",1,"image","icon","solid","fa-signal"],["src","../../images/pic01.jpg","alt",""],[1,"content"],[1,"feature","right"],["href","#",1,"image","icon","solid","fa-code"],["src","../../images/pic02.jpg","alt",""],["href","#",1,"image","icon","solid","fa-mobile-alt"],["src","../../images/pic03.jpg","alt",""],[1,"container",2,"text-align","center"],["id","canvas","width","600","height","200"],["id","game-over",2,"display","none"],["src","../../images/instagram.png","width","60","height","61","alt",""],["href","https://www.tiktok.com/@teamhamilt_on?_t=8gGadbVaWVK&_r=1"],[1,"actions","special"],["src","../../images/tik-tok.png","width","45","height","46","alt",""],["href","https://www.instagram.com/hamilev2023?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="],["id","footer"],[1,"container","medium"],[1,"major","last"],["method","post","action","#"],[1,"row"],[1,"col-6","col-12-mobilep"],[1,"col-12"],["src","../../images/Captura de pantalla 2024-02-19 230446.png","width","836","height","592","alt",""],["type","submit","value","Escribenos"],[1,"icons"],["href","https://wa.me/573508907283"],["src","../../images/whatsapp.png","width","50","height","51","alt",""],[1,"copyright"],["href","http://html5up.net"]],template:function(r,i){1&r&&(U(0,"div",0),we(1,"img",1),U(2,"a",2),we(3,"img",3),H(),we(4,"span",4),U(5,"h1"),Q(6,"Hamilton EV pELUCHE tEAM\xa0"),H(),U(7,"p"),Q(8,"Equipo Mult-Disiplinario"),H(),U(9,"p"),Q(10,"Vehiculos Electricos\xa0"),H()(),U(11,"div",5)(12,"header",6)(13,"h2"),Q(14,"Dise\xf1o - manufactura\xa0 \xa0 \xa0 \xa0"),H(),we(15,"img",7),H(),U(16,"div",8)(17,"section",9)(18,"a",10),we(19,"img",11),H(),U(20,"div",12)(21,"h3"),Q(22,"Telemetria"),H(),U(23,"p"),Q(24," Sistemas avanzados de envio y proyeccion de datos en tiempo real. mediante una red de datos 4G. sensorica - mantenimiento perventivo.\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "),H()()(),U(25,"section",13)(26,"a",14),we(27,"img",15),H(),U(28,"div",12)(29,"h3"),Q(30,"Mecanica"),H(),U(31,"p"),Q(32," Dise\xf1os inspirados en aeronautic. estudios mecnaicos certificados CSWP\xa0 Dise\xf1os CAD CAE CAM subsistemas avanzados suspension direccion frenos.\xa0 \xa0 \xa0 \xa0 "),H()()(),U(33,"section",9)(34,"a",16),we(35,"img",17),H(),U(36,"div",12)(37,"h3"),Q(38,"Electronica"),H(),U(39,"h4")(40,"strong"),Q(41,"gestionar eficiente de la energ\xeda y\xa0 la mejor\xa0 del rendimiento del veh\xedculo. Estos sistemas incluyen controladores electr\xf3nicos de motor que garantizan una aceleraci\xf3n suave y una eficiencia energ\xe9tica \xf3ptima."),H()()()()(),U(42,"div",18),we(43,"canvas",19),U(44,"div",20),Q(45," Game Over"),we(46,"br"),Q(47,"Press SPACE to Restart "),H()(),U(48,"footer",6)(49,"h3"),Q(50,"Conoce mas de nosotros"),H(),U(51,"p"),Q(52,"Redes sociales\xa0"),H(),U(53,"p"),we(54,"img",21),U(55,"a",22),Q(56,"Tiktok"),H()(),U(57,"ul",23)(58,"li"),we(59,"img",24),U(60,"a",25),Q(61,"Instagram"),H()()()()(),U(62,"div",26)(63,"div",27)(64,"header",28)(65,"h2"),Q(66,"Contactanos\xa0"),H()(),U(67,"p"),Q(68,"\xa0"),H(),U(69,"form",29)(70,"div",30),we(71,"div",31)(72,"div",31),U(73,"div",32),Q(74," UNIVERSIDAD Militar Nueva Granada"),we(75,"img",33),Q(76,"\xa0Bogota Colombia Cra. 11 #101-80 "),H(),U(77,"div",32)(78,"ul",23)(79,"li"),we(80,"input",34),H()()()()(),U(81,"ul",35)(82,"a",36),we(83,"img",37),H(),we(84,"li")(85,"li"),H(),U(86,"ul",38)(87,"li"),Q(88,"Hamilton EV Design: "),U(89,"a",39),Q(90,"HTML5 UP"),H()()()()())},dependencies:[LP,SP]})}return n})();const NR=Ne(n=>!!n);let RTe=(()=>{class n{router;auth;constructor(t,r){this.router=t,this.auth=r}canActivate=(t,r)=>{const i=t.data.authGuardPipe||(()=>NR);return Cle(this.auth).pipe(Ya(1),i(t,r),Ne(s=>"boolean"==typeof s?s:Array.isArray(s)?this.router.createUrlTree(s):this.router.parseUrl(s)))};static \u0275fac=function(r){return new(r||n)(K(Xn),K(bh))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const OTe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:uIe},{path:"dashboard",component:xTe,canActivate:[RTe],data:{authGuardPipe:()=>(n=>LR(NR,Ne(e=>e||n)))(["/login"])}},{path:"general",component:PTe},{path:"**",redirectTo:"/login"}];let FTe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n});static#n=this.\u0275inj=Bn({imports:[m4.forRoot(OTe),m4]})}return n})(),VTe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=tr({type:n,bootstrap:[fve]});static#n=this.\u0275inj=Bn({imports:[mse(()=>_se(kme_firebase)),ble(()=>Tle()),ufe(()=>dfe()),Mme(()=>Nme()),fre,FTe,cIe]})}return n})();dre().bootstrapModule(VTe).catch(n=>console.error(n))}},ze=>{ze(ze.s=650)}]);